{"version":3,"file":"static/js/520.51e5f47b.chunk.js","mappings":"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","sources":["components/vacations/VacationCalendar.js","hooks/useDepartments.js","components/vacations/VacationExport.js","components/vacations/VacationForm.js","hooks/useVacations.js","utils/activityLogger.js","pages/Vacations.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport styled from \"styled-components\";\nimport { FRENCH_HOLIDAYS_2024, VACATION_TYPES } from \"../../config/constants\";\nimport { isHoliday, isWeekend } from \"../../utils/dateUtils\";\n\n// Fonction pour détecter le mode sombre du système ou du thème\nconst isDarkMode = () => {\n  // Vérifier d'abord le thème de l'application si disponible\n  if (document.documentElement.getAttribute(\"data-theme\") === \"dark\") {\n    return true;\n  }\n  // Sinon, vérifier les préférences du système\n  return (\n    window.matchMedia &&\n    window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n  );\n};\n\nconst CalendarContainer = styled.div`\n  background-color: ${({ theme }) =>\n    isDarkMode() ? \"#1F2937\" : theme.colors?.surface || \"white\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.medium || \"0.375rem\"};\n  box-shadow: ${({ theme }) =>\n    theme.shadows?.medium || \"0 4px 6px -1px rgba(0, 0, 0, 0.1)\"};\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n  width: 100%;\n  overflow-x: auto;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.md || \"768px\"}) {\n    padding: 1rem 0.5rem;\n    border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  }\n`;\n\nconst CalendarHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding: 0 0.5rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;\n\nconst MonthTitle = styled.h2`\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 1.25rem;\n  }\n`;\n\nconst NavigationButton = styled.button`\n  background-color: ${({ theme }) =>\n    isDarkMode() ? \"#6B7280\" : theme.colors?.background || \"#f8f9fa\"};\n  border: 1px solid\n    ${({ theme }) =>\n      isDarkMode() ? \"#6B7280\" : theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  padding: 0.5rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n\n  &:hover {\n    background-color: ${({ theme }) =>\n      isDarkMode() ? \"#4F46E5\" : theme.colors?.primary + \"22\" || \"#f5f5f5\"};\n    color: ${({ theme }) =>\n      isDarkMode() ? \"white\" : theme.colors?.primary || \"#111827\"};\n  }\n`;\n\nconst NavigationContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n`;\n\nconst CalendarGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 0.5rem;\n  min-width: min-content;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    gap: 0.25rem;\n  }\n`;\n\nconst DayHeader = styled.div`\n  text-align: center;\n  font-weight: 600;\n  padding: 0.5rem;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    padding: 0.25rem;\n    font-size: 0.75rem;\n  }\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.xs || \"400px\"}) {\n    font-size: 0.7rem;\n  }\n`;\n\nconst DayCell = styled.div`\n  position: relative;\n  min-height: 80px;\n  min-width: 80px;\n  padding: 0.5rem;\n  border: 1px solid\n    ${({ theme }) =>\n      isDarkMode() ? \"#6B7280\" : theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  background-color: ${({\n    isCurrentMonth,\n    isToday,\n    isWeekend,\n    isHoliday,\n    theme,\n  }) => {\n    if (isDarkMode()) {\n      if (isHoliday) return \"#3D1A1A\"; // Rouge foncé pour les jours fériés\n      if (isWeekend) return \"#2D3748\"; // Gris foncé pour les weekends\n      if (isToday) return \"#1A365D\"; // Bleu foncé pour aujourd'hui\n      return isCurrentMonth ? \"#2D3748\" : \"#1F2937\"; // Gris foncé pour le mois courant, plus foncé pour les autres mois\n    } else {\n      if (isHoliday) return \"#ffeeee\"; // Rouge clair pour les jours fériés\n      if (isWeekend) return theme.colors?.background || \"#f5f5f5\"; // Gris clair pour les weekends\n      if (isToday) return theme.colors?.primary + \"11\" || \"#e6f7ff\"; // Bleu clair pour aujourd'hui\n      return isCurrentMonth\n        ? theme.colors?.surface || \"white\"\n        : theme.colors?.background || \"#f9f9f9\"; // Blanc pour le mois courant, gris clair pour les autres mois\n    }\n  }};\n  color: ${({ isCurrentMonth, isToday, isWeekend, isHoliday, theme }) => {\n    if (isDarkMode()) {\n      if (isHoliday) return \"#F56565\"; // Rouge clair pour le texte des jours fériés\n      if (isWeekend) return \"#CBD5E0\"; // Gris clair pour le texte des weekends\n      return isCurrentMonth ? \"#F3F4F6\" : \"#A0AEC0\"; // Blanc pour le mois courant, gris pour les autres\n    } else {\n      if (isHoliday) return theme.colors?.error || \"#d32f2f\"; // Rouge pour le texte des jours fériés\n      if (isWeekend) return theme.colors?.text?.secondary || \"#757575\"; // Gris pour le texte des weekends\n      return isCurrentMonth\n        ? theme.colors?.text?.primary || \"#111827\"\n        : theme.colors?.text?.disabled || \"#aaa\"; // Noir pour le mois courant, gris pour les autres\n    }\n  }};\n  font-weight: ${({ isToday }) => (isToday ? \"600\" : \"normal\")};\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    min-height: 60px;\n    min-width: 60px;\n    padding: 0.25rem;\n  }\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.xs || \"400px\"}) {\n    min-height: 50px;\n    min-width: 40px;\n  }\n`;\n\nconst DayNumber = styled.div`\n  position: absolute;\n  top: 0.25rem;\n  right: 0.25rem;\n  font-size: 0.875rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 0.75rem;\n  }\n`;\n\nconst HolidayName = styled.div`\n  font-size: 0.75rem;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F56565\" : theme.colors?.error || \"#d32f2f\"};\n  font-weight: 500;\n  margin-top: 1.5rem;\n  text-align: center;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 0.65rem;\n    margin-top: 1rem;\n  }\n`;\n\nconst VacationList = styled.div`\n  margin-top: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  max-height: 60px;\n  overflow-y: auto;\n  scrollbar-width: thin;\n\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: ${({ theme }) =>\n      isDarkMode() ? \"#2D3748\" : theme.colors?.background || \"#f1f1f1\"};\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: ${({ theme }) =>\n      isDarkMode() ? \"#4A5568\" : theme.colors?.border || \"#888\"};\n  }\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    margin-top: 1rem;\n    max-height: 40px;\n  }\n`;\n\nconst VacationItem = styled.div`\n  font-size: 0.7rem;\n  padding: 0.15rem 0.3rem;\n  border-radius: 2px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  background-color: ${({ type, status }) => {\n    // Trouver la couleur correspondant au type\n    const vacationType = VACATION_TYPES.find((t) => t.value === type);\n    const baseColor = vacationType ? vacationType.color : \"#3498db\";\n\n    // Ajuster l'opacité en fonction du statut\n    switch (status) {\n      case \"approved\":\n        return baseColor;\n      case \"pending\":\n        return `${baseColor}99`; // 60% opacity\n      case \"rejected\":\n        return `${baseColor}66`; // 40% opacity\n      default:\n        return baseColor;\n    }\n  }};\n  color: white;\n  cursor: pointer;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 0.6rem;\n    padding: 0.1rem 0.2rem;\n  }\n`;\n\nconst Legend = styled.div`\n  margin-top: 1.5rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n  padding: 0 0.5rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    gap: 0.5rem;\n    margin-top: 1rem;\n    justify-content: center;\n  }\n`;\n\nconst LegendItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 0.75rem;\n    gap: 0.25rem;\n  }\n`;\n\nconst LegendColor = styled.div`\n  width: 1rem;\n  height: 1rem;\n  border-radius: 2px;\n  background-color: ${({ color, theme }) => {\n    if (typeof color === \"function\") {\n      return color(theme);\n    }\n    return color;\n  }};\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    width: 0.75rem;\n    height: 0.75rem;\n  }\n`;\n\nconst VacationCalendar = ({ vacations, onDayClick }) => {\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [calendarDays, setCalendarDays] = useState([]);\n\n  // Générer les jours du calendrier\n  useEffect(() => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n\n    // Premier jour du mois\n    const firstDayOfMonth = new Date(year, month, 1);\n    // Dernier jour du mois\n    const lastDayOfMonth = new Date(year, month + 1, 0);\n\n    // Jour de la semaine du premier jour (0 = dimanche, 1 = lundi, etc.)\n    let firstDayOfWeek = firstDayOfMonth.getDay();\n    // Ajuster pour commencer par lundi (0 = lundi, 6 = dimanche)\n    firstDayOfWeek = firstDayOfWeek === 0 ? 6 : firstDayOfWeek - 1;\n\n    // Nombre de jours du mois précédent à afficher\n    const daysFromPrevMonth = firstDayOfWeek;\n\n    // Nombre de jours du mois suivant à afficher pour compléter la grille (6 semaines = 42 jours)\n    const totalDaysToShow = 42;\n    const daysFromNextMonth =\n      totalDaysToShow - lastDayOfMonth.getDate() - daysFromPrevMonth;\n\n    // Générer les jours du mois précédent\n    const prevMonthLastDay = new Date(year, month, 0).getDate();\n    const prevMonthDays = Array.from({ length: daysFromPrevMonth }, (_, i) => {\n      const day = prevMonthLastDay - daysFromPrevMonth + i + 1;\n      const date = new Date(year, month - 1, day);\n      return {\n        date,\n        day,\n        isCurrentMonth: false,\n        isToday: isSameDay(date, new Date()),\n        isWeekend: isWeekend(date),\n        isHoliday: isHoliday(date),\n        holidayName: getHolidayName(date),\n      };\n    });\n\n    // Générer les jours du mois courant\n    const currentMonthDays = Array.from(\n      { length: lastDayOfMonth.getDate() },\n      (_, i) => {\n        const day = i + 1;\n        const date = new Date(year, month, day);\n        return {\n          date,\n          day,\n          isCurrentMonth: true,\n          isToday: isSameDay(date, new Date()),\n          isWeekend: isWeekend(date),\n          isHoliday: isHoliday(date),\n          holidayName: getHolidayName(date),\n        };\n      }\n    );\n\n    // Générer les jours du mois suivant\n    const nextMonthDays = Array.from({ length: daysFromNextMonth }, (_, i) => {\n      const day = i + 1;\n      const date = new Date(year, month + 1, day);\n      return {\n        date,\n        day,\n        isCurrentMonth: false,\n        isToday: isSameDay(date, new Date()),\n        isWeekend: isWeekend(date),\n        isHoliday: isHoliday(date),\n        holidayName: getHolidayName(date),\n      };\n    });\n\n    // Combiner tous les jours\n    setCalendarDays([...prevMonthDays, ...currentMonthDays, ...nextMonthDays]);\n  }, [currentDate]);\n\n  // Vérifier si une date est aujourd'hui\n  function isSameDay(date1, date2) {\n    return (\n      date1.getDate() === date2.getDate() &&\n      date1.getMonth() === date2.getMonth() &&\n      date1.getFullYear() === date2.getFullYear()\n    );\n  }\n\n  // Obtenir le nom du jour férié\n  function getHolidayName(date) {\n    const dateStr = `${date.getFullYear()}-${String(\n      date.getMonth() + 1\n    ).padStart(2, \"0\")}-${String(date.getDate()).padStart(2, \"0\")}`;\n    const holiday = FRENCH_HOLIDAYS_2024.find((h) => h.date === dateStr);\n    return holiday ? holiday.name : null;\n  }\n\n  // Naviguer au mois précédent\n  const goToPreviousMonth = () => {\n    setCurrentDate(\n      new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1)\n    );\n  };\n\n  // Naviguer au mois suivant\n  const goToNextMonth = () => {\n    setCurrentDate(\n      new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1)\n    );\n  };\n\n  // Naviguer au mois courant\n  const goToCurrentMonth = () => {\n    setCurrentDate(new Date());\n  };\n\n  // Formater le mois et l'année\n  const formatMonthYear = (date) => {\n    return date.toLocaleDateString(\"fr-FR\", {\n      month: \"long\",\n      year: \"numeric\",\n    });\n  };\n\n  // Obtenir les congés pour une date donnée\n  const getVacationsForDate = (date) => {\n    return vacations.filter((vacation) => {\n      const startDate = new Date(vacation.startDate);\n      const endDate = new Date(vacation.endDate);\n      return date >= startDate && date <= endDate;\n    });\n  };\n\n  // Jours de la semaine\n  const weekDays = [\"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\", \"Dim\"];\n\n  // Modifier les fonctions de couleur pour prendre en compte le thème\n  const getTodayColor = (theme) =>\n    isDarkMode() ? \"#1A365D\" : theme.colors?.primary + \"11\" || \"#e6f7ff\";\n  const getWeekendColor = (theme) =>\n    isDarkMode() ? \"#2D3748\" : theme.colors?.background || \"#f5f5f5\";\n  const getHolidayColor = (theme) => (isDarkMode() ? \"#3D1A1A\" : \"#ffeeee\");\n\n  return (\n    <CalendarContainer>\n      <CalendarHeader>\n        <MonthTitle>{formatMonthYear(currentDate)}</MonthTitle>\n        <NavigationContainer>\n          <NavigationButton onClick={goToPreviousMonth}>\n            <FaChevronLeft />\n          </NavigationButton>\n          <NavigationButton onClick={goToCurrentMonth}>\n            Aujourd'hui\n          </NavigationButton>\n          <NavigationButton onClick={goToNextMonth}>\n            <FaChevronRight />\n          </NavigationButton>\n        </NavigationContainer>\n      </CalendarHeader>\n\n      <CalendarGrid>\n        {weekDays.map((day) => (\n          <DayHeader key={day}>{day}</DayHeader>\n        ))}\n\n        {calendarDays.map((day, index) => {\n          const dayVacations = getVacationsForDate(day.date);\n          return (\n            <DayCell\n              key={index}\n              isCurrentMonth={day.isCurrentMonth}\n              isToday={day.isToday}\n              isWeekend={day.isWeekend}\n              isHoliday={day.isHoliday}\n            >\n              <DayNumber>{day.day}</DayNumber>\n\n              {day.holidayName && <HolidayName>{day.holidayName}</HolidayName>}\n\n              {dayVacations.length > 0 && (\n                <VacationList>\n                  {dayVacations.map((vacation, vIndex) => (\n                    <VacationItem\n                      key={vIndex}\n                      type={vacation.type}\n                      status={vacation.status}\n                      title={`${vacation.employeeName} - ${vacation.type} (${vacation.status})`}\n                    >\n                      {vacation.employeeName}\n                    </VacationItem>\n                  ))}\n                </VacationList>\n              )}\n            </DayCell>\n          );\n        })}\n      </CalendarGrid>\n\n      <Legend>\n        {/* Légende pour les types de congés */}\n        {VACATION_TYPES.map((type) => (\n          <LegendItem key={type.value}>\n            <LegendColor color={type.color} />\n            {type.label}\n          </LegendItem>\n        ))}\n\n        {/* Légende pour les jours spéciaux */}\n        <LegendItem>\n          <LegendColor color={getTodayColor} />\n          Aujourd'hui\n        </LegendItem>\n        <LegendItem>\n          <LegendColor color={getWeekendColor} />\n          Weekend\n        </LegendItem>\n        <LegendItem>\n          <LegendColor color={getHolidayColor} />\n          Jour férié\n        </LegendItem>\n      </Legend>\n    </CalendarContainer>\n  );\n};\n\nexport default VacationCalendar;\n","import { useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { API_ENDPOINTS } from \"../config/api\";\nimport useApi from \"./useApi\";\n\n/**\n * Hook personnalisé pour gérer les départements\n * Récupère les départements depuis la base de données via les employés\n */\nconst useDepartments = () => {\n  const [departments, setDepartments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const api = useApi();\n\n  /**\n   * Récupère tous les départements depuis les employés existants\n   */\n  const fetchDepartments = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(API_ENDPOINTS.DEPARTMENTS.BASE);\n\n      if (response.ok) {\n        setDepartments(response.data);\n        setError(null);\n      } else {\n        throw new Error(\n          response.data?.message || \"Erreur lors du chargement des départements\"\n        );\n      }\n    } catch (err) {\n      console.error(\"Erreur lors du chargement des départements:\", err);\n      setError(\"Erreur lors du chargement des départements\");\n      toast.error(\"Erreur lors du chargement des départements\");\n    } finally {\n      setLoading(false);\n    }\n  }, [api]);\n\n  const createDepartment = useCallback(\n    async (departmentData) => {\n      try {\n        const response = await api.post(\n          API_ENDPOINTS.DEPARTMENTS.BASE,\n          departmentData\n        );\n\n        if (response.ok) {\n          setDepartments((prev) => [...prev, response.data]);\n          toast.success(\"Département créé avec succès\");\n          return { success: true, department: response.data };\n        } else {\n          throw new Error(\n            response.data?.message ||\n              \"Erreur lors de la création du département\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors de la création du département:\", err);\n        toast.error(\"Erreur lors de la création du département\");\n        return { success: false, error: err.message };\n      }\n    },\n    [api]\n  );\n\n  const updateDepartment = useCallback(\n    async (id, departmentData) => {\n      try {\n        const response = await api.put(\n          API_ENDPOINTS.DEPARTMENTS.BY_ID(id),\n          departmentData\n        );\n\n        if (response.ok) {\n          setDepartments((prev) =>\n            prev.map((dept) =>\n              dept.id === id ? { ...dept, ...response.data } : dept\n            )\n          );\n          toast.success(\"Département mis à jour avec succès\");\n          return { success: true, department: response.data };\n        } else {\n          throw new Error(\n            response.data?.message ||\n              \"Erreur lors de la mise à jour du département\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors de la mise à jour du département:\", err);\n        toast.error(\"Erreur lors de la mise à jour du département\");\n        return { success: false, error: err.message };\n      }\n    },\n    [api]\n  );\n\n  const deleteDepartment = useCallback(\n    async (id) => {\n      try {\n        const response = await api.delete(API_ENDPOINTS.DEPARTMENTS.BY_ID(id));\n\n        if (response.ok) {\n          setDepartments((prev) => prev.filter((dept) => dept.id !== id));\n          toast.success(\"Département supprimé avec succès\");\n          return { success: true };\n        } else {\n          throw new Error(\n            response.data?.message ||\n              \"Erreur lors de la suppression du département\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors de la suppression du département:\", err);\n        toast.error(\"Erreur lors de la suppression du département\");\n        return { success: false, error: err.message };\n      }\n    },\n    [api]\n  );\n\n  /**\n   * Récupère un département par son ID\n   */\n  const getDepartmentById = useCallback(\n    (id) => {\n      return departments.find((dept) => dept.id === id) || null;\n    },\n    [departments]\n  );\n\n  /**\n   * Récupère un département par son nom\n   */\n  const getDepartmentByName = useCallback(\n    (name) => {\n      return departments.find((dept) => dept.name === name) || null;\n    },\n    [departments]\n  );\n\n  // Charger les départements au montage du composant\n  useEffect(() => {\n    fetchDepartments();\n  }, [fetchDepartments]);\n\n  return {\n    departments,\n    loading,\n    error,\n    fetchDepartments,\n    createDepartment,\n    updateDepartment,\n    deleteDepartment,\n    getDepartmentById,\n    getDepartmentByName,\n  };\n};\n\nexport default useDepartments;\n","import jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport { useCallback, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { FaFilePdf, FaFilter } from \"react-icons/fa\";\nimport styled from \"styled-components\";\nimport { VACATION_TYPES } from \"../../config/constants\";\nimport useDepartments from \"../../hooks/useDepartments\";\nimport useEmployees from \"../../hooks/useEmployees\";\n\nconst ExportContainer = styled.div`\n  margin-bottom: 2rem;\n`;\n\nconst ExportButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme }) => theme.colors?.primary || \"#4F46E5\"};\n  color: white;\n  border: none;\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: ${({ theme }) =>\n      `${theme.colors?.primary}dd` || \"#4338CA\"};\n  }\n`;\n\nconst FilterButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme, active }) =>\n    active ? theme.colors?.primary || \"#4F46E5\" : \"white\"};\n  color: ${({ active }) => (active ? \"white\" : \"#374151\")};\n  border: 1px solid\n    ${({ theme, active }) =>\n      active ? theme.colors?.primary || \"#4F46E5\" : \"#D1D5DB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-right: 1rem;\n\n  &:hover {\n    background-color: ${({ theme, active }) =>\n      active ? `${theme.colors?.primary}dd` || \"#4338CA\" : \"#F9FAFB\"};\n  }\n`;\n\nconst FilterContainer = styled.div`\n  margin-bottom: 1rem;\n  display: ${({ show }) => (show ? \"block\" : \"none\")};\n  background-color: ${({ theme }) => theme.colors?.surface || \"#F9FAFB\"};\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.medium || \"0.375rem\"};\n  padding: 1rem;\n`;\n\nconst FilterGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 1rem;\n`;\n\nconst FilterGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst FilterLabel = styled.label`\n  font-weight: 500;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n`;\n\nconst FilterSelect = styled.select`\n  padding: 0.5rem;\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 0.875rem;\n  background-color: white;\n`;\n\nconst FilterInput = styled.input`\n  padding: 0.5rem;\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 0.875rem;\n`;\n\nconst FilterActions = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n`;\n\nconst ButtonsContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst VacationExport = ({ vacations, isGlobal = false, employeeName = \"\" }) => {\n  const [showFilters, setShowFilters] = useState(false);\n  const [filters, setFilters] = useState({\n    employeeId: \"\",\n    departmentId: \"\",\n    startDate: \"\",\n    endDate: \"\",\n    status: \"\",\n  });\n\n  const { employees } = useEmployees();\n  const { departments } = useDepartments();\n\n  // Formater la date pour l'affichage\n  const formatDate = (dateString) => {\n    if (!dateString) return \"-\";\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"fr-FR\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n    });\n  };\n\n  // Formater la date pour le nom de fichier\n  const formatDateForFileName = (date) => {\n    return date\n      .toLocaleDateString(\"fr-FR\", {\n        day: \"2-digit\",\n        month: \"2-digit\",\n        year: \"numeric\",\n      })\n      .replace(/\\//g, \"-\");\n  };\n\n  // Traduire le statut en français\n  const translateStatus = (status) => {\n    switch (status) {\n      case \"approved\":\n        return \"Approuvé\";\n      case \"rejected\":\n        return \"Refusé\";\n      case \"pending\":\n        return \"En attente\";\n      default:\n        return status;\n    }\n  };\n\n  // Traduire le type de congé en français\n  const translateType = (type) => {\n    const vacationType = VACATION_TYPES.find((t) => t.value === type);\n    return vacationType ? vacationType.label : type;\n  };\n\n  // Filtrer les congés selon les critères\n  const filterVacations = useCallback(() => {\n    return vacations.filter((vacation) => {\n      // Filtre par employé\n      if (\n        filters.employeeId &&\n        vacation.employeeId !== parseInt(filters.employeeId)\n      ) {\n        return false;\n      }\n\n      // Filtre par département (nécessite que les données d'employé incluent le département)\n      if (\n        filters.departmentId &&\n        employees.find((e) => e.id === vacation.employeeId)?.departmentId !==\n          parseInt(filters.departmentId)\n      ) {\n        return false;\n      }\n\n      // Filtre par date de début\n      if (\n        filters.startDate &&\n        new Date(vacation.startDate) < new Date(filters.startDate)\n      ) {\n        return false;\n      }\n\n      // Filtre par date de fin\n      if (\n        filters.endDate &&\n        new Date(vacation.endDate) > new Date(filters.endDate)\n      ) {\n        return false;\n      }\n\n      // Filtre par statut\n      if (filters.status && vacation.status !== filters.status) {\n        return false;\n      }\n\n      return true;\n    });\n  }, [vacations, filters, employees]);\n\n  // Réinitialiser les filtres\n  const resetFilters = () => {\n    setFilters({\n      employeeId: \"\",\n      departmentId: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      status: \"\",\n    });\n  };\n\n  // Gérer les changements de filtres\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    setFilters((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  // Exporter les congés en PDF\n  const exportToPdf = useCallback(() => {\n    try {\n      // Filtrer les congés selon les critères\n      const filteredVacations = filterVacations();\n\n      if (filteredVacations.length === 0) {\n        toast.warning(\n          \"Aucune demande de congé ne correspond aux critères de filtrage\"\n        );\n        return;\n      }\n\n      // Créer un nouveau document PDF en mode paysage\n      const doc = new jsPDF({\n        orientation: \"landscape\",\n        unit: \"mm\",\n        format: \"a4\",\n      });\n\n      // Définir le titre du document\n      const title = isGlobal\n        ? \"Récapitulatif des congés - Tous les employés\"\n        : `Récapitulatif des congés - ${employeeName}`;\n\n      // Ajouter le titre\n      doc.setFontSize(18);\n      doc.text(title, doc.internal.pageSize.getWidth() / 2, 20, {\n        align: \"center\",\n      });\n\n      // Ajouter la date d'exportation\n      doc.setFontSize(10);\n      doc.text(\n        `Exporté le ${new Date().toLocaleDateString(\"fr-FR\", {\n          day: \"2-digit\",\n          month: \"2-digit\",\n          year: \"numeric\",\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n        })}`,\n        doc.internal.pageSize.getWidth() - 15,\n        10,\n        { align: \"right\" }\n      );\n\n      // Ajouter les informations de filtrage si des filtres sont appliqués\n      let startY = 30;\n      if (Object.values(filters).some((v) => v !== \"\")) {\n        let filterText = \"Filtres appliqués: \";\n        const filterParts = [];\n\n        if (filters.employeeId) {\n          const employee = employees.find(\n            (e) => e.id === parseInt(filters.employeeId)\n          );\n          if (employee) {\n            filterParts.push(\n              `Employé: ${employee.first_name} ${employee.last_name}`\n            );\n          }\n        }\n\n        if (filters.departmentId) {\n          const department = departments.find(\n            (d) => d.id === parseInt(filters.departmentId)\n          );\n          if (department) {\n            filterParts.push(`Département: ${department.name}`);\n          }\n        }\n\n        if (filters.startDate) {\n          filterParts.push(`Après le: ${formatDate(filters.startDate)}`);\n        }\n\n        if (filters.endDate) {\n          filterParts.push(`Avant le: ${formatDate(filters.endDate)}`);\n        }\n\n        if (filters.status) {\n          filterParts.push(`Statut: ${translateStatus(filters.status)}`);\n        }\n\n        filterText += filterParts.join(\", \");\n\n        doc.setFontSize(10);\n        doc.text(filterText, 15, 30);\n        startY = 35;\n      }\n\n      // Définir les colonnes du tableau\n      const columns = isGlobal\n        ? [\n            { header: \"Employé\", dataKey: \"employee\" },\n            { header: \"Type\", dataKey: \"type\" },\n            { header: \"Début\", dataKey: \"start\" },\n            { header: \"Fin\", dataKey: \"end\" },\n            { header: \"Durée\", dataKey: \"duration\" },\n            { header: \"Statut\", dataKey: \"status\" },\n            { header: \"Date d'approbation\", dataKey: \"approvalDate\" },\n            { header: \"Motif\", dataKey: \"reason\" },\n          ]\n        : [\n            { header: \"Type\", dataKey: \"type\" },\n            { header: \"Début\", dataKey: \"start\" },\n            { header: \"Fin\", dataKey: \"end\" },\n            { header: \"Durée\", dataKey: \"duration\" },\n            { header: \"Statut\", dataKey: \"status\" },\n            { header: \"Date d'approbation\", dataKey: \"approvalDate\" },\n            { header: \"Motif\", dataKey: \"reason\" },\n          ];\n\n      // Préparer les données\n      const data = filteredVacations.map((vacation) => {\n        let approvalDate = \"-\";\n        if (vacation.status === \"approved\" && vacation.approvedAt) {\n          approvalDate = `${formatDate(vacation.approvedAt)}`;\n        } else if (vacation.status === \"rejected\" && vacation.rejectedAt) {\n          approvalDate = `${formatDate(vacation.rejectedAt)}`;\n        }\n\n        const row = {\n          type: translateType(vacation.type),\n          start: formatDate(vacation.startDate),\n          end: formatDate(vacation.endDate),\n          duration: vacation.duration,\n          status: translateStatus(vacation.status),\n          approvalDate: approvalDate,\n          reason: vacation.reason || \"-\",\n        };\n\n        if (isGlobal) {\n          row.employee = vacation.employeeName || \"Inconnu\";\n        }\n\n        return row;\n      });\n\n      // Ajouter le tableau\n      autoTable(doc, {\n        columns: columns,\n        body: data,\n        startY: 60,\n        styles: {\n          fontSize: 10,\n          cellPadding: 3,\n        },\n        headStyles: {\n          fillColor: [41, 128, 185],\n          textColor: 255,\n          fontStyle: \"bold\",\n        },\n        alternateRowStyles: {\n          fillColor: [240, 240, 240],\n        },\n      });\n\n      // Ajouter les numéros de page\n      const pageCount = doc.internal.getNumberOfPages();\n      for (let i = 1; i <= pageCount; i++) {\n        doc.setPage(i);\n        doc.setFontSize(10);\n        doc.text(\n          `Page ${i} sur ${pageCount}`,\n          doc.internal.pageSize.width / 2,\n          doc.internal.pageSize.height - 10,\n          { align: \"center\" }\n        );\n      }\n\n      // Sauvegarder le PDF\n      const fileName = isGlobal\n        ? `demandes_conges_${formatDateForFileName(new Date())}.pdf`\n        : `demandes_conges_${employeeName || \"Employe\"}_${formatDateForFileName(\n            new Date()\n          )}.pdf`;\n\n      doc.save(fileName);\n\n      toast.success(\"Export PDF réussi\");\n    } catch (error) {\n      console.error(\"Erreur lors de l'export PDF:\", error);\n      toast.error(\"Erreur lors de l'export PDF: \" + error.message);\n    }\n  }, [\n    isGlobal,\n    employeeName,\n    filterVacations,\n    filters,\n    employees,\n    departments,\n  ]);\n\n  return (\n    <ExportContainer>\n      <ButtonsContainer>\n        <FilterButton\n          onClick={() => setShowFilters(!showFilters)}\n          active={showFilters}\n        >\n          <FaFilter /> Filtres\n        </FilterButton>\n\n        <ExportButton onClick={exportToPdf}>\n          <FaFilePdf />\n          Exporter en PDF\n        </ExportButton>\n      </ButtonsContainer>\n\n      <FilterContainer show={showFilters}>\n        <FilterGrid>\n          {isGlobal && (\n            <>\n              <FilterGroup>\n                <FilterLabel>Employé</FilterLabel>\n                <FilterSelect\n                  name=\"employeeId\"\n                  value={filters.employeeId}\n                  onChange={handleFilterChange}\n                >\n                  <option value=\"\">Tous les employés</option>\n                  {employees.map((employee) => (\n                    <option key={employee.id} value={employee.id}>\n                      {employee.first_name} {employee.last_name}\n                    </option>\n                  ))}\n                </FilterSelect>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel>Département</FilterLabel>\n                <FilterSelect\n                  name=\"departmentId\"\n                  value={filters.departmentId}\n                  onChange={handleFilterChange}\n                >\n                  <option value=\"\">Tous les départements</option>\n                  {departments.map((department) => (\n                    <option key={department.id} value={department.id}>\n                      {department.name}\n                    </option>\n                  ))}\n                </FilterSelect>\n              </FilterGroup>\n            </>\n          )}\n\n          <FilterGroup>\n            <FilterLabel>Date de début (après)</FilterLabel>\n            <FilterInput\n              type=\"date\"\n              name=\"startDate\"\n              value={filters.startDate}\n              onChange={handleFilterChange}\n            />\n          </FilterGroup>\n\n          <FilterGroup>\n            <FilterLabel>Date de fin (avant)</FilterLabel>\n            <FilterInput\n              type=\"date\"\n              name=\"endDate\"\n              value={filters.endDate}\n              onChange={handleFilterChange}\n            />\n          </FilterGroup>\n\n          <FilterGroup>\n            <FilterLabel>Statut</FilterLabel>\n            <FilterSelect\n              name=\"status\"\n              value={filters.status}\n              onChange={handleFilterChange}\n            >\n              <option value=\"\">Tous les statuts</option>\n              <option value=\"pending\">En attente</option>\n              <option value=\"approved\">Approuvé</option>\n              <option value=\"rejected\">Refusé</option>\n            </FilterSelect>\n          </FilterGroup>\n        </FilterGrid>\n\n        <FilterActions>\n          <ExportButton\n            onClick={resetFilters}\n            style={{ backgroundColor: \"#6B7280\" }}\n          >\n            Réinitialiser\n          </ExportButton>\n        </FilterActions>\n      </FilterContainer>\n    </ExportContainer>\n  );\n};\n\nexport default VacationExport;\n","import { memo, useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport styled from \"styled-components\";\nimport { VACATION_TYPES } from \"../../config/constants\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport useEmployees from \"../../hooks/useEmployees\";\nimport { getWorkingDaysCount } from \"../../utils/dateUtils\";\n\nconst FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst Label = styled.label`\n  font-weight: 500;\n  color: ${({ theme }) => theme.colors.text.primary};\n`;\n\nconst Input = styled.input`\n  padding: 0.75rem;\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-size: 1rem;\n  background-color: ${({ theme }) => theme.colors.surface};\n  color: ${({ theme }) => theme.colors.text.primary};\n\n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors.primary};\n    box-shadow: 0 0 0 2px ${({ theme }) => `${theme.colors.primary}33`};\n  }\n`;\n\nconst Select = styled.select`\n  padding: 0.75rem;\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-size: 1rem;\n  background-color: ${({ theme }) => theme.colors.surface};\n  color: ${({ theme }) => theme.colors.text.primary};\n\n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors.primary};\n    box-shadow: 0 0 0 2px ${({ theme }) => `${theme.colors.primary}33`};\n  }\n`;\n\nconst Textarea = styled.textarea`\n  padding: 0.75rem;\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-size: 1rem;\n  background-color: ${({ theme }) => theme.colors.surface};\n  color: ${({ theme }) => theme.colors.text.primary};\n  min-height: 100px;\n  resize: vertical;\n\n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors.primary};\n    box-shadow: 0 0 0 2px ${({ theme }) => `${theme.colors.primary}33`};\n  }\n`;\n\nconst FileInput = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst FileInputLabel = styled.label`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme }) => theme.colors.background.secondary};\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  max-width: fit-content;\n\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.background.hover};\n  }\n`;\n\nconst HiddenFileInput = styled.input`\n  display: none;\n`;\n\nconst FileName = styled.div`\n  font-size: 0.875rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin-top: 0.5rem;\n`;\n\nconst ErrorMessage = styled.div`\n  color: ${({ theme }) => theme.colors.error};\n  font-size: 0.875rem;\n  margin-top: 0.25rem;\n`;\n\nconst FormActions = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 1rem;\n`;\n\nconst Button = styled.button`\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme, variant }) =>\n    variant === \"primary\"\n      ? theme.colors.primary\n      : variant === \"error\"\n      ? theme.colors.error\n      : \"transparent\"};\n  color: ${({ theme, variant }) =>\n    variant === \"primary\" || variant === \"error\"\n      ? \"white\"\n      : theme.colors.text.primary};\n  border: ${({ theme, variant }) =>\n    variant === \"outline\" ? `1px solid ${theme.colors.border}` : \"none\"};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: ${({ theme, variant }) =>\n      variant === \"primary\"\n        ? `${theme.colors.primary}dd`\n        : variant === \"error\"\n        ? `${theme.colors.error}dd`\n        : `${theme.colors.border}33`};\n  }\n`;\n\nconst DaysCount = styled.div`\n  background-color: ${({ theme }) => `${theme.colors.info}22`};\n  color: ${({ theme }) => theme.colors.info};\n  padding: 1rem;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  margin-top: 1rem;\n  font-size: 0.875rem;\n  border-left: 3px solid ${({ theme }) => theme.colors.info};\n`;\n\nconst QuotaWarning = styled.div`\n  background-color: ${({ theme }) => `${theme.colors.warning}22`};\n  color: ${({ theme }) => theme.colors.warning};\n  padding: 1rem;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  margin-top: 1rem;\n  font-size: 0.875rem;\n  border-left: 3px solid ${({ theme }) => theme.colors.warning};\n`;\n\nconst VacationForm = ({ vacation, onSubmit, onCancel, currentUser }) => {\n  const { user } = useAuth();\n  const { employees, loading: loadingEmployees } = useEmployees();\n  const [formData, setFormData] = useState({\n    employeeId: vacation?.employeeId || user?.id || \"\",\n    type: vacation?.type || \"paid\",\n    startDate: vacation?.startDate || \"\",\n    endDate: vacation?.endDate || \"\",\n    reason: vacation?.reason || \"\",\n    attachment: vacation?.attachment || null,\n  });\n  const [errors, setErrors] = useState({});\n  const [fileName, setFileName] = useState(\"\");\n  const [daysCount, setDaysCount] = useState(0);\n  const [quotaExceeded, setQuotaExceeded] = useState(false);\n\n  // Calculer le nombre de jours entre les dates sélectionnées\n  useEffect(() => {\n    if (formData.startDate && formData.endDate) {\n      const start = new Date(formData.startDate);\n      const end = new Date(formData.endDate);\n\n      // Vérifier que la date de fin est après la date de début\n      if (end < start) {\n        setErrors((prev) => ({\n          ...prev,\n          endDate: \"La date de fin doit être après la date de début\",\n        }));\n        setDaysCount(0);\n        return;\n      }\n\n      // Calculer le nombre de jours ouvrés\n      const count = getWorkingDaysCount(start, end);\n      setDaysCount(count);\n      setErrors((prev) => ({ ...prev, endDate: null }));\n\n      // Vérifier si le quota est dépassé (uniquement pour les congés payés et RTT)\n      if (formData.type === \"paid\" || formData.type === \"rtt\") {\n        const vacationType = VACATION_TYPES.find(\n          (t) => t.value === formData.type\n        );\n        const defaultQuota = vacationType ? vacationType.defaultQuota : 0;\n\n        // TODO: Récupérer le quota restant de l'employé depuis l'API\n        // Pour l'instant, on utilise le quota par défaut\n        const remainingQuota = defaultQuota;\n\n        setQuotaExceeded(count > remainingQuota);\n      } else {\n        setQuotaExceeded(false);\n      }\n    } else {\n      setDaysCount(0);\n      setQuotaExceeded(false);\n    }\n  }, [formData.startDate, formData.endDate, formData.type]);\n\n  const handleChange = useCallback(\n    (e) => {\n      const { name, value } = e.target;\n      setFormData((prev) => ({\n        ...prev,\n        [name]: value,\n      }));\n\n      // Effacer l'erreur lorsque l'utilisateur modifie le champ\n      if (errors[name]) {\n        setErrors((prev) => ({\n          ...prev,\n          [name]: null,\n        }));\n      }\n    },\n    [errors]\n  );\n\n  const handleFileChange = useCallback((e) => {\n    const file = e.target.files[0];\n    if (file) {\n      // Vérifier la taille du fichier (max 5MB)\n      if (file.size > 5 * 1024 * 1024) {\n        toast.error(\"Le fichier est trop volumineux (max 5MB)\");\n        return;\n      }\n\n      setFileName(file.name);\n      setFormData((prev) => ({\n        ...prev,\n        attachment: file,\n      }));\n    }\n  }, []);\n\n  // Valider le formulaire avant soumission\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Vérifier l'employé\n    if (!formData.employeeId) {\n      newErrors.employeeId = \"Veuillez sélectionner un employé\";\n    }\n\n    // Vérifier le type de congé\n    if (!formData.type) {\n      newErrors.type = \"Veuillez sélectionner un type de congé\";\n    }\n\n    // Vérifier les dates\n    if (!formData.startDate) {\n      newErrors.startDate = \"La date de début est requise\";\n    } else {\n      // Vérifier que la date est valide\n      const startDate = new Date(formData.startDate);\n      if (isNaN(startDate.getTime())) {\n        newErrors.startDate = \"Date de début invalide\";\n      }\n    }\n\n    if (!formData.endDate) {\n      newErrors.endDate = \"La date de fin est requise\";\n    } else {\n      // Vérifier que la date est valide\n      const endDate = new Date(formData.endDate);\n      if (isNaN(endDate.getTime())) {\n        newErrors.endDate = \"Date de fin invalide\";\n      }\n    }\n\n    // Vérifier que la date de fin est après la date de début\n    if (formData.startDate && formData.endDate) {\n      const startDate = new Date(formData.startDate);\n      const endDate = new Date(formData.endDate);\n\n      if (\n        !isNaN(startDate.getTime()) &&\n        !isNaN(endDate.getTime()) &&\n        endDate < startDate\n      ) {\n        newErrors.endDate = \"La date de fin doit être après la date de début\";\n      }\n    }\n\n    // Vérifier la raison si c'est un congé sans solde\n    if (formData.type === \"unpaid\" && !formData.reason) {\n      newErrors.reason = \"Une raison est requise pour les congés sans solde\";\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Gérer la soumission du formulaire\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(\n      \"Tentative de soumission du formulaire avec les données:\",\n      formData\n    );\n\n    // Valider le formulaire\n    if (!validateForm()) {\n      console.error(\"Validation du formulaire échouée:\", errors);\n      return;\n    }\n\n    // Vérifier que l'utilisateur est authentifié\n    if (!currentUser) {\n      console.error(\"Erreur: utilisateur non authentifié\");\n      toast.error(\"Vous devez être connecté pour soumettre ce formulaire\");\n      return;\n    }\n\n    // Formater les données pour l'API\n    const formattedData = {\n      ...formData,\n      // Convertir l'ID en nombre si nécessaire\n      employeeId: formData.employeeId ? String(formData.employeeId) : \"\",\n      // S'assurer que les dates sont au format YYYY-MM-DD\n      startDate: formData.startDate,\n      endDate: formData.endDate,\n      // S'assurer que le type est une chaîne valide\n      type: formData.type || \"paid\",\n      // S'assurer que la raison est une chaîne\n      reason: formData.reason || \"\",\n    };\n\n    console.log(\"Données soumises:\", formattedData);\n    onSubmit(formattedData);\n  };\n\n  return (\n    <FormContainer onSubmit={handleSubmit}>\n      {user?.role !== \"employee\" && (\n        <FormGroup>\n          <Label htmlFor=\"employeeId\">Employé</Label>\n          <Select\n            id=\"employeeId\"\n            name=\"employeeId\"\n            value={formData.employeeId}\n            onChange={handleChange}\n            disabled={loadingEmployees}\n          >\n            <option value=\"\">Sélectionner un employé</option>\n            {employees.map((employee) => (\n              <option key={employee.id} value={employee.id}>\n                {employee.first_name} {employee.last_name}\n              </option>\n            ))}\n          </Select>\n          {errors.employeeId && (\n            <ErrorMessage>{errors.employeeId}</ErrorMessage>\n          )}\n        </FormGroup>\n      )}\n\n      <FormGroup>\n        <Label htmlFor=\"type\">Type de congé</Label>\n        <Select\n          id=\"type\"\n          name=\"type\"\n          value={formData.type}\n          onChange={handleChange}\n        >\n          {VACATION_TYPES.map((type) => (\n            <option key={type.value} value={type.value}>\n              {type.label}\n            </option>\n          ))}\n        </Select>\n        {errors.type && <ErrorMessage>{errors.type}</ErrorMessage>}\n      </FormGroup>\n\n      <FormGroup>\n        <Label htmlFor=\"startDate\">Date de début</Label>\n        <Input\n          id=\"startDate\"\n          name=\"startDate\"\n          type=\"date\"\n          value={formData.startDate}\n          onChange={handleChange}\n        />\n        {errors.startDate && <ErrorMessage>{errors.startDate}</ErrorMessage>}\n      </FormGroup>\n\n      <FormGroup>\n        <Label htmlFor=\"endDate\">Date de fin</Label>\n        <Input\n          id=\"endDate\"\n          name=\"endDate\"\n          type=\"date\"\n          value={formData.endDate}\n          onChange={handleChange}\n        />\n        {errors.endDate && <ErrorMessage>{errors.endDate}</ErrorMessage>}\n      </FormGroup>\n\n      {daysCount > 0 && (\n        <DaysCount>\n          Cette demande représente{\" \"}\n          <strong>\n            {daysCount} jour{daysCount > 1 ? \"s\" : \"\"} ouvré\n            {daysCount > 1 ? \"s\" : \"\"}\n          </strong>{\" \"}\n          de congé.\n        </DaysCount>\n      )}\n\n      {quotaExceeded && (\n        <QuotaWarning>\n          Attention : cette demande dépasse votre quota de congés disponibles.\n        </QuotaWarning>\n      )}\n\n      <FormGroup>\n        <Label htmlFor=\"reason\">Motif (facultatif)</Label>\n        <Textarea\n          id=\"reason\"\n          name=\"reason\"\n          value={formData.reason}\n          onChange={handleChange}\n          placeholder=\"Précisez le motif de votre demande de congé...\"\n        />\n      </FormGroup>\n\n      <FormGroup>\n        <Label>\n          Pièce jointe (facultatif\n          {formData.type === \"sick\" ? \" mais recommandé\" : \"\"})\n        </Label>\n        <FileInput>\n          <FileInputLabel htmlFor=\"attachment\">\n            Choisir un fichier\n          </FileInputLabel>\n          <HiddenFileInput\n            id=\"attachment\"\n            name=\"attachment\"\n            type=\"file\"\n            onChange={handleFileChange}\n            accept=\".pdf,.jpg,.jpeg,.png\"\n          />\n          {fileName && <FileName>{fileName}</FileName>}\n          {errors.attachment && (\n            <ErrorMessage>{errors.attachment}</ErrorMessage>\n          )}\n        </FileInput>\n      </FormGroup>\n\n      <FormActions>\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n          Annuler\n        </Button>\n        <Button type=\"submit\" variant=\"primary\">\n          {vacation ? \"Modifier\" : \"Soumettre\"}\n        </Button>\n      </FormActions>\n    </FormContainer>\n  );\n};\n\nexport default memo(VacationForm);\n","import { useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { API_ENDPOINTS } from \"../config/api\";\nimport useApi from \"./useApi\";\nimport useWebSocket from \"./useWebSocket\";\n\n/**\n * Hook personnalisé pour gérer les congés\n */\nconst useVacations = () => {\n  const [vacations, setVacations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const api = useApi();\n\n  // Intégration WebSocket pour les mises à jour en temps réel\n  const { socket, isConnected, sendMessage, notifyDataChange, fallbackMode } =\n    useWebSocket();\n\n  // Écouter les mises à jour WebSocket\n  useEffect(() => {\n    if (socket && isConnected) {\n      // Fonction pour traiter les messages WebSocket\n      const handleWebSocketMessage = (event) => {\n        try {\n          const data = JSON.parse(event.data);\n\n          // Si le message concerne une mise à jour de congé\n          if (data.type === \"VACATION_UPDATED\" && data.vacation) {\n            setVacations((prevVacations) => {\n              // Vérifier si le congé existe déjà\n              const exists = prevVacations.some(\n                (vacation) => vacation.id === data.vacation.id\n              );\n\n              if (exists) {\n                // Mettre à jour le congé existant\n                return prevVacations.map((vacation) =>\n                  vacation.id === data.vacation.id ? data.vacation : vacation\n                );\n              } else {\n                // Ajouter le nouveau congé\n                return [...prevVacations, data.vacation];\n              }\n            });\n\n            toast.info(\"Demande de congé mise à jour en temps réel\");\n          }\n\n          // Si le message concerne une suppression de congé\n          if (data.type === \"VACATION_DELETED\" && data.vacationId) {\n            setVacations((prevVacations) =>\n              prevVacations.filter(\n                (vacation) => vacation.id !== data.vacationId\n              )\n            );\n\n            toast.info(\"Demande de congé supprimée en temps réel\");\n          }\n        } catch (error) {\n          console.error(\n            \"Erreur lors du traitement du message WebSocket:\",\n            error\n          );\n        }\n      };\n\n      // Ajouter l'écouteur d'événements\n      socket.addEventListener(\"message\", handleWebSocketMessage);\n\n      // Nettoyer l'écouteur lors du démontage\n      return () => {\n        socket.removeEventListener(\"message\", handleWebSocketMessage);\n      };\n    }\n  }, [socket, isConnected]);\n\n  /**\n   * Fonction utilitaire pour réessayer une requête API\n   * @param {Function} apiCall - Fonction d'appel API à réessayer\n   * @param {number} maxRetries - Nombre maximum de tentatives\n   * @param {number} delay - Délai entre les tentatives (en ms)\n   * @returns {Promise} - Résultat de l'appel API\n   */\n  const retryApiCall = useCallback(\n    async (apiCall, maxRetries = 3, delay = 1000) => {\n      let lastError = null;\n      let retryCount = 0;\n\n      while (retryCount < maxRetries) {\n        try {\n          return await apiCall();\n        } catch (err) {\n          lastError = err;\n          retryCount++;\n\n          // Si c'est la dernière tentative, ne pas attendre\n          if (retryCount < maxRetries) {\n            // Utiliser un délai exponentiel\n            const retryDelay = delay * Math.pow(2, retryCount - 1);\n            console.log(\n              `Tentative ${retryCount}/${maxRetries} échouée, nouvelle tentative dans ${retryDelay}ms`\n            );\n            await new Promise((resolve) => setTimeout(resolve, retryDelay));\n          }\n        }\n      }\n\n      // Si toutes les tentatives ont échoué, lancer l'erreur\n      throw lastError;\n    },\n    []\n  );\n\n  // Fonction pour charger les congés\n  const fetchVacations = useCallback(async () => {\n    let retryCount = 0;\n    const maxRetries = 3;\n\n    const loadVacations = async () => {\n      if (retryCount >= maxRetries) {\n        setError(\n          \"Erreur lors du chargement des congés après plusieurs tentatives\"\n        );\n        setLoading(false);\n        return;\n      }\n\n      try {\n        console.log(\"Chargement des congés...\");\n        const token = localStorage.getItem(\"token\");\n\n        if (!token) {\n          console.error(\"Token d'authentification manquant\");\n          setError(\"Vous devez être connecté pour accéder à ces données\");\n          setLoading(false);\n          return;\n        }\n\n        const data = await api.get(API_ENDPOINTS.VACATIONS);\n        console.log(\"Données des congés reçues:\", data);\n\n        if (Array.isArray(data)) {\n          setVacations(data);\n          setError(null);\n        } else {\n          console.error(\"Format de données invalide:\", data);\n          setError(\"Format de données invalide\");\n        }\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des congés:\", err);\n        setError(err.message || \"Erreur lors du chargement des congés\");\n\n        // Réessayer avec un délai exponentiel\n        retryCount++;\n        setTimeout(loadVacations, 1000 * Math.pow(2, retryCount));\n      }\n    };\n\n    setLoading(true);\n    setError(null);\n    await loadVacations();\n  }, [api]);\n\n  // Charger les congés au montage du composant\n  useEffect(() => {\n    fetchVacations();\n  }, [fetchVacations]);\n\n  /**\n   * Vérifie si la base de données est accessible\n   */\n  const checkDatabaseConnection = useCallback(async () => {\n    try {\n      // Faire une requête simple pour vérifier la connexion\n      const response = await api.get(API_ENDPOINTS.VACATIONS);\n\n      // Si la requête échoue avec une erreur de connexion, la base de données n'est pas accessible\n      if (!response.ok && (response.status === 0 || response.status >= 500)) {\n        console.error(\"La base de données semble inaccessible:\", response);\n        return {\n          connected: false,\n          error: \"La connexion à la base de données a échoué\",\n        };\n      }\n\n      return { connected: true };\n    } catch (error) {\n      console.error(\n        \"Erreur lors de la vérification de la connexion à la base de données:\",\n        error\n      );\n      return {\n        connected: false,\n        error:\n          \"Erreur lors de la vérification de la connexion à la base de données\",\n      };\n    }\n  }, [api]);\n\n  /**\n   * Crée une nouvelle demande de congé\n   */\n  const createVacation = useCallback(\n    async (vacationData) => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // Vérifier que les données essentielles sont présentes\n        if (!vacationData.employeeId) {\n          toast.error(\"L'identifiant de l'employé est requis\");\n          setLoading(false);\n          return {\n            success: false,\n            error: \"L'identifiant de l'employé est requis\",\n          };\n        }\n\n        if (!vacationData.startDate || !vacationData.endDate) {\n          toast.error(\"Les dates de début et de fin sont requises\");\n          setLoading(false);\n          return {\n            success: false,\n            error: \"Les dates de début et de fin sont requises\",\n          };\n        }\n\n        // Convertir les dates en objets Date\n        const startDate = new Date(vacationData.startDate);\n        const endDate = new Date(vacationData.endDate);\n\n        // Vérifier que les dates sont valides\n        if (isNaN(startDate.getTime()) || isNaN(endDate.getTime())) {\n          toast.error(\"Les dates fournies ne sont pas valides\");\n          setLoading(false);\n          return {\n            success: false,\n            error: \"Les dates fournies ne sont pas valides\",\n          };\n        }\n\n        // Vérifier que la date de début est avant la date de fin\n        if (startDate > endDate) {\n          toast.error(\"La date de début doit être antérieure à la date de fin\");\n          setLoading(false);\n          return {\n            success: false,\n            error: \"La date de début doit être antérieure à la date de fin\",\n          };\n        }\n\n        // Formater les données pour l'API - utiliser directement snake_case pour éviter les conversions\n        const formattedData = {\n          employee_id: String(vacationData.employeeId),\n          type: vacationData.type || \"paid\",\n          start_date: startDate.toISOString().split(\"T\")[0],\n          end_date: endDate.toISOString().split(\"T\")[0],\n          reason: vacationData.reason || \"\",\n          status: \"pending\",\n          // Supprimer les champs qui n'existent pas dans la table\n          // approved_by et approved_at ne sont pas dans la table\n          // rejected_by et rejected_at ne sont pas dans la table\n        };\n\n        // Vérifier que les données sont valides pour le backend\n        if (!formattedData.employee_id) {\n          console.error(\"Erreur: employee_id manquant après formatage\");\n          toast.error(\"L'identifiant de l'employé est requis\");\n          return {\n            success: false,\n            error: \"Erreur de formatage des données: employee_id manquant\",\n          };\n        }\n\n        // Vérifier que les dates sont au bon format\n        if (!formattedData.start_date || !formattedData.end_date) {\n          console.error(\"Erreur: dates mal formatées\", {\n            start_date: formattedData.start_date,\n            end_date: formattedData.end_date,\n          });\n          toast.error(\"Les dates de début et de fin sont requises\");\n          return {\n            success: false,\n            error: \"Erreur de formatage des dates\",\n          };\n        }\n\n        // Vérifier que le type est valide (paid, unpaid, sick, other)\n        const validTypes = [\"paid\", \"unpaid\", \"sick\", \"other\"];\n        if (!validTypes.includes(formattedData.type)) {\n          console.warn(\n            `Type de congé non standard: ${formattedData.type}, utilisation de 'paid' par défaut`\n          );\n          formattedData.type = \"paid\";\n        }\n\n        console.log(\"Données formatées pour l'API:\", formattedData);\n\n        // Récupérer le token d'authentification\n        const token = localStorage.getItem(\"token\");\n        console.log(\"Token d'authentification présent:\", !!token);\n\n        // Appel API avec retry en cas d'échec\n        const apiCall = async () => {\n          try {\n            const response = await api.post(\n              API_ENDPOINTS.VACATIONS,\n              formattedData\n            );\n            console.log(\"Réponse de l'API:\", response);\n\n            // Mettre à jour l'état local\n            setVacations((prevVacations) => [...prevVacations, response]);\n\n            // Notifier le succès\n            toast.success(\"Demande de congé créée avec succès\");\n\n            // Envoyer une notification WebSocket\n            if (socket && socket.readyState === WebSocket.OPEN) {\n              socket.send(\n                JSON.stringify({\n                  type: \"VACATION_CREATED\",\n                  data: response,\n                })\n              );\n            }\n\n            return { success: true, data: response };\n          } catch (error) {\n            console.error(\n              \"Erreur lors de la création de la demande de congé:\",\n              error\n            );\n\n            // Afficher un message d'erreur plus précis si disponible\n            const errorMessage =\n              error.response?.data?.message ||\n              error.response?.data?.error ||\n              error.message ||\n              \"Erreur lors de la création de la demande de congé\";\n\n            toast.error(errorMessage);\n            setError(errorMessage);\n\n            throw error;\n          }\n        };\n\n        // Exécuter l'appel API avec retry\n        const result = await retryApiCall(apiCall, 2, 1000);\n        setLoading(false);\n        return result;\n      } catch (error) {\n        console.error(\n          \"Erreur finale lors de la création de la demande de congé:\",\n          error\n        );\n        setLoading(false);\n        setError(\n          error.message || \"Erreur lors de la création de la demande de congé\"\n        );\n        return { success: false, error: error.message };\n      }\n    },\n    [\n      api,\n      retryApiCall,\n      socket,\n      isConnected,\n      notifyDataChange,\n      fallbackMode,\n      checkDatabaseConnection,\n    ]\n  );\n\n  /**\n   * Met à jour une demande de congé existante\n   */\n  const updateVacation = useCallback(\n    async (id, vacationData) => {\n      try {\n        const apiCall = async () => {\n          const response = await api.put(\n            `${API_ENDPOINTS.VACATIONS}/${id}`,\n            vacationData\n          );\n\n          if (!response.ok) {\n            throw new Error(\n              response.data?.message ||\n                \"Erreur lors de la mise à jour de la demande de congé\"\n            );\n          }\n\n          return response.data;\n        };\n\n        // Utiliser la fonction de retry\n        const data = await retryApiCall(apiCall);\n\n        setVacations((prev) =>\n          prev.map((vacation) => (vacation.id === id ? data : vacation))\n        );\n\n        // Notifier les autres clients via WebSocket\n        if (!fallbackMode && isConnected) {\n          notifyDataChange(\"vacation\", \"update\", id);\n        }\n\n        toast.success(\"Demande de congé mise à jour avec succès\");\n        return { success: true, vacation: data };\n      } catch (err) {\n        console.error(\n          \"Erreur lors de la mise à jour de la demande de congé:\",\n          err\n        );\n        const errorMessage = err.message || \"Erreur inconnue\";\n        toast.error(\n          `Erreur lors de la mise à jour de la demande de congé: ${errorMessage}`\n        );\n        return { success: false, error: errorMessage };\n      }\n    },\n    [api, retryApiCall, fallbackMode, isConnected, notifyDataChange]\n  );\n\n  /**\n   * Supprime une demande de congé\n   */\n  const deleteVacation = useCallback(\n    async (id) => {\n      try {\n        const apiCall = async () => {\n          const response = await api.delete(`${API_ENDPOINTS.VACATIONS}/${id}`);\n\n          if (!response.ok) {\n            throw new Error(\n              response.data?.message ||\n                \"Erreur lors de la suppression de la demande de congé\"\n            );\n          }\n\n          return response.data;\n        };\n\n        // Utiliser la fonction de retry\n        await retryApiCall(apiCall);\n\n        setVacations((prev) => prev.filter((vacation) => vacation.id !== id));\n\n        // Notifier les autres clients via WebSocket\n        if (!fallbackMode && isConnected) {\n          notifyDataChange(\"vacation\", \"delete\", id);\n        }\n\n        toast.success(\"Demande de congé supprimée avec succès\");\n        return { success: true };\n      } catch (err) {\n        console.error(\n          \"Erreur lors de la suppression de la demande de congé:\",\n          err\n        );\n        const errorMessage = err.message || \"Erreur inconnue\";\n        toast.error(\n          `Erreur lors de la suppression de la demande de congé: ${errorMessage}`\n        );\n        return { success: false, error: errorMessage };\n      }\n    },\n    [api, retryApiCall, fallbackMode, isConnected, notifyDataChange]\n  );\n\n  /**\n   * Approuve ou rejette une demande de congé\n   */\n  const updateVacationStatus = useCallback(\n    async (id, status, comment = \"\") => {\n      try {\n        const apiCall = async () => {\n          const response = await api.put(\n            `${API_ENDPOINTS.VACATIONS}/${id}/status`,\n            {\n              status,\n              comment,\n            }\n          );\n\n          if (!response.ok) {\n            throw new Error(\n              response.data?.message ||\n                `Erreur lors de la ${\n                  status === \"approved\" ? \"validation\" : \"rejet\"\n                } de la demande de congé`\n            );\n          }\n\n          return response.data;\n        };\n\n        // Utiliser la fonction de retry\n        const data = await retryApiCall(apiCall);\n\n        setVacations((prev) =>\n          prev.map((vacation) => (vacation.id === id ? data : vacation))\n        );\n\n        // Notifier les autres clients via WebSocket\n        if (!fallbackMode && isConnected) {\n          notifyDataChange(\"vacation\", \"update\", id);\n        }\n\n        toast.success(\n          `Demande de congé ${\n            status === \"approved\" ? \"approuvée\" : \"rejetée\"\n          } avec succès`\n        );\n        return { success: true, vacation: data };\n      } catch (err) {\n        console.error(\n          `Erreur lors de la ${\n            status === \"approved\" ? \"validation\" : \"rejet\"\n          } de la demande de congé:`,\n          err\n        );\n        const errorMessage = err.message || \"Erreur inconnue\";\n        toast.error(\n          `Erreur lors de la ${\n            status === \"approved\" ? \"validation\" : \"rejet\"\n          } de la demande de congé: ${errorMessage}`\n        );\n        return { success: false, error: errorMessage };\n      }\n    },\n    [api, retryApiCall, fallbackMode, isConnected, notifyDataChange]\n  );\n\n  /**\n   * Filtre les congés par statut\n   * @param {string|null} status - Le statut à filtrer (pending, approved, rejected) ou null pour tous\n   * @returns {Array} - Les congés filtrés\n   */\n  const getVacationsByStatus = useCallback(\n    (status) => {\n      if (!status) return vacations;\n      return vacations.filter((vacation) => vacation.status === status);\n    },\n    [vacations]\n  );\n\n  return {\n    vacations,\n    loading,\n    error,\n    fetchVacations,\n    createVacation,\n    updateVacation,\n    deleteVacation,\n    updateVacationStatus,\n    getVacationsByStatus,\n    approveVacation: (id) => updateVacationStatus(id, \"approved\"),\n    rejectVacation: (id, comment) =>\n      updateVacationStatus(id, \"rejected\", comment),\n  };\n};\n\nexport default useVacations;\n","import axios from \"axios\";\nimport { API_ENDPOINTS } from \"../config/api\";\n\n/**\n * Utilitaire pour enregistrer les activités dans la base de données\n */\nclass ActivityLogger {\n  /**\n   * Enregistre une activité dans la base de données\n   * @param {string} type - Type d'activité (create, update, delete, approve, reject, login, logout)\n   * @param {string} entity_type - Type d'entité concernée (employee, schedule, vacation, user, etc.)\n   * @param {string} entity_id - ID de l'entité concernée\n   * @param {string} description - Description de l'activité\n   * @param {object} userData - Données de l'utilisateur qui a effectué l'action\n   * @param {object} details - Détails supplémentaires au format JSON\n   * @returns {Promise<object>} - Promesse avec les données de l'activité créée\n   */\n  static async logActivity(\n    type,\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    try {\n      const activityData = {\n        type,\n        entity_type,\n        entity_id,\n        description,\n        userId: userData?.id || null,\n        userName:\n          userData?.first_name && userData?.last_name\n            ? `${userData.first_name} ${userData.last_name}`\n            : userData?.username || \"Utilisateur inconnu\",\n        details,\n        timestamp: new Date().toISOString(),\n      };\n\n      console.log(\"Enregistrement d'une nouvelle activité:\", activityData);\n\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.post(\n        API_ENDPOINTS.ACTIVITIES.LOG,\n        activityData,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            ...(token && { Authorization: `Bearer ${token}` }),\n          },\n        }\n      );\n\n      if (response.status === 200 || response.status === 201) {\n        console.log(\"Activité enregistrée avec succès:\", response.data);\n        return response.data;\n      } else {\n        console.error(\n          \"Erreur lors de l'enregistrement de l'activité:\",\n          response.data?.message\n        );\n        return null;\n      }\n    } catch (error) {\n      console.error(\"Erreur lors de l'enregistrement de l'activité:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Enregistre une activité de création\n   */\n  static async logCreation(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"create\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de mise à jour\n   */\n  static async logUpdate(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"update\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de suppression\n   */\n  static async logDeletion(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"delete\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité d'approbation\n   */\n  static async logApproval(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"approve\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de rejet\n   */\n  static async logRejection(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"reject\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de connexion\n   */\n  static async logLogin(userId, description, userData, details = {}) {\n    return this.logActivity(\n      \"login\",\n      \"user\",\n      userId,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de déconnexion\n   */\n  static async logLogout(userId, description, userData, details = {}) {\n    return this.logActivity(\n      \"logout\",\n      \"user\",\n      userId,\n      description,\n      userData,\n      details\n    );\n  }\n}\n\nexport default ActivityLogger;\n","import Lottie from \"lottie-react\";\nimport { useCallback, useState } from \"react\";\nimport { FaCalendarAlt, FaList, FaPlus } from \"react-icons/fa\";\nimport styled from \"styled-components\";\nimport holidaysAnimation from \"../assets/animations/holidays.json\";\nimport { useNotification } from \"../components/ui/Notification\";\nimport VacationCalendar from \"../components/vacations/VacationCalendar\";\nimport VacationExport from \"../components/vacations/VacationExport\";\nimport VacationForm from \"../components/vacations/VacationForm\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport useVacations from \"../hooks/useVacations\";\nimport ActivityLogger from \"../utils/activityLogger\";\n\n// Composants stylisés\nconst VacationsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;\n\nconst PageHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.md || \"768px\"}) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n`;\n\nconst HeaderLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1.5rem;\n`;\n\nconst AnimationContainer = styled.div`\n  width: 80px;\n  height: 80px;\n  flex-shrink: 0;\n`;\n\nconst TitleContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst PageTitle = styled.h1`\n  font-size: 2rem;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n  margin-bottom: 0.5rem;\n`;\n\nconst PageDescription = styled.p`\n  color: ${({ theme }) => theme.colors?.text?.secondary || \"#6B7280\"};\n  font-size: 1.1rem;\n`;\n\nconst Button = styled.button`\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme, variant }) =>\n    variant === \"primary\" ? theme.colors?.primary || \"#4F46E5\" : \"transparent\"};\n  color: ${({ theme, variant }) =>\n    variant === \"primary\" ? \"white\" : theme.colors?.text?.primary || \"#111827\"};\n  border: ${({ theme, variant }) =>\n    variant === \"outline\"\n      ? `1px solid ${theme.colors?.border || \"#E5E7EB\"}`\n      : \"none\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    background-color: ${({ theme, variant }) =>\n      variant === \"primary\"\n        ? `${theme.colors?.primary || \"#4F46E5\"}dd`\n        : `${theme.colors?.border || \"#E5E7EB\"}33`};\n  }\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  border-bottom: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  margin-bottom: 1.5rem;\n`;\n\nconst Tab = styled.button`\n  padding: 0.75rem 1.5rem;\n  background: none;\n  border: none;\n  border-bottom: 2px solid\n    ${({ active, theme }) =>\n      active ? theme.colors?.primary || \"#4F46E5\" : \"transparent\"};\n  color: ${({ active, theme }) =>\n    active\n      ? theme.colors?.primary || \"#4F46E5\"\n      : theme.colors?.text?.secondary || \"#6B7280\"};\n  font-weight: ${({ active }) => (active ? 500 : 400)};\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    color: ${({ theme }) => theme.colors?.primary || \"#4F46E5\"};\n  }\n`;\n\nconst ViewToggle = styled.div`\n  display: flex;\n  margin-bottom: 1.5rem;\n`;\n\nconst ViewToggleButton = styled.button`\n  padding: 0.5rem 1rem;\n  background-color: ${({ active, theme }) =>\n    active\n      ? theme.colors?.primary || \"#4F46E5\"\n      : theme.colors?.background || \"#F9FAFB\"};\n  color: ${({ active, theme }) =>\n    active ? \"white\" : theme.colors?.text?.primary || \"#111827\"};\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:first-child {\n    border-top-left-radius: ${({ theme }) =>\n      theme.borderRadius?.small || \"0.25rem\"};\n    border-bottom-left-radius: ${({ theme }) =>\n      theme.borderRadius?.small || \"0.25rem\"};\n  }\n\n  &:last-child {\n    border-top-right-radius: ${({ theme }) =>\n      theme.borderRadius?.small || \"0.25rem\"};\n    border-bottom-right-radius: ${({ theme }) =>\n      theme.borderRadius?.small || \"0.25rem\"};\n  }\n\n  &:hover {\n    background-color: ${({ active, theme }) =>\n      active\n        ? theme.colors?.primary || \"#4F46E5\"\n        : theme.colors?.background || \"#F9FAFB\"};\n  }\n`;\n\nconst VacationCard = styled.div`\n  background-color: ${({ theme }) => theme.colors?.surface || \"#FFFFFF\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.medium || \"0.375rem\"};\n  padding: 1.5rem;\n  box-shadow: ${({ theme }) =>\n    theme.shadows?.small || \"0 1px 2px 0 rgba(0, 0, 0, 0.05)\"};\n  margin-bottom: 1rem;\n  border-left: 4px solid\n    ${({ status, theme }) =>\n      status === \"approved\"\n        ? theme.colors?.success || \"#10B981\"\n        : status === \"rejected\"\n        ? theme.colors?.danger || \"#EF4444\"\n        : theme.colors?.warning || \"#F59E0B\"};\n`;\n\nconst VacationHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"640px\"}) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.5rem;\n  }\n`;\n\nconst VacationTitle = styled.h3`\n  font-size: 1.25rem;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n  margin: 0;\n`;\n\nconst VacationStatus = styled.span`\n  display: inline-block;\n  padding: 0.25rem 0.75rem;\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 0.875rem;\n  font-weight: 500;\n  background-color: ${({ status, theme }) =>\n    status === \"approved\"\n      ? `${theme.colors?.success || \"#10B981\"}22`\n      : status === \"rejected\"\n      ? `${theme.colors?.danger || \"#EF4444\"}22`\n      : `${theme.colors?.warning || \"#F59E0B\"}22`};\n  color: ${({ status, theme }) =>\n    status === \"approved\"\n      ? theme.colors?.success || \"#10B981\"\n      : status === \"rejected\"\n      ? theme.colors?.danger || \"#EF4444\"\n      : theme.colors?.warning || \"#F59E0B\"};\n`;\n\nconst VacationDetails = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 1rem;\n`;\n\nconst VacationDetail = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst DetailLabel = styled.div`\n  font-size: 0.875rem;\n  color: ${({ theme }) => theme.colors?.text?.secondary || \"#6B7280\"};\n  margin-bottom: 0.25rem;\n`;\n\nconst DetailValue = styled.div`\n  font-weight: 500;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n`;\n\nconst VacationActions = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  margin-top: 1rem;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 3rem 1rem;\n  color: ${({ theme }) => theme.colors?.text?.secondary || \"#6B7280\"};\n`;\n\nconst Modal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 1rem;\n`;\n\nconst ModalContent = styled.div`\n  background-color: ${({ theme }) => theme.colors?.surface || \"#FFFFFF\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.medium || \"0.375rem\"};\n  padding: 1.5rem;\n  width: 100%;\n  max-width: 600px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: ${({ theme }) =>\n    theme.shadows?.large || \"0 10px 15px -3px rgba(0, 0, 0, 0.1)\"};\n`;\n\nconst ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n`;\n\nconst ModalTitle = styled.h2`\n  font-size: 1.5rem;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n  margin: 0;\n`;\n\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors?.text?.secondary || \"#6B7280\"};\n  font-size: 1.5rem;\n  cursor: pointer;\n\n  &:hover {\n    color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n  }\n`;\n\nconst RejectModal = styled(Modal)``;\n\nconst RejectModalContent = styled(ModalContent)`\n  max-width: 400px;\n`;\n\nconst RejectForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst RejectTextarea = styled.textarea`\n  padding: 0.75rem;\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 1rem;\n  min-height: 100px;\n  resize: vertical;\n\n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors?.primary || \"#4F46E5\"};\n  }\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 1rem;\n`;\n\n// Composant Vacations\nconst Vacations = () => {\n  const { user } = useAuth();\n  const {\n    vacations,\n    loading,\n    error,\n    createVacation,\n    updateVacation,\n    approveVacation,\n    rejectVacation,\n    deleteVacation,\n    getVacationsByStatus,\n    refetch: fetchVacations,\n  } = useVacations();\n  const { showNotification } = useNotification();\n\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [viewMode, setViewMode] = useState(\"list\");\n  const [showModal, setShowModal] = useState(false);\n  const [showRejectModal, setShowRejectModal] = useState(false);\n  const [selectedVacation, setSelectedVacation] = useState(null);\n  const [rejectionReason, setRejectionReason] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Filtrer les demandes en fonction de l'onglet actif\n  const filteredVacations = getVacationsByStatus(\n    activeTab === \"all\" ? null : activeTab\n  );\n\n  // Formater la date\n  const formatDate = (dateString) => {\n    if (!dateString) return \"\";\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"fr-FR\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n    });\n  };\n\n  // Traduire le type de congé\n  const translateType = (type) => {\n    const types = {\n      paid: \"Congés payés\",\n      rtt: \"RTT\",\n      unpaid: \"Congés sans solde\",\n      sick: \"Maladie\",\n      exceptional: \"Absence exceptionnelle\",\n      recovery: \"Récupération\",\n    };\n    return types[type] || type;\n  };\n\n  // Gérer la soumission du formulaire\n  const handleSubmit = useCallback(\n    async (vacationData) => {\n      setIsLoading(true);\n      try {\n        console.log(\"Données du formulaire soumises:\", vacationData);\n\n        // Vérifier que l'utilisateur est authentifié\n        if (!user) {\n          console.error(\"Erreur: utilisateur non authentifié\");\n          showNotification(\n            \"Vous devez être connecté pour créer une demande de congé\",\n            \"error\"\n          );\n          setTimeout(() => {\n            window.location.href = \"/login\";\n          }, 2000);\n          return;\n        }\n\n        // Vérifier que les données requises sont présentes\n        if (!vacationData.employeeId) {\n          throw new Error(\"L'identifiant de l'employé est requis\");\n        }\n\n        if (!vacationData.startDate || !vacationData.endDate) {\n          throw new Error(\"Les dates de début et de fin sont requises\");\n        }\n\n        if (selectedVacation) {\n          // Mise à jour d'un congé existant\n          console.log(\"Mise à jour d'un congé existant:\", selectedVacation.id);\n          const response = await updateVacation(\n            selectedVacation.id,\n            vacationData\n          );\n\n          console.log(\"Réponse de mise à jour:\", response);\n\n          if (response.success) {\n            // Enregistrer l'activité de mise à jour\n            await ActivityLogger.logUpdate(\n              \"vacation\",\n              selectedVacation.id,\n              `Mise à jour d'une demande de congé du ${formatDate(\n                vacationData.startDate\n              )} au ${formatDate(vacationData.endDate)}`,\n              user\n            );\n\n            setSelectedVacation(null);\n            setShowModal(false);\n            showNotification(\n              \"Demande de congé mise à jour avec succès\",\n              \"success\"\n            );\n          } else {\n            // Vérifier si l'erreur est liée à l'authentification\n            if (\n              response.error === \"Authentification requise\" ||\n              response.error === \"Session expirée\"\n            ) {\n              showNotification(\n                \"Session expirée. Veuillez vous reconnecter.\",\n                \"error\"\n              );\n              setTimeout(() => {\n                window.location.href = \"/login\";\n              }, 2000);\n              return;\n            }\n            throw new Error(response.error || \"Erreur lors de la mise à jour\");\n          }\n        } else {\n          // Création d'un nouveau congé\n          console.log(\"Création d'un nouveau congé\");\n          const response = await createVacation(vacationData);\n\n          console.log(\"Réponse de création:\", response);\n\n          if (response.success) {\n            // Enregistrer l'activité de création\n            await ActivityLogger.logCreation(\n              \"vacation\",\n              response.vacation.id,\n              `Nouvelle demande de congé du ${formatDate(\n                vacationData.startDate\n              )} au ${formatDate(vacationData.endDate)}`,\n              user\n            );\n\n            setSelectedVacation(null);\n            setShowModal(false);\n            showNotification(\"Demande de congé créée avec succès\", \"success\");\n          } else {\n            // Vérifier si l'erreur est liée à l'authentification\n            if (\n              response.error === \"Authentification requise\" ||\n              response.error === \"Session expirée\"\n            ) {\n              showNotification(\n                \"Session expirée. Veuillez vous reconnecter.\",\n                \"error\"\n              );\n              setTimeout(() => {\n                window.location.href = \"/login\";\n              }, 2000);\n              return;\n            }\n            throw new Error(response.error || \"Erreur lors de la création\");\n          }\n        }\n      } catch (error) {\n        console.error(\"Erreur détaillée lors de la soumission:\", error);\n        showNotification(error.message || \"Une erreur est survenue\", \"error\");\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [\n      selectedVacation,\n      createVacation,\n      updateVacation,\n      user,\n      formatDate,\n      showNotification,\n    ]\n  );\n\n  // Gérer l'approbation d'une demande\n  const handleApprove = useCallback(\n    async (id) => {\n      try {\n        await approveVacation(id);\n        showNotification(\"Demande de congé approuvée\", \"success\");\n      } catch (error) {\n        showNotification(\"Erreur lors de l'approbation de la demande\", \"error\");\n      }\n    },\n    [approveVacation, showNotification]\n  );\n\n  // Gérer le rejet d'une demande\n  const handleReject = useCallback(\n    async (id, reason) => {\n      try {\n        await rejectVacation(id, reason);\n        showNotification(\"Demande de congé rejetée\", \"success\");\n        setShowRejectModal(false);\n        setRejectionReason(\"\");\n      } catch (error) {\n        showNotification(\"Erreur lors du rejet de la demande\", \"error\");\n      }\n    },\n    [rejectVacation, showNotification]\n  );\n\n  // Ouvrir le modal de rejet\n  const openRejectModal = useCallback((vacation) => {\n    setSelectedVacation(vacation);\n    setShowRejectModal(true);\n  }, []);\n\n  // Gérer la suppression d'une demande\n  const handleDelete = useCallback(\n    async (id) => {\n      if (!id) return;\n\n      setIsLoading(true);\n      try {\n        const vacationToDelete = vacations.find((v) => v.id === id);\n        if (!vacationToDelete) {\n          throw new Error(\"Demande de congé introuvable\");\n        }\n\n        const response = await deleteVacation(id);\n        if (response.success) {\n          // Enregistrer l'activité de suppression\n          await ActivityLogger.logDeletion(\n            \"vacation\",\n            id,\n            `Suppression d'une demande de congé du ${formatDate(\n              vacationToDelete.startDate\n            )} au ${formatDate(vacationToDelete.endDate)}`,\n            user\n          );\n\n          setSelectedVacation(null);\n          showNotification(\"Demande de congé supprimée avec succès\", \"success\");\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la suppression:\", error);\n        showNotification(\n          error.message || \"Une erreur est survenue lors de la suppression\",\n          \"error\"\n        );\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [vacations, deleteVacation, user]\n  );\n\n  // Ouvrir le modal d'édition\n  const handleEdit = useCallback((vacation) => {\n    setSelectedVacation(vacation);\n    setShowModal(true);\n  }, []);\n\n  // Gérer le clic sur un jour du calendrier\n  const handleDayClick = useCallback((date) => {\n    // Créer une nouvelle demande de congé avec la date sélectionnée\n    setSelectedVacation(null);\n    setShowModal(true);\n    // Le formulaire sera pré-rempli avec cette date\n  }, []);\n\n  return (\n    <VacationsContainer>\n      <PageHeader>\n        <HeaderLeft>\n          <AnimationContainer>\n            <Lottie\n              animationData={holidaysAnimation}\n              loop={true}\n              autoplay={true}\n              style={{ height: 80, width: 80 }}\n            />\n          </AnimationContainer>\n          <TitleContainer>\n            <PageTitle>Gestion des congés</PageTitle>\n            <PageDescription>\n              Gérez les demandes de congés de vos employés\n            </PageDescription>\n          </TitleContainer>\n        </HeaderLeft>\n\n        <Button variant=\"primary\" onClick={() => setShowModal(true)}>\n          <FaPlus /> Nouvelle demande\n        </Button>\n      </PageHeader>\n\n      <TabsContainer>\n        <Tab active={activeTab === \"all\"} onClick={() => setActiveTab(\"all\")}>\n          Tous\n        </Tab>\n        <Tab\n          active={activeTab === \"pending\"}\n          onClick={() => setActiveTab(\"pending\")}\n        >\n          En attente\n        </Tab>\n        <Tab\n          active={activeTab === \"approved\"}\n          onClick={() => setActiveTab(\"approved\")}\n        >\n          Approuvés\n        </Tab>\n        <Tab\n          active={activeTab === \"rejected\"}\n          onClick={() => setActiveTab(\"rejected\")}\n        >\n          Refusés\n        </Tab>\n      </TabsContainer>\n\n      <ViewToggle>\n        <ViewToggleButton\n          active={viewMode === \"list\"}\n          onClick={() => setViewMode(\"list\")}\n        >\n          <FaList /> Liste\n        </ViewToggleButton>\n        <ViewToggleButton\n          active={viewMode === \"calendar\"}\n          onClick={() => setViewMode(\"calendar\")}\n        >\n          <FaCalendarAlt /> Calendrier\n        </ViewToggleButton>\n      </ViewToggle>\n\n      {/* Bouton d'export PDF */}\n      {filteredVacations.length > 0 && (\n        <VacationExport vacations={filteredVacations} isGlobal={true} />\n      )}\n\n      {/* Vue calendrier */}\n      {viewMode === \"calendar\" && (\n        <VacationCalendar\n          vacations={filteredVacations}\n          onDayClick={handleDayClick}\n        />\n      )}\n\n      {/* Vue liste */}\n      {viewMode === \"list\" && (\n        <>\n          {filteredVacations.length > 0 ? (\n            filteredVacations.map((vacation) => (\n              <VacationCard key={vacation.id} status={vacation.status}>\n                <VacationHeader>\n                  <VacationTitle>\n                    {vacation.employeeName || \"Employé inconnu\"}\n                  </VacationTitle>\n                  <VacationStatus status={vacation.status}>\n                    {vacation.status === \"approved\"\n                      ? \"Approuvé\"\n                      : vacation.status === \"rejected\"\n                      ? \"Refusé\"\n                      : \"En attente\"}\n                  </VacationStatus>\n                </VacationHeader>\n\n                <VacationDetails>\n                  <VacationDetail>\n                    <DetailLabel>Type</DetailLabel>\n                    <DetailValue>{translateType(vacation.type)}</DetailValue>\n                  </VacationDetail>\n\n                  <VacationDetail>\n                    <DetailLabel>Date de début</DetailLabel>\n                    <DetailValue>{formatDate(vacation.startDate)}</DetailValue>\n                  </VacationDetail>\n\n                  <VacationDetail>\n                    <DetailLabel>Date de fin</DetailLabel>\n                    <DetailValue>{formatDate(vacation.endDate)}</DetailValue>\n                  </VacationDetail>\n\n                  <VacationDetail>\n                    <DetailLabel>Durée</DetailLabel>\n                    <DetailValue>{vacation.duration}</DetailValue>\n                  </VacationDetail>\n                </VacationDetails>\n\n                <VacationDetail>\n                  <DetailLabel>Motif</DetailLabel>\n                  <DetailValue>{vacation.reason || \"-\"}</DetailValue>\n                </VacationDetail>\n\n                {vacation.status === \"approved\" && (\n                  <VacationDetail>\n                    <DetailLabel>Approuvé le</DetailLabel>\n                    <DetailValue>\n                      {formatDate(vacation.approvedAt)}{\" \"}\n                      {vacation.approvedAt\n                        ? new Date(vacation.approvedAt).toLocaleTimeString(\n                            \"fr-FR\",\n                            {\n                              hour: \"2-digit\",\n                              minute: \"2-digit\",\n                            }\n                          )\n                        : \"\"}\n                    </DetailValue>\n                  </VacationDetail>\n                )}\n\n                {vacation.status === \"rejected\" && (\n                  <VacationDetail>\n                    <DetailLabel>Refusé le</DetailLabel>\n                    <DetailValue>\n                      {formatDate(vacation.rejectedAt)}{\" \"}\n                      {vacation.rejectedAt\n                        ? new Date(vacation.rejectedAt).toLocaleTimeString(\n                            \"fr-FR\",\n                            {\n                              hour: \"2-digit\",\n                              minute: \"2-digit\",\n                            }\n                          )\n                        : \"\"}\n                    </DetailValue>\n                  </VacationDetail>\n                )}\n\n                {vacation.status === \"rejected\" && vacation.rejectionReason && (\n                  <VacationDetail>\n                    <DetailLabel>Motif du refus</DetailLabel>\n                    <DetailValue>{vacation.rejectionReason}</DetailValue>\n                  </VacationDetail>\n                )}\n\n                {/* Actions selon le statut et le rôle de l'utilisateur */}\n                <VacationActions>\n                  {/* Actions pour les employés sur leurs propres demandes en attente */}\n                  {vacation.employeeId === user.id &&\n                    vacation.status === \"pending\" && (\n                      <>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleDelete(vacation.id)}\n                        >\n                          Supprimer\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleEdit(vacation)}\n                        >\n                          Modifier\n                        </Button>\n                      </>\n                    )}\n\n                  {/* Actions pour les admins et managers sur les demandes en attente */}\n                  {(user.role === \"admin\" || user.role === \"manager\") &&\n                    vacation.status === \"pending\" && (\n                      <>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => openRejectModal(vacation)}\n                        >\n                          Refuser\n                        </Button>\n                        <Button\n                          variant=\"primary\"\n                          onClick={() => handleApprove(vacation.id)}\n                        >\n                          Approuver\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleDelete(vacation.id)}\n                        >\n                          Supprimer\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleEdit(vacation)}\n                        >\n                          Modifier\n                        </Button>\n                      </>\n                    )}\n\n                  {/* Actions pour les admins et managers sur les demandes approuvées */}\n                  {(user.role === \"admin\" || user.role === \"manager\") &&\n                    vacation.status === \"approved\" && (\n                      <>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => {\n                            // Mettre la demande en attente\n                            updateVacation(vacation.id, { status: \"pending\" });\n                          }}\n                        >\n                          Remettre en attente\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleDelete(vacation.id)}\n                        >\n                          Supprimer\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleEdit(vacation)}\n                        >\n                          Modifier\n                        </Button>\n                      </>\n                    )}\n\n                  {/* Actions pour les admins et managers sur les demandes rejetées */}\n                  {(user.role === \"admin\" || user.role === \"manager\") &&\n                    vacation.status === \"rejected\" && (\n                      <>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => {\n                            // Mettre la demande en attente\n                            updateVacation(vacation.id, { status: \"pending\" });\n                          }}\n                        >\n                          Remettre en attente\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleDelete(vacation.id)}\n                        >\n                          Supprimer\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleEdit(vacation)}\n                        >\n                          Modifier\n                        </Button>\n                      </>\n                    )}\n                </VacationActions>\n              </VacationCard>\n            ))\n          ) : (\n            <EmptyState>\n              Aucune demande de congés{\" \"}\n              {activeTab !== \"all\"\n                ? `${\n                    activeTab === \"pending\"\n                      ? \"en attente\"\n                      : activeTab === \"approved\"\n                      ? \"approuvée\"\n                      : \"refusée\"\n                  }`\n                : \"\"}{\" \"}\n              trouvée.\n            </EmptyState>\n          )}\n        </>\n      )}\n\n      {/* Modal de création/édition de demande */}\n      {showModal && (\n        <Modal onClick={() => setShowModal(false)}>\n          <ModalContent onClick={(e) => e.stopPropagation()}>\n            <ModalHeader>\n              <ModalTitle>\n                {selectedVacation\n                  ? \"Modifier la demande\"\n                  : \"Nouvelle demande de congés\"}\n              </ModalTitle>\n              <CloseButton onClick={() => setShowModal(false)}>×</CloseButton>\n            </ModalHeader>\n\n            <VacationForm\n              vacation={selectedVacation}\n              onSubmit={handleSubmit}\n              onCancel={() => setShowModal(false)}\n              currentUser={user}\n            />\n          </ModalContent>\n        </Modal>\n      )}\n\n      {/* Modal de rejet */}\n      {showRejectModal && (\n        <RejectModal onClick={() => setShowRejectModal(false)}>\n          <RejectModalContent onClick={(e) => e.stopPropagation()}>\n            <ModalHeader>\n              <ModalTitle>Motif du refus</ModalTitle>\n              <CloseButton onClick={() => setShowRejectModal(false)}>\n                ×\n              </CloseButton>\n            </ModalHeader>\n\n            <RejectForm onSubmit={(e) => e.preventDefault()}>\n              <RejectTextarea\n                placeholder=\"Veuillez indiquer le motif du refus...\"\n                value={rejectionReason}\n                onChange={(e) => setRejectionReason(e.target.value)}\n                required\n              />\n\n              <ButtonGroup>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setShowRejectModal(false)}\n                >\n                  Annuler\n                </Button>\n                <Button type=\"submit\" variant=\"primary\">\n                  Confirmer le refus\n                </Button>\n              </ButtonGroup>\n            </RejectForm>\n          </RejectModalContent>\n        </RejectModal>\n      )}\n    </VacationsContainer>\n  );\n};\n\nexport default Vacations;\n"],"names":["isDarkMode","document","documentElement","getAttribute","window","matchMedia","matches","CalendarContainer","styled","div","_ref","_theme$colors","theme","colors","surface","_ref2","_theme$borderRadius","borderRadius","medium","_ref3","_theme$shadows","shadows","_ref4","_theme$colors2","_theme$colors2$text","text","primary","_ref5","_theme$breakpoints","breakpoints","md","_ref6","_theme$borderRadius2","small","CalendarHeader","_ref7","_theme$breakpoints2","sm","MonthTitle","h2","_ref8","_theme$colors3","_theme$colors3$text","_ref9","_theme$breakpoints3","NavigationButton","button","_ref10","_theme$colors4","background","_ref11","_theme$colors5","border","_ref12","_theme$borderRadius3","_ref13","_theme$colors6","_theme$colors6$text","_ref14","_theme$colors7","_ref15","_theme$colors8","NavigationContainer","CalendarGrid","_ref16","_theme$breakpoints4","DayHeader","_ref17","_theme$colors9","_theme$colors9$text","_ref18","_theme$breakpoints5","_ref19","_theme$breakpoints6","xs","DayCell","_ref20","_theme$colors10","_ref21","_theme$borderRadius4","_ref22","isCurrentMonth","isToday","isWeekend","isHoliday","_theme$colors11","_theme$colors12","_theme$colors13","_theme$colors14","_ref23","_theme$colors15","error","_theme$colors16","_theme$colors16$text","secondary","_theme$colors17","_theme$colors17$text","_theme$colors18","_theme$colors18$text","disabled","_ref24","_ref25","_theme$breakpoints7","_ref26","_theme$breakpoints8","DayNumber","_ref27","_theme$breakpoints9","HolidayName","_ref28","_theme$colors19","_ref29","_theme$breakpoints10","VacationList","_ref30","_theme$colors20","_ref31","_theme$colors21","_ref32","_theme$breakpoints11","VacationItem","_ref33","type","status","vacationType","VACATION_TYPES","find","t","value","baseColor","color","_ref34","_theme$breakpoints12","Legend","_ref35","_theme$colors22","_theme$colors22$text","_ref36","_theme$breakpoints13","LegendItem","_ref37","_theme$breakpoints14","LegendColor","_ref38","_ref39","_theme$breakpoints15","_ref40","vacations","onDayClick","currentDate","setCurrentDate","useState","Date","calendarDays","setCalendarDays","isSameDay","date1","date2","getDate","getMonth","getFullYear","getHolidayName","date","dateStr","String","padStart","holiday","FRENCH_HOLIDAYS_2024","h","name","useEffect","year","month","firstDayOfMonth","lastDayOfMonth","firstDayOfWeek","getDay","daysFromPrevMonth","daysFromNextMonth","prevMonthLastDay","prevMonthDays","Array","from","length","_","i","day","holidayName","currentMonthDays","nextMonthDays","_jsxs","children","_jsx","toLocaleDateString","onClick","goToPreviousMonth","FaChevronLeft","goToCurrentMonth","goToNextMonth","FaChevronRight","map","index","dayVacations","filter","vacation","startDate","endDate","getVacationsForDate","vIndex","title","employeeName","label","_theme$colors23","_theme$colors24","useDepartments","departments","setDepartments","loading","setLoading","setError","api","useApi","fetchDepartments","useCallback","async","response","get","API_ENDPOINTS","DEPARTMENTS","BASE","_response$data","ok","Error","data","message","err","console","toast","createDepartment","post","departmentData","prev","success","department","_response$data2","updateDepartment","id","put","BY_ID","dept","_response$data3","deleteDepartment","delete","_response$data4","getDepartmentById","getDepartmentByName","ExportContainer","ExportButton","FilterButton","active","FilterContainer","show","FilterGrid","FilterGroup","FilterLabel","_theme$colors8$text","FilterSelect","select","FilterInput","input","_theme$borderRadius5","FilterActions","ButtonsContainer","isGlobal","showFilters","setShowFilters","filters","setFilters","employeeId","departmentId","employees","useEmployees","formatDate","dateString","formatDateForFileName","replace","translateStatus","translateType","filterVacations","_employees$find","parseInt","e","handleFilterChange","target","exportToPdf","filteredVacations","warning","doc","jsPDF","orientation","unit","format","setFontSize","internal","pageSize","getWidth","align","hour","minute","startY","Object","values","some","v","filterText","filterParts","employee","push","first_name","last_name","d","join","columns","header","dataKey","approvalDate","approvedAt","rejectedAt","row","start","end","duration","reason","autoTable","body","styles","fontSize","cellPadding","headStyles","fillColor","textColor","fontStyle","alternateRowStyles","pageCount","getNumberOfPages","setPage","width","height","fileName","save","FaFilter","FaFilePdf","_Fragment","onChange","resetFilters","style","backgroundColor","FormContainer","form","FormGroup","Label","Input","Select","Textarea","textarea","FileInput","FileInputLabel","hover","HiddenFileInput","FileName","ErrorMessage","FormActions","Button","variant","DaysCount","info","QuotaWarning","VacationForm","onSubmit","onCancel","currentUser","user","useAuth","loadingEmployees","formData","setFormData","attachment","errors","setErrors","setFileName","daysCount","setDaysCount","quotaExceeded","setQuotaExceeded","count","getWorkingDaysCount","defaultQuota","handleChange","handleFileChange","file","files","size","preventDefault","log","validateForm","newErrors","isNaN","getTime","keys","formattedData","role","htmlFor","placeholder","accept","memo","useVacations","setVacations","socket","isConnected","sendMessage","notifyDataChange","fallbackMode","useWebSocket","handleWebSocketMessage","event","JSON","parse","prevVacations","vacationId","addEventListener","removeEventListener","retryApiCall","apiCall","maxRetries","arguments","undefined","delay","lastError","retryCount","retryDelay","Math","pow","Promise","resolve","setTimeout","fetchVacations","loadVacations","localStorage","getItem","VACATIONS","isArray","checkDatabaseConnection","connected","createVacation","vacationData","employee_id","start_date","toISOString","split","end_date","includes","warn","token","readyState","WebSocket","OPEN","send","stringify","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMessage","result","updateVacation","deleteVacation","updateVacationStatus","comment","getVacationsByStatus","approveVacation","rejectVacation","logActivity","entity_type","entity_id","description","userData","details","activityData","userId","userName","username","timestamp","axios","ACTIVITIES","LOG","headers","Authorization","logCreation","this","logUpdate","logDeletion","logApproval","logRejection","logLogin","logLogout","VacationsContainer","PageHeader","HeaderLeft","AnimationContainer","TitleContainer","PageTitle","h1","_theme$colors$text","PageDescription","p","_theme$colors4$text","TabsContainer","Tab","_theme$colors11$text","ViewToggle","ViewToggleButton","_theme$colors15$text","VacationCard","_theme$borderRadius6","danger","VacationHeader","VacationTitle","h3","_theme$colors23$text","VacationStatus","span","_theme$borderRadius7","_theme$colors25","_theme$colors26","_theme$colors27","_theme$colors28","_theme$colors29","VacationDetails","VacationDetail","DetailLabel","_theme$colors30","_theme$colors30$text","DetailValue","_theme$colors31","_theme$colors31$text","VacationActions","EmptyState","_theme$colors32","_theme$colors32$text","Modal","ModalContent","_theme$colors33","_theme$borderRadius8","_theme$shadows2","large","ModalHeader","ModalTitle","_theme$colors34","_theme$colors34$text","CloseButton","_theme$colors35","_theme$colors35$text","_theme$colors36","_theme$colors36$text","RejectModal","RejectModalContent","RejectForm","RejectTextarea","_theme$colors37","_ref41","_theme$borderRadius9","_ref42","_theme$colors38","ButtonGroup","Vacations","refetch","showNotification","useNotification","activeTab","setActiveTab","viewMode","setViewMode","showModal","setShowModal","showRejectModal","setShowRejectModal","selectedVacation","setSelectedVacation","rejectionReason","setRejectionReason","isLoading","setIsLoading","handleSubmit","location","href","ActivityLogger","handleApprove","openRejectModal","handleDelete","vacationToDelete","handleEdit","handleDayClick","Lottie","animationData","holidaysAnimation","loop","autoplay","FaPlus","FaList","FaCalendarAlt","VacationExport","VacationCalendar","paid","rtt","unpaid","sick","exceptional","recovery","toLocaleTimeString","stopPropagation","required"],"sourceRoot":""}