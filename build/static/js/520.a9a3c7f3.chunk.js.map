{"version":3,"file":"static/js/520.a9a3c7f3.chunk.js","mappings":"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","sources":["utils/dateUtils.js","config/constants.js","components/vacations/VacationCalendar.js","hooks/useDepartments.js","components/vacations/VacationExport.js","components/vacations/VacationForm.js","hooks/useVacations.js","utils/activityLogger.js","pages/Vacations.js"],"sourcesContent":["/**\n * Utilitaires pour la gestion des dates dans l'application\n */\n\nimport {\n  addDays,\n  addWeeks as addWeeksDate,\n  endOfWeek,\n  format,\n  getDay,\n  isAfter,\n  isBefore,\n  isSameDay,\n  startOfWeek,\n} from \"date-fns\";\nimport { fr } from \"date-fns/locale\";\nimport { FRENCH_HOLIDAYS_2024 } from \"../config/constants\";\n\n/**\n * Formate une date selon le format spécifié\n * @param {Date} date - La date à formater\n * @param {string} formatStr - Le format à utiliser (par défaut: 'dd/MM/yyyy')\n * @returns {string} La date formatée\n */\nexport const formatDate = (date, formatStr = \"dd/MM/yyyy\") => {\n  if (!date) return \"\";\n\n  try {\n    // S'assurer que date est un objet Date valide\n    const dateObj = date instanceof Date ? date : new Date(date);\n\n    // Vérifier si la date est valide\n    if (isNaN(dateObj.getTime())) {\n      console.error(\"Date invalide dans formatDate:\", date);\n      return \"\";\n    }\n\n    return format(dateObj, formatStr, { locale: fr });\n  } catch (error) {\n    console.error(\"Erreur lors du formatage de la date:\", error, date);\n    return \"\";\n  }\n};\n\n/**\n * Formate une date pour un input HTML (YYYY-MM-DD)\n * @param {Date} date - La date à formater\n * @returns {string} La date au format YYYY-MM-DD\n */\nexport const formatDateForInput = (date) => {\n  if (!date) return \"\";\n  return format(date, \"yyyy-MM-dd\");\n};\n\n/**\n * Obtient le premier jour de la semaine pour une date donnée\n * @param {Date} date - La date de référence\n * @returns {Date} Le premier jour de la semaine (lundi)\n */\nexport const getWeekStart = (date) => {\n  return startOfWeek(date, { weekStartsOn: 1 });\n};\n\n/**\n * Obtient le dernier jour de la semaine pour une date donnée\n * @param {Date} date - La date de référence\n * @returns {Date} Le dernier jour de la semaine (dimanche)\n */\nexport const getWeekEnd = (date) => {\n  return endOfWeek(date, { weekStartsOn: 1 });\n};\n\n/**\n * Ajoute ou soustrait un nombre de semaines à une date\n * @param {Date} date - La date de référence\n * @param {number} amount - Le nombre de semaines à ajouter (négatif pour soustraire)\n * @returns {Date} La nouvelle date\n */\nexport const addWeeks = (date, amount) => {\n  return addWeeksDate(date, amount);\n};\n\n/**\n * Obtient un tableau des jours de la semaine pour une date donnée\n * @param {Date} date - La date de référence\n * @returns {Date[]} Un tableau des 7 jours de la semaine\n */\nexport const getDaysOfWeek = (date) => {\n  const weekStart = getWeekStart(date);\n  const days = [];\n\n  for (let i = 0; i < 7; i++) {\n    days.push(addDays(weekStart, i));\n  }\n\n  return days;\n};\n\n/**\n * Vérifie si une date est un weekend (samedi ou dimanche)\n * @param {Date} date - La date à vérifier\n * @returns {boolean} True si c'est un weekend\n */\nexport const isWeekend = (date) => {\n  const day = new Date(date).getDay();\n  return day === 0 || day === 6; // 0 = dimanche, 6 = samedi\n};\n\n/**\n * Calcule le nombre d'heures entre deux dates\n * @param {Date} startDate - Date de début\n * @param {Date} endDate - Date de fin\n * @returns {number} Nombre d'heures\n */\nexport const calculateHours = (startDate, endDate) => {\n  if (!startDate || !endDate) return 0;\n\n  const diffMs = endDate.getTime() - startDate.getTime();\n  const diffHours = diffMs / (1000 * 60 * 60);\n\n  return Math.round(diffHours * 10) / 10; // Arrondi à 1 décimale\n};\n\n/**\n * Formate une durée en heures et minutes\n * @param {number} hours - Nombre d'heures (peut inclure des décimales)\n * @returns {string} Durée formatée (ex: \"7h30\")\n */\nexport const formatHours = (hours) => {\n  if (hours === undefined || hours === null) return \"0h\";\n\n  const totalHours = parseFloat(hours);\n  if (isNaN(totalHours)) return \"0h\";\n\n  const wholeHours = Math.floor(totalHours);\n  const minutes = Math.round((totalHours - wholeHours) * 60);\n\n  if (minutes === 0) {\n    return `${wholeHours}h`;\n  } else {\n    return `${wholeHours}h${minutes.toString().padStart(2, \"0\")}`;\n  }\n};\n\n/**\n * Obtient le nom du jour de la semaine\n * @param {Date} date - La date\n * @param {boolean} short - Si true, retourne le nom court (3 lettres)\n * @returns {string} Le nom du jour\n */\nexport const getDayName = (date, short = false) => {\n  const days = [\n    \"Dimanche\",\n    \"Lundi\",\n    \"Mardi\",\n    \"Mercredi\",\n    \"Jeudi\",\n    \"Vendredi\",\n    \"Samedi\",\n  ];\n  const shortDays = [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"];\n\n  const dayIndex = new Date(date).getDay();\n  return short ? shortDays[dayIndex] : days[dayIndex];\n};\n\n/**\n * Obtient le nom du mois\n * @param {string|Date} date - La date\n * @param {boolean} short - Indique si le nom doit être court (3 lettres) ou complet\n * @returns {string} Le nom du mois\n */\nexport const getMonthName = (date, short = false) => {\n  const dateObj = new Date(date);\n  const monthNames = short\n    ? [\n        \"Jan\",\n        \"Fév\",\n        \"Mar\",\n        \"Avr\",\n        \"Mai\",\n        \"Juin\",\n        \"Juil\",\n        \"Aoû\",\n        \"Sep\",\n        \"Oct\",\n        \"Nov\",\n        \"Déc\",\n      ]\n    : [\n        \"Janvier\",\n        \"Février\",\n        \"Mars\",\n        \"Avril\",\n        \"Mai\",\n        \"Juin\",\n        \"Juillet\",\n        \"Août\",\n        \"Septembre\",\n        \"Octobre\",\n        \"Novembre\",\n        \"Décembre\",\n      ];\n\n  return monthNames[dateObj.getMonth()];\n};\n\n/**\n * Formate une date pour MySQL (YYYY-MM-DD)\n * @param {string|Date} date - La date à formater\n * @returns {string} La date au format YYYY-MM-DD\n */\nexport const formatDateForMySQL = (date) => {\n  if (!date) return null;\n\n  // Si la date est déjà au format YYYY-MM-DD, la retourner telle quelle\n  if (typeof date === \"string\" && /^\\d{4}-\\d{2}-\\d{2}$/.test(date)) {\n    return date;\n  }\n\n  try {\n    const dateObj = new Date(date);\n\n    if (isNaN(dateObj.getTime())) {\n      return null;\n    }\n\n    return dateObj.toISOString().split(\"T\")[0];\n  } catch (error) {\n    console.error(\"Erreur lors du formatage de la date pour MySQL:\", error);\n    return null;\n  }\n};\n\n/**\n * Formate une date pour l'API (format YYYY-MM-DD)\n * @param {Date} date - La date à formater\n * @returns {string} La date formatée\n */\nexport const formatDateForAPI = (date) => {\n  if (!date) return \"\";\n  const d = new Date(date);\n  return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(\n    2,\n    \"0\"\n  )}-${String(d.getDate()).padStart(2, \"0\")}`;\n};\n\n/**\n * Vérifie si une date est un jour férié\n * @param {string|Date} date - La date à vérifier\n * @param {Array} holidays - Liste des jours fériés (par défaut: jours fériés français 2024)\n * @returns {boolean} True si c'est un jour férié, false sinon\n */\nexport const isHoliday = (date, holidays = FRENCH_HOLIDAYS_2024) => {\n  if (!date) return false;\n\n  const d = new Date(date);\n  if (isNaN(d.getTime())) return false;\n\n  const formattedDate = formatDateForAPI(d);\n  return holidays.some((holiday) => holiday.date === formattedDate);\n};\n\n/**\n * Vérifie si une date est un jour ouvré (ni week-end, ni jour férié)\n * @param {string|Date} date - La date à vérifier\n * @param {Array} holidays - Liste des jours fériés\n * @returns {boolean} True si c'est un jour ouvré, false sinon\n */\nexport const isWorkingDay = (date, holidays = FRENCH_HOLIDAYS_2024) => {\n  return !isWeekend(date) && !isHoliday(date, holidays);\n};\n\n/**\n * Calcule le nombre de jours ouvrés entre deux dates\n * @param {string|Date} startDate - Date de début\n * @param {string|Date} endDate - Date de fin\n * @param {Array} holidays - Liste des jours fériés\n * @returns {number} Nombre de jours ouvrés\n */\nexport const getWorkingDaysCount = (\n  startDate,\n  endDate,\n  holidays = FRENCH_HOLIDAYS_2024\n) => {\n  if (!startDate || !endDate) return 0;\n\n  const start = new Date(startDate);\n  const end = new Date(endDate);\n\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;\n  if (end < start) return 0;\n\n  let count = 0;\n  const currentDate = new Date(start);\n\n  while (currentDate <= end) {\n    if (isWorkingDay(currentDate, holidays)) {\n      count++;\n    }\n    currentDate.setDate(currentDate.getDate() + 1);\n  }\n\n  return count;\n};\n\n/**\n * Vérifie si une date est aujourd'hui\n * @param {string|Date} date - La date à vérifier\n * @returns {boolean} True si c'est aujourd'hui, false sinon\n */\nexport const isToday = (date) => {\n  if (!date) return false;\n  return isSameDay(new Date(date), new Date());\n};\n\n/**\n * Vérifie si une date est entre deux autres dates (inclusivement)\n * @param {string|Date} date - La date à vérifier\n * @param {string|Date} start - Date de début\n * @param {string|Date} end - Date de fin\n * @returns {boolean} True si la date est entre start et end, false sinon\n */\nexport const isDateBetween = (date, start, end) => {\n  if (!date || !start || !end) return false;\n\n  const d = new Date(date);\n  const s = new Date(start);\n  const e = new Date(end);\n\n  // Réinitialiser les heures pour comparer uniquement les dates\n  d.setHours(0, 0, 0, 0);\n  s.setHours(0, 0, 0, 0);\n  e.setHours(0, 0, 0, 0);\n\n  return d >= s && d <= e;\n};\n\n/**\n * Formate une date pour l'affichage en format français\n * @param {string|Date} date - La date à formater\n * @param {string} formatStr - Le format à utiliser (par défaut: 'dd/MM/yyyy')\n * @returns {string} La date formatée\n */\nexport const formatDateForDisplay = (date, formatStr = \"dd/MM/yyyy\") => {\n  if (!date) return \"\";\n\n  try {\n    // Si la date est déjà au format YYYY-MM-DD, la convertir en objet Date\n    const dateObj = typeof date === \"string\" ? new Date(date) : date;\n\n    // Formater la date selon le format spécifié\n    const day = String(dateObj.getDate()).padStart(2, \"0\");\n    const month = String(dateObj.getMonth() + 1).padStart(2, \"0\");\n    const year = dateObj.getFullYear();\n\n    return `${day}/${month}/${year}`;\n  } catch (error) {\n    console.error(\"Erreur lors du formatage de la date:\", error);\n    return \"\";\n  }\n};\n\n/**\n * Vérifie si une date est dans le passé\n * @param {Date} date - La date à vérifier\n * @returns {boolean} Vrai si la date est dans le passé\n */\nexport const isPast = (date) => {\n  return isBefore(date, new Date()) && !isToday(date);\n};\n\n/**\n * Vérifie si une date est dans le futur\n * @param {Date} date - La date à vérifier\n * @returns {boolean} Vrai si la date est dans le futur\n */\nexport const isFuture = (date) => {\n  return isAfter(date, new Date());\n};\n\n/**\n * Génère un tableau des jours de la semaine à partir d'une date de début\n * @param {Date} startDate - La date de début de la semaine\n * @returns {Array} Un tableau des jours de la semaine\n */\nexport const getWeekDays = (startDate) => {\n  const days = [];\n  for (let i = 0; i < 7; i++) {\n    days.push(addDays(startDate, i));\n  }\n  return days;\n};\n\n/**\n * Formate une date pour l'affichage dans un format court\n * @param {Date} date - La date à formater\n * @returns {string} La date formatée\n */\nexport const formatShortDate = (date) => {\n  return format(date, \"EEE dd/MM\", { locale: fr });\n};\n\n/**\n * Formate une date pour l'affichage dans un format long\n * @param {Date} date - La date à formater\n * @returns {string} La date formatée\n */\nexport const formatLongDate = (date) => {\n  return format(date, \"EEEE dd MMMM yyyy\", { locale: fr });\n};\n\n/**\n * Obtient le jour de la semaine (0-6, où 0 est dimanche)\n * @param {Date} date - La date\n * @returns {number} Le jour de la semaine\n */\nexport const getDayOfWeek = (date) => {\n  return getDay(date);\n};\n\n/**\n * Formate une heure pour l'affichage\n * @param {number} hours - Les heures\n * @param {number} minutes - Les minutes\n * @returns {string} L'heure formatée\n */\nexport const formatTime = (hours, minutes = 0) => {\n  return `${hours.toString().padStart(2, \"0\")}:${minutes\n    .toString()\n    .padStart(2, \"0\")}`;\n};\n\n/**\n * Convertit une chaîne de caractères au format \"HH:MM\" en minutes\n * @param {string} timeString - La chaîne de caractères au format \"HH:MM\"\n * @returns {number} Le nombre de minutes\n */\nexport const timeStringToMinutes = (timeString) => {\n  if (!timeString) return 0;\n\n  const [hours, minutes] = timeString.split(\":\").map(Number);\n  return hours * 60 + minutes;\n};\n\n/**\n * Convertit des minutes en chaîne de caractères au format \"HH:MM\"\n * @param {number} minutes - Le nombre de minutes\n * @returns {string} La chaîne de caractères au format \"HH:MM\"\n */\nexport const minutesToTimeString = (minutes) => {\n  if (!minutes && minutes !== 0) return \"\";\n\n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  return `${hours.toString().padStart(2, \"0\")}:${mins\n    .toString()\n    .padStart(2, \"0\")}`;\n};\n\n/**\n * Vérifie si une date est dans une plage de dates\n * @param {Date} date - La date à vérifier\n * @param {Date} start - La date de début de la plage\n * @param {Date} end - La date de fin de la plage\n * @returns {boolean} Vrai si la date est dans la plage\n */\nexport const isDateInRange = (date, start, end) => {\n  const d = new Date(date);\n  const s = new Date(start);\n  const e = new Date(end);\n  return d >= s && d <= e;\n};\n\nexport default {\n  addWeeks,\n  getWeekStart,\n  isToday,\n  isPast,\n  isFuture,\n  getWeekDays,\n  formatShortDate,\n  formatLongDate,\n  getDayOfWeek,\n  formatTime,\n  timeStringToMinutes,\n  minutesToTimeString,\n  formatDateForDisplay,\n  isDateInRange,\n};\n","// Constantes pour les employés\nexport const EMPLOYEE_DEPARTMENTS = [\n  { value: \"Marketing\", label: \"Marketing\" },\n  { value: \"Développement\", label: \"Développement\" },\n  { value: \"Design\", label: \"Design\" },\n  { value: \"Finance\", label: \"Finance\" },\n  { value: \"RH\", label: \"RH\" },\n];\n\nexport const EMPLOYEE_ROLES = [\n  { value: \"Manager\", label: \"Manager\" },\n  { value: \"Senior\", label: \"Senior\" },\n  { value: \"Junior\", label: \"Junior\" },\n  { value: \"Stagiaire\", label: \"Stagiaire\" },\n];\n\nexport const EMPLOYEE_STATUSES = [\n  { value: \"active\", label: \"Actif\" },\n  { value: \"pending\", label: \"En attente\" },\n  { value: \"inactive\", label: \"Inactif\" },\n];\n\n// Constantes pour les congés\nexport const VACATION_TYPES = [\n  { value: \"paid\", label: \"Congés payés\", color: \"#4CAF50\", defaultQuota: 25 },\n  { value: \"rtt\", label: \"RTT\", color: \"#2196F3\", defaultQuota: 11 },\n  {\n    value: \"unpaid\",\n    label: \"Congés sans solde\",\n    color: \"#9E9E9E\",\n    defaultQuota: null,\n  },\n  { value: \"sick\", label: \"Maladie\", color: \"#F44336\", defaultQuota: null },\n  {\n    value: \"exceptional\",\n    label: \"Absence exceptionnelle\",\n    color: \"#FF9800\",\n    defaultQuota: null,\n  },\n  {\n    value: \"recovery\",\n    label: \"Récupération\",\n    color: \"#9C27B0\",\n    defaultQuota: null,\n  },\n];\n\nexport const VACATION_STATUSES = [\n  { value: \"pending\", label: \"En attente\", color: \"#FFC107\" },\n  { value: \"approved\", label: \"Approuvé\", color: \"#4CAF50\" },\n  { value: \"rejected\", label: \"Refusé\", color: \"#F44336\" },\n];\n\n// Jours fériés en France pour 2024 (à mettre à jour chaque année)\nexport const FRENCH_HOLIDAYS_2024 = [\n  { date: \"2024-01-01\", name: \"Jour de l'an\" },\n  { date: \"2024-04-01\", name: \"Lundi de Pâques\" },\n  { date: \"2024-05-01\", name: \"Fête du Travail\" },\n  { date: \"2024-05-08\", name: \"Victoire 1945\" },\n  { date: \"2024-05-09\", name: \"Ascension\" },\n  { date: \"2024-05-20\", name: \"Lundi de Pentecôte\" },\n  { date: \"2024-07-14\", name: \"Fête Nationale\" },\n  { date: \"2024-08-15\", name: \"Assomption\" },\n  { date: \"2024-11-01\", name: \"Toussaint\" },\n  { date: \"2024-11-11\", name: \"Armistice 1918\" },\n  { date: \"2024-12-25\", name: \"Noël\" },\n];\n\n// Constantes pour les colonnes du tableau des employés\nexport const EMPLOYEE_TABLE_COLUMNS = [\n  {\n    id: \"name\",\n    header: \"Nom\",\n    accessor: (employee) => `${employee.first_name} ${employee.last_name}`,\n    sortable: true,\n  },\n  {\n    id: \"email\",\n    header: \"Email\",\n    accessor: (employee) => employee.email,\n    sortable: true,\n  },\n  {\n    id: \"department\",\n    header: \"Département\",\n    accessor: (employee) => employee.department,\n    sortable: true,\n  },\n  {\n    id: \"role\",\n    header: \"Rôle\",\n    accessor: (employee) => employee.role,\n    sortable: true,\n  },\n  {\n    id: \"status\",\n    header: \"Statut\",\n    accessor: (employee) => employee.status,\n    sortable: true,\n    type: \"status\",\n  },\n  {\n    id: \"hour_balance\",\n    header: \"Solde d'heures\",\n    accessor: (employee) => {\n      const balance = employee.hour_balance || 0;\n      const isPositive = balance >= 0;\n      return {\n        value: balance,\n        display: `${isPositive ? \"+\" : \"\"}${balance}h`,\n        isPositive,\n      };\n    },\n    sortable: true,\n    type: \"hour_balance\",\n  },\n  {\n    id: \"hire_date\",\n    header: \"Date d'embauche\",\n    accessor: (employee) => {\n      if (!employee.hire_date) return \"\";\n      const date = new Date(employee.hire_date);\n      return date.toLocaleDateString(\"fr-FR\");\n    },\n    sortable: true,\n    type: \"date\",\n  },\n];\n\n// URL de l'API\nexport const API_URL =\n  process.env.REACT_APP_API_URL || \"http://localhost:5001/api\";\n","import { useEffect, useState } from \"react\";\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport styled from \"styled-components\";\nimport { FRENCH_HOLIDAYS_2024, VACATION_TYPES } from \"../../config/constants\";\nimport { isHoliday, isWeekend } from \"../../utils/dateUtils\";\n\n// Fonction pour détecter le mode sombre du système ou du thème\nconst isDarkMode = () => {\n  // Vérifier d'abord le thème de l'application si disponible\n  if (document.documentElement.getAttribute(\"data-theme\") === \"dark\") {\n    return true;\n  }\n  // Sinon, vérifier les préférences du système\n  return (\n    window.matchMedia &&\n    window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n  );\n};\n\nconst CalendarContainer = styled.div`\n  background-color: ${({ theme }) =>\n    isDarkMode() ? \"#1F2937\" : theme.colors?.surface || \"white\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.medium || \"0.375rem\"};\n  box-shadow: ${({ theme }) =>\n    theme.shadows?.medium || \"0 4px 6px -1px rgba(0, 0, 0, 0.1)\"};\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n  width: 100%;\n  overflow-x: auto;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.md || \"768px\"}) {\n    padding: 1rem 0.5rem;\n    border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  }\n`;\n\nconst CalendarHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding: 0 0.5rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;\n\nconst MonthTitle = styled.h2`\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 1.25rem;\n  }\n`;\n\nconst NavigationButton = styled.button`\n  background-color: ${({ theme }) =>\n    isDarkMode() ? \"#6B7280\" : theme.colors?.background || \"#f8f9fa\"};\n  border: 1px solid\n    ${({ theme }) =>\n      isDarkMode() ? \"#6B7280\" : theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  padding: 0.5rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n\n  &:hover {\n    background-color: ${({ theme }) =>\n      isDarkMode() ? \"#4F46E5\" : theme.colors?.primary + \"22\" || \"#f5f5f5\"};\n    color: ${({ theme }) =>\n      isDarkMode() ? \"white\" : theme.colors?.primary || \"#111827\"};\n  }\n`;\n\nconst NavigationContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n`;\n\nconst CalendarGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 0.5rem;\n  min-width: min-content;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    gap: 0.25rem;\n  }\n`;\n\nconst DayHeader = styled.div`\n  text-align: center;\n  font-weight: 600;\n  padding: 0.5rem;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    padding: 0.25rem;\n    font-size: 0.75rem;\n  }\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.xs || \"400px\"}) {\n    font-size: 0.7rem;\n  }\n`;\n\nconst DayCell = styled.div`\n  position: relative;\n  min-height: 80px;\n  min-width: 80px;\n  padding: 0.5rem;\n  border: 1px solid\n    ${({ theme }) =>\n      isDarkMode() ? \"#6B7280\" : theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  background-color: ${({\n    isCurrentMonth,\n    isToday,\n    isWeekend,\n    isHoliday,\n    theme,\n  }) => {\n    if (isDarkMode()) {\n      if (isHoliday) return \"#3D1A1A\"; // Rouge foncé pour les jours fériés\n      if (isWeekend) return \"#2D3748\"; // Gris foncé pour les weekends\n      if (isToday) return \"#1A365D\"; // Bleu foncé pour aujourd'hui\n      return isCurrentMonth ? \"#2D3748\" : \"#1F2937\"; // Gris foncé pour le mois courant, plus foncé pour les autres mois\n    } else {\n      if (isHoliday) return \"#ffeeee\"; // Rouge clair pour les jours fériés\n      if (isWeekend) return theme.colors?.background || \"#f5f5f5\"; // Gris clair pour les weekends\n      if (isToday) return theme.colors?.primary + \"11\" || \"#e6f7ff\"; // Bleu clair pour aujourd'hui\n      return isCurrentMonth\n        ? theme.colors?.surface || \"white\"\n        : theme.colors?.background || \"#f9f9f9\"; // Blanc pour le mois courant, gris clair pour les autres mois\n    }\n  }};\n  color: ${({ isCurrentMonth, isToday, isWeekend, isHoliday, theme }) => {\n    if (isDarkMode()) {\n      if (isHoliday) return \"#F56565\"; // Rouge clair pour le texte des jours fériés\n      if (isWeekend) return \"#CBD5E0\"; // Gris clair pour le texte des weekends\n      return isCurrentMonth ? \"#F3F4F6\" : \"#A0AEC0\"; // Blanc pour le mois courant, gris pour les autres\n    } else {\n      if (isHoliday) return theme.colors?.error || \"#d32f2f\"; // Rouge pour le texte des jours fériés\n      if (isWeekend) return theme.colors?.text?.secondary || \"#757575\"; // Gris pour le texte des weekends\n      return isCurrentMonth\n        ? theme.colors?.text?.primary || \"#111827\"\n        : theme.colors?.text?.disabled || \"#aaa\"; // Noir pour le mois courant, gris pour les autres\n    }\n  }};\n  font-weight: ${({ isToday }) => (isToday ? \"600\" : \"normal\")};\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    min-height: 60px;\n    min-width: 60px;\n    padding: 0.25rem;\n  }\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.xs || \"400px\"}) {\n    min-height: 50px;\n    min-width: 40px;\n  }\n`;\n\nconst DayNumber = styled.div`\n  position: absolute;\n  top: 0.25rem;\n  right: 0.25rem;\n  font-size: 0.875rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 0.75rem;\n  }\n`;\n\nconst HolidayName = styled.div`\n  font-size: 0.75rem;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F56565\" : theme.colors?.error || \"#d32f2f\"};\n  font-weight: 500;\n  margin-top: 1.5rem;\n  text-align: center;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 0.65rem;\n    margin-top: 1rem;\n  }\n`;\n\nconst VacationList = styled.div`\n  margin-top: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  max-height: 60px;\n  overflow-y: auto;\n  scrollbar-width: thin;\n\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: ${({ theme }) =>\n      isDarkMode() ? \"#2D3748\" : theme.colors?.background || \"#f1f1f1\"};\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: ${({ theme }) =>\n      isDarkMode() ? \"#4A5568\" : theme.colors?.border || \"#888\"};\n  }\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    margin-top: 1rem;\n    max-height: 40px;\n  }\n`;\n\nconst VacationItem = styled.div`\n  font-size: 0.7rem;\n  padding: 0.15rem 0.3rem;\n  border-radius: 2px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  background-color: ${({ type, status }) => {\n    // Trouver la couleur correspondant au type\n    const vacationType = VACATION_TYPES.find((t) => t.value === type);\n    const baseColor = vacationType ? vacationType.color : \"#3498db\";\n\n    // Ajuster l'opacité en fonction du statut\n    switch (status) {\n      case \"approved\":\n        return baseColor;\n      case \"pending\":\n        return `${baseColor}99`; // 60% opacity\n      case \"rejected\":\n        return `${baseColor}66`; // 40% opacity\n      default:\n        return baseColor;\n    }\n  }};\n  color: white;\n  cursor: pointer;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 0.6rem;\n    padding: 0.1rem 0.2rem;\n  }\n`;\n\nconst Legend = styled.div`\n  margin-top: 1.5rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n  color: ${({ theme }) =>\n    isDarkMode() ? \"#F3F4F6\" : theme.colors?.text?.primary || \"#111827\"};\n  padding: 0 0.5rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    gap: 0.5rem;\n    margin-top: 1rem;\n    justify-content: center;\n  }\n`;\n\nconst LegendItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    font-size: 0.75rem;\n    gap: 0.25rem;\n  }\n`;\n\nconst LegendColor = styled.div`\n  width: 1rem;\n  height: 1rem;\n  border-radius: 2px;\n  background-color: ${({ color, theme }) => {\n    if (typeof color === \"function\") {\n      return color(theme);\n    }\n    return color;\n  }};\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"576px\"}) {\n    width: 0.75rem;\n    height: 0.75rem;\n  }\n`;\n\nconst VacationCalendar = ({ vacations, onDayClick }) => {\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [calendarDays, setCalendarDays] = useState([]);\n\n  // Générer les jours du calendrier\n  useEffect(() => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n\n    // Premier jour du mois\n    const firstDayOfMonth = new Date(year, month, 1);\n    // Dernier jour du mois\n    const lastDayOfMonth = new Date(year, month + 1, 0);\n\n    // Jour de la semaine du premier jour (0 = dimanche, 1 = lundi, etc.)\n    let firstDayOfWeek = firstDayOfMonth.getDay();\n    // Ajuster pour commencer par lundi (0 = lundi, 6 = dimanche)\n    firstDayOfWeek = firstDayOfWeek === 0 ? 6 : firstDayOfWeek - 1;\n\n    // Nombre de jours du mois précédent à afficher\n    const daysFromPrevMonth = firstDayOfWeek;\n\n    // Nombre de jours du mois suivant à afficher pour compléter la grille (6 semaines = 42 jours)\n    const totalDaysToShow = 42;\n    const daysFromNextMonth =\n      totalDaysToShow - lastDayOfMonth.getDate() - daysFromPrevMonth;\n\n    // Générer les jours du mois précédent\n    const prevMonthLastDay = new Date(year, month, 0).getDate();\n    const prevMonthDays = Array.from({ length: daysFromPrevMonth }, (_, i) => {\n      const day = prevMonthLastDay - daysFromPrevMonth + i + 1;\n      const date = new Date(year, month - 1, day);\n      return {\n        date,\n        day,\n        isCurrentMonth: false,\n        isToday: isSameDay(date, new Date()),\n        isWeekend: isWeekend(date),\n        isHoliday: isHoliday(date),\n        holidayName: getHolidayName(date),\n      };\n    });\n\n    // Générer les jours du mois courant\n    const currentMonthDays = Array.from(\n      { length: lastDayOfMonth.getDate() },\n      (_, i) => {\n        const day = i + 1;\n        const date = new Date(year, month, day);\n        return {\n          date,\n          day,\n          isCurrentMonth: true,\n          isToday: isSameDay(date, new Date()),\n          isWeekend: isWeekend(date),\n          isHoliday: isHoliday(date),\n          holidayName: getHolidayName(date),\n        };\n      }\n    );\n\n    // Générer les jours du mois suivant\n    const nextMonthDays = Array.from({ length: daysFromNextMonth }, (_, i) => {\n      const day = i + 1;\n      const date = new Date(year, month + 1, day);\n      return {\n        date,\n        day,\n        isCurrentMonth: false,\n        isToday: isSameDay(date, new Date()),\n        isWeekend: isWeekend(date),\n        isHoliday: isHoliday(date),\n        holidayName: getHolidayName(date),\n      };\n    });\n\n    // Combiner tous les jours\n    setCalendarDays([...prevMonthDays, ...currentMonthDays, ...nextMonthDays]);\n  }, [currentDate]);\n\n  // Vérifier si une date est aujourd'hui\n  function isSameDay(date1, date2) {\n    return (\n      date1.getDate() === date2.getDate() &&\n      date1.getMonth() === date2.getMonth() &&\n      date1.getFullYear() === date2.getFullYear()\n    );\n  }\n\n  // Obtenir le nom du jour férié\n  function getHolidayName(date) {\n    const dateStr = `${date.getFullYear()}-${String(\n      date.getMonth() + 1\n    ).padStart(2, \"0\")}-${String(date.getDate()).padStart(2, \"0\")}`;\n    const holiday = FRENCH_HOLIDAYS_2024.find((h) => h.date === dateStr);\n    return holiday ? holiday.name : null;\n  }\n\n  // Naviguer au mois précédent\n  const goToPreviousMonth = () => {\n    setCurrentDate(\n      new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1)\n    );\n  };\n\n  // Naviguer au mois suivant\n  const goToNextMonth = () => {\n    setCurrentDate(\n      new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1)\n    );\n  };\n\n  // Naviguer au mois courant\n  const goToCurrentMonth = () => {\n    setCurrentDate(new Date());\n  };\n\n  // Formater le mois et l'année\n  const formatMonthYear = (date) => {\n    return date.toLocaleDateString(\"fr-FR\", {\n      month: \"long\",\n      year: \"numeric\",\n    });\n  };\n\n  // Obtenir les congés pour une date donnée\n  const getVacationsForDate = (date) => {\n    return vacations.filter((vacation) => {\n      const startDate = new Date(vacation.startDate);\n      const endDate = new Date(vacation.endDate);\n      return date >= startDate && date <= endDate;\n    });\n  };\n\n  // Jours de la semaine\n  const weekDays = [\"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\", \"Dim\"];\n\n  // Modifier les fonctions de couleur pour prendre en compte le thème\n  const getTodayColor = (theme) =>\n    isDarkMode() ? \"#1A365D\" : theme.colors?.primary + \"11\" || \"#e6f7ff\";\n  const getWeekendColor = (theme) =>\n    isDarkMode() ? \"#2D3748\" : theme.colors?.background || \"#f5f5f5\";\n  const getHolidayColor = (theme) => (isDarkMode() ? \"#3D1A1A\" : \"#ffeeee\");\n\n  return (\n    <CalendarContainer>\n      <CalendarHeader>\n        <MonthTitle>{formatMonthYear(currentDate)}</MonthTitle>\n        <NavigationContainer>\n          <NavigationButton onClick={goToPreviousMonth}>\n            <FaChevronLeft />\n          </NavigationButton>\n          <NavigationButton onClick={goToCurrentMonth}>\n            Aujourd'hui\n          </NavigationButton>\n          <NavigationButton onClick={goToNextMonth}>\n            <FaChevronRight />\n          </NavigationButton>\n        </NavigationContainer>\n      </CalendarHeader>\n\n      <CalendarGrid>\n        {weekDays.map((day) => (\n          <DayHeader key={day}>{day}</DayHeader>\n        ))}\n\n        {calendarDays.map((day, index) => {\n          const dayVacations = getVacationsForDate(day.date);\n          return (\n            <DayCell\n              key={index}\n              isCurrentMonth={day.isCurrentMonth}\n              isToday={day.isToday}\n              isWeekend={day.isWeekend}\n              isHoliday={day.isHoliday}\n            >\n              <DayNumber>{day.day}</DayNumber>\n\n              {day.holidayName && <HolidayName>{day.holidayName}</HolidayName>}\n\n              {dayVacations.length > 0 && (\n                <VacationList>\n                  {dayVacations.map((vacation, vIndex) => (\n                    <VacationItem\n                      key={vIndex}\n                      type={vacation.type}\n                      status={vacation.status}\n                      title={`${vacation.employeeName} - ${vacation.type} (${vacation.status})`}\n                    >\n                      {vacation.employeeName}\n                    </VacationItem>\n                  ))}\n                </VacationList>\n              )}\n            </DayCell>\n          );\n        })}\n      </CalendarGrid>\n\n      <Legend>\n        {/* Légende pour les types de congés */}\n        {VACATION_TYPES.map((type) => (\n          <LegendItem key={type.value}>\n            <LegendColor color={type.color} />\n            {type.label}\n          </LegendItem>\n        ))}\n\n        {/* Légende pour les jours spéciaux */}\n        <LegendItem>\n          <LegendColor color={getTodayColor} />\n          Aujourd'hui\n        </LegendItem>\n        <LegendItem>\n          <LegendColor color={getWeekendColor} />\n          Weekend\n        </LegendItem>\n        <LegendItem>\n          <LegendColor color={getHolidayColor} />\n          Jour férié\n        </LegendItem>\n      </Legend>\n    </CalendarContainer>\n  );\n};\n\nexport default VacationCalendar;\n","import { useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { API_ENDPOINTS } from \"../config/api\";\nimport useApi from \"./useApi\";\n\n/**\n * Hook personnalisé pour gérer les départements\n * Récupère les départements depuis la base de données via les employés\n */\nconst useDepartments = () => {\n  const [departments, setDepartments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const api = useApi();\n\n  /**\n   * Récupère tous les départements depuis les employés existants\n   */\n  const fetchDepartments = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(API_ENDPOINTS.DEPARTMENTS.BASE);\n\n      if (response.ok) {\n        setDepartments(response.data);\n        setError(null);\n      } else {\n        throw new Error(\n          response.data?.message || \"Erreur lors du chargement des départements\"\n        );\n      }\n    } catch (err) {\n      console.error(\"Erreur lors du chargement des départements:\", err);\n      setError(\"Erreur lors du chargement des départements\");\n      toast.error(\"Erreur lors du chargement des départements\");\n    } finally {\n      setLoading(false);\n    }\n  }, [api]);\n\n  const createDepartment = useCallback(\n    async (departmentData) => {\n      try {\n        const response = await api.post(\n          API_ENDPOINTS.DEPARTMENTS.BASE,\n          departmentData\n        );\n\n        if (response.ok) {\n          setDepartments((prev) => [...prev, response.data]);\n          toast.success(\"Département créé avec succès\");\n          return { success: true, department: response.data };\n        } else {\n          throw new Error(\n            response.data?.message ||\n              \"Erreur lors de la création du département\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors de la création du département:\", err);\n        toast.error(\"Erreur lors de la création du département\");\n        return { success: false, error: err.message };\n      }\n    },\n    [api]\n  );\n\n  const updateDepartment = useCallback(\n    async (id, departmentData) => {\n      try {\n        const response = await api.put(\n          API_ENDPOINTS.DEPARTMENTS.BY_ID(id),\n          departmentData\n        );\n\n        if (response.ok) {\n          setDepartments((prev) =>\n            prev.map((dept) =>\n              dept.id === id ? { ...dept, ...response.data } : dept\n            )\n          );\n          toast.success(\"Département mis à jour avec succès\");\n          return { success: true, department: response.data };\n        } else {\n          throw new Error(\n            response.data?.message ||\n              \"Erreur lors de la mise à jour du département\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors de la mise à jour du département:\", err);\n        toast.error(\"Erreur lors de la mise à jour du département\");\n        return { success: false, error: err.message };\n      }\n    },\n    [api]\n  );\n\n  const deleteDepartment = useCallback(\n    async (id) => {\n      try {\n        const response = await api.delete(API_ENDPOINTS.DEPARTMENTS.BY_ID(id));\n\n        if (response.ok) {\n          setDepartments((prev) => prev.filter((dept) => dept.id !== id));\n          toast.success(\"Département supprimé avec succès\");\n          return { success: true };\n        } else {\n          throw new Error(\n            response.data?.message ||\n              \"Erreur lors de la suppression du département\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors de la suppression du département:\", err);\n        toast.error(\"Erreur lors de la suppression du département\");\n        return { success: false, error: err.message };\n      }\n    },\n    [api]\n  );\n\n  /**\n   * Récupère un département par son ID\n   */\n  const getDepartmentById = useCallback(\n    (id) => {\n      return departments.find((dept) => dept.id === id) || null;\n    },\n    [departments]\n  );\n\n  /**\n   * Récupère un département par son nom\n   */\n  const getDepartmentByName = useCallback(\n    (name) => {\n      return departments.find((dept) => dept.name === name) || null;\n    },\n    [departments]\n  );\n\n  // Charger les départements au montage du composant\n  useEffect(() => {\n    fetchDepartments();\n  }, [fetchDepartments]);\n\n  return {\n    departments,\n    loading,\n    error,\n    fetchDepartments,\n    createDepartment,\n    updateDepartment,\n    deleteDepartment,\n    getDepartmentById,\n    getDepartmentByName,\n  };\n};\n\nexport default useDepartments;\n","import jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport { useCallback, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { FaFilePdf, FaFilter } from \"react-icons/fa\";\nimport styled from \"styled-components\";\nimport { VACATION_TYPES } from \"../../config/constants\";\nimport useDepartments from \"../../hooks/useDepartments\";\nimport useEmployees from \"../../hooks/useEmployees\";\n\nconst ExportContainer = styled.div`\n  margin-bottom: 2rem;\n`;\n\nconst ExportButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme }) => theme.colors?.primary || \"#4F46E5\"};\n  color: white;\n  border: none;\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: ${({ theme }) =>\n      `${theme.colors?.primary}dd` || \"#4338CA\"};\n  }\n`;\n\nconst FilterButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme, active }) =>\n    active ? theme.colors?.primary || \"#4F46E5\" : \"white\"};\n  color: ${({ active }) => (active ? \"white\" : \"#374151\")};\n  border: 1px solid\n    ${({ theme, active }) =>\n      active ? theme.colors?.primary || \"#4F46E5\" : \"#D1D5DB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-right: 1rem;\n\n  &:hover {\n    background-color: ${({ theme, active }) =>\n      active ? `${theme.colors?.primary}dd` || \"#4338CA\" : \"#F9FAFB\"};\n  }\n`;\n\nconst FilterContainer = styled.div`\n  margin-bottom: 1rem;\n  display: ${({ show }) => (show ? \"block\" : \"none\")};\n  background-color: ${({ theme }) => theme.colors?.surface || \"#F9FAFB\"};\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.medium || \"0.375rem\"};\n  padding: 1rem;\n`;\n\nconst FilterGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 1rem;\n`;\n\nconst FilterGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst FilterLabel = styled.label`\n  font-weight: 500;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n`;\n\nconst FilterSelect = styled.select`\n  padding: 0.5rem;\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 0.875rem;\n  background-color: white;\n`;\n\nconst FilterInput = styled.input`\n  padding: 0.5rem;\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 0.875rem;\n`;\n\nconst FilterActions = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n`;\n\nconst ButtonsContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst VacationExport = ({ vacations, isGlobal = false, employeeName = \"\" }) => {\n  const [showFilters, setShowFilters] = useState(false);\n  const [filters, setFilters] = useState({\n    employeeId: \"\",\n    departmentId: \"\",\n    startDate: \"\",\n    endDate: \"\",\n    status: \"\",\n  });\n\n  const { employees } = useEmployees();\n  const { departments } = useDepartments();\n\n  // Formater la date pour l'affichage\n  const formatDate = (dateString) => {\n    if (!dateString) return \"-\";\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"fr-FR\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n    });\n  };\n\n  // Formater la date pour le nom de fichier\n  const formatDateForFileName = (date) => {\n    return date\n      .toLocaleDateString(\"fr-FR\", {\n        day: \"2-digit\",\n        month: \"2-digit\",\n        year: \"numeric\",\n      })\n      .replace(/\\//g, \"-\");\n  };\n\n  // Traduire le statut en français\n  const translateStatus = (status) => {\n    switch (status) {\n      case \"approved\":\n        return \"Approuvé\";\n      case \"rejected\":\n        return \"Refusé\";\n      case \"pending\":\n        return \"En attente\";\n      default:\n        return status;\n    }\n  };\n\n  // Traduire le type de congé en français\n  const translateType = (type) => {\n    const vacationType = VACATION_TYPES.find((t) => t.value === type);\n    return vacationType ? vacationType.label : type;\n  };\n\n  // Filtrer les congés selon les critères\n  const filterVacations = useCallback(() => {\n    return vacations.filter((vacation) => {\n      // Filtre par employé\n      if (\n        filters.employeeId &&\n        vacation.employeeId !== parseInt(filters.employeeId)\n      ) {\n        return false;\n      }\n\n      // Filtre par département (nécessite que les données d'employé incluent le département)\n      if (\n        filters.departmentId &&\n        employees.find((e) => e.id === vacation.employeeId)?.departmentId !==\n          parseInt(filters.departmentId)\n      ) {\n        return false;\n      }\n\n      // Filtre par date de début\n      if (\n        filters.startDate &&\n        new Date(vacation.startDate) < new Date(filters.startDate)\n      ) {\n        return false;\n      }\n\n      // Filtre par date de fin\n      if (\n        filters.endDate &&\n        new Date(vacation.endDate) > new Date(filters.endDate)\n      ) {\n        return false;\n      }\n\n      // Filtre par statut\n      if (filters.status && vacation.status !== filters.status) {\n        return false;\n      }\n\n      return true;\n    });\n  }, [vacations, filters, employees]);\n\n  // Réinitialiser les filtres\n  const resetFilters = () => {\n    setFilters({\n      employeeId: \"\",\n      departmentId: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      status: \"\",\n    });\n  };\n\n  // Gérer les changements de filtres\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    setFilters((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  // Exporter les congés en PDF\n  const exportToPdf = useCallback(() => {\n    try {\n      // Filtrer les congés selon les critères\n      const filteredVacations = filterVacations();\n\n      if (filteredVacations.length === 0) {\n        toast.warning(\n          \"Aucune demande de congé ne correspond aux critères de filtrage\"\n        );\n        return;\n      }\n\n      // Créer un nouveau document PDF en mode paysage\n      const doc = new jsPDF({\n        orientation: \"landscape\",\n        unit: \"mm\",\n        format: \"a4\",\n      });\n\n      // Définir le titre du document\n      const title = isGlobal\n        ? \"Récapitulatif des congés - Tous les employés\"\n        : `Récapitulatif des congés - ${employeeName}`;\n\n      // Ajouter le titre\n      doc.setFontSize(18);\n      doc.text(title, doc.internal.pageSize.getWidth() / 2, 20, {\n        align: \"center\",\n      });\n\n      // Ajouter la date d'exportation\n      doc.setFontSize(10);\n      doc.text(\n        `Exporté le ${new Date().toLocaleDateString(\"fr-FR\", {\n          day: \"2-digit\",\n          month: \"2-digit\",\n          year: \"numeric\",\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n        })}`,\n        doc.internal.pageSize.getWidth() - 15,\n        10,\n        { align: \"right\" }\n      );\n\n      // Ajouter les informations de filtrage si des filtres sont appliqués\n      let startY = 30;\n      if (Object.values(filters).some((v) => v !== \"\")) {\n        let filterText = \"Filtres appliqués: \";\n        const filterParts = [];\n\n        if (filters.employeeId) {\n          const employee = employees.find(\n            (e) => e.id === parseInt(filters.employeeId)\n          );\n          if (employee) {\n            filterParts.push(\n              `Employé: ${employee.first_name} ${employee.last_name}`\n            );\n          }\n        }\n\n        if (filters.departmentId) {\n          const department = departments.find(\n            (d) => d.id === parseInt(filters.departmentId)\n          );\n          if (department) {\n            filterParts.push(`Département: ${department.name}`);\n          }\n        }\n\n        if (filters.startDate) {\n          filterParts.push(`Après le: ${formatDate(filters.startDate)}`);\n        }\n\n        if (filters.endDate) {\n          filterParts.push(`Avant le: ${formatDate(filters.endDate)}`);\n        }\n\n        if (filters.status) {\n          filterParts.push(`Statut: ${translateStatus(filters.status)}`);\n        }\n\n        filterText += filterParts.join(\", \");\n\n        doc.setFontSize(10);\n        doc.text(filterText, 15, 30);\n        startY = 35;\n      }\n\n      // Définir les colonnes du tableau\n      const columns = isGlobal\n        ? [\n            { header: \"Employé\", dataKey: \"employee\" },\n            { header: \"Type\", dataKey: \"type\" },\n            { header: \"Début\", dataKey: \"start\" },\n            { header: \"Fin\", dataKey: \"end\" },\n            { header: \"Durée\", dataKey: \"duration\" },\n            { header: \"Statut\", dataKey: \"status\" },\n            { header: \"Date d'approbation\", dataKey: \"approvalDate\" },\n            { header: \"Motif\", dataKey: \"reason\" },\n          ]\n        : [\n            { header: \"Type\", dataKey: \"type\" },\n            { header: \"Début\", dataKey: \"start\" },\n            { header: \"Fin\", dataKey: \"end\" },\n            { header: \"Durée\", dataKey: \"duration\" },\n            { header: \"Statut\", dataKey: \"status\" },\n            { header: \"Date d'approbation\", dataKey: \"approvalDate\" },\n            { header: \"Motif\", dataKey: \"reason\" },\n          ];\n\n      // Préparer les données\n      const data = filteredVacations.map((vacation) => {\n        let approvalDate = \"-\";\n        if (vacation.status === \"approved\" && vacation.approvedAt) {\n          approvalDate = `${formatDate(vacation.approvedAt)}`;\n        } else if (vacation.status === \"rejected\" && vacation.rejectedAt) {\n          approvalDate = `${formatDate(vacation.rejectedAt)}`;\n        }\n\n        const row = {\n          type: translateType(vacation.type),\n          start: formatDate(vacation.startDate),\n          end: formatDate(vacation.endDate),\n          duration: vacation.duration,\n          status: translateStatus(vacation.status),\n          approvalDate: approvalDate,\n          reason: vacation.reason || \"-\",\n        };\n\n        if (isGlobal) {\n          row.employee = vacation.employeeName || \"Inconnu\";\n        }\n\n        return row;\n      });\n\n      // Ajouter le tableau\n      autoTable(doc, {\n        columns: columns,\n        body: data,\n        startY: 60,\n        styles: {\n          fontSize: 10,\n          cellPadding: 3,\n        },\n        headStyles: {\n          fillColor: [41, 128, 185],\n          textColor: 255,\n          fontStyle: \"bold\",\n        },\n        alternateRowStyles: {\n          fillColor: [240, 240, 240],\n        },\n      });\n\n      // Ajouter les numéros de page\n      const pageCount = doc.internal.getNumberOfPages();\n      for (let i = 1; i <= pageCount; i++) {\n        doc.setPage(i);\n        doc.setFontSize(10);\n        doc.text(\n          `Page ${i} sur ${pageCount}`,\n          doc.internal.pageSize.width / 2,\n          doc.internal.pageSize.height - 10,\n          { align: \"center\" }\n        );\n      }\n\n      // Sauvegarder le PDF\n      const fileName = isGlobal\n        ? `demandes_conges_${formatDateForFileName(new Date())}.pdf`\n        : `demandes_conges_${employeeName || \"Employe\"}_${formatDateForFileName(\n            new Date()\n          )}.pdf`;\n\n      doc.save(fileName);\n\n      toast.success(\"Export PDF réussi\");\n    } catch (error) {\n      console.error(\"Erreur lors de l'export PDF:\", error);\n      toast.error(\"Erreur lors de l'export PDF: \" + error.message);\n    }\n  }, [\n    isGlobal,\n    employeeName,\n    filterVacations,\n    filters,\n    employees,\n    departments,\n  ]);\n\n  return (\n    <ExportContainer>\n      <ButtonsContainer>\n        <FilterButton\n          onClick={() => setShowFilters(!showFilters)}\n          active={showFilters}\n        >\n          <FaFilter /> Filtres\n        </FilterButton>\n\n        <ExportButton onClick={exportToPdf}>\n          <FaFilePdf />\n          Exporter en PDF\n        </ExportButton>\n      </ButtonsContainer>\n\n      <FilterContainer show={showFilters}>\n        <FilterGrid>\n          {isGlobal && (\n            <>\n              <FilterGroup>\n                <FilterLabel>Employé</FilterLabel>\n                <FilterSelect\n                  name=\"employeeId\"\n                  value={filters.employeeId}\n                  onChange={handleFilterChange}\n                >\n                  <option value=\"\">Tous les employés</option>\n                  {employees.map((employee) => (\n                    <option key={employee.id} value={employee.id}>\n                      {employee.first_name} {employee.last_name}\n                    </option>\n                  ))}\n                </FilterSelect>\n              </FilterGroup>\n\n              <FilterGroup>\n                <FilterLabel>Département</FilterLabel>\n                <FilterSelect\n                  name=\"departmentId\"\n                  value={filters.departmentId}\n                  onChange={handleFilterChange}\n                >\n                  <option value=\"\">Tous les départements</option>\n                  {departments.map((department) => (\n                    <option key={department.id} value={department.id}>\n                      {department.name}\n                    </option>\n                  ))}\n                </FilterSelect>\n              </FilterGroup>\n            </>\n          )}\n\n          <FilterGroup>\n            <FilterLabel>Date de début (après)</FilterLabel>\n            <FilterInput\n              type=\"date\"\n              name=\"startDate\"\n              value={filters.startDate}\n              onChange={handleFilterChange}\n            />\n          </FilterGroup>\n\n          <FilterGroup>\n            <FilterLabel>Date de fin (avant)</FilterLabel>\n            <FilterInput\n              type=\"date\"\n              name=\"endDate\"\n              value={filters.endDate}\n              onChange={handleFilterChange}\n            />\n          </FilterGroup>\n\n          <FilterGroup>\n            <FilterLabel>Statut</FilterLabel>\n            <FilterSelect\n              name=\"status\"\n              value={filters.status}\n              onChange={handleFilterChange}\n            >\n              <option value=\"\">Tous les statuts</option>\n              <option value=\"pending\">En attente</option>\n              <option value=\"approved\">Approuvé</option>\n              <option value=\"rejected\">Refusé</option>\n            </FilterSelect>\n          </FilterGroup>\n        </FilterGrid>\n\n        <FilterActions>\n          <ExportButton\n            onClick={resetFilters}\n            style={{ backgroundColor: \"#6B7280\" }}\n          >\n            Réinitialiser\n          </ExportButton>\n        </FilterActions>\n      </FilterContainer>\n    </ExportContainer>\n  );\n};\n\nexport default VacationExport;\n","import { memo, useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport styled from \"styled-components\";\nimport { VACATION_TYPES } from \"../../config/constants\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport useEmployees from \"../../hooks/useEmployees\";\nimport { getWorkingDaysCount } from \"../../utils/dateUtils\";\n\nconst FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst Label = styled.label`\n  font-weight: 500;\n  color: ${({ theme }) => theme.colors.text.primary};\n`;\n\nconst Input = styled.input`\n  padding: 0.75rem;\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-size: 1rem;\n  background-color: ${({ theme }) => theme.colors.surface};\n  color: ${({ theme }) => theme.colors.text.primary};\n\n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors.primary};\n    box-shadow: 0 0 0 2px ${({ theme }) => `${theme.colors.primary}33`};\n  }\n`;\n\nconst Select = styled.select`\n  padding: 0.75rem;\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-size: 1rem;\n  background-color: ${({ theme }) => theme.colors.surface};\n  color: ${({ theme }) => theme.colors.text.primary};\n\n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors.primary};\n    box-shadow: 0 0 0 2px ${({ theme }) => `${theme.colors.primary}33`};\n  }\n`;\n\nconst Textarea = styled.textarea`\n  padding: 0.75rem;\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-size: 1rem;\n  background-color: ${({ theme }) => theme.colors.surface};\n  color: ${({ theme }) => theme.colors.text.primary};\n  min-height: 100px;\n  resize: vertical;\n\n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors.primary};\n    box-shadow: 0 0 0 2px ${({ theme }) => `${theme.colors.primary}33`};\n  }\n`;\n\nconst FileInput = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst FileInputLabel = styled.label`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme }) => theme.colors.background.secondary};\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  max-width: fit-content;\n\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.background.hover};\n  }\n`;\n\nconst HiddenFileInput = styled.input`\n  display: none;\n`;\n\nconst FileName = styled.div`\n  font-size: 0.875rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin-top: 0.5rem;\n`;\n\nconst ErrorMessage = styled.div`\n  color: ${({ theme }) => theme.colors.error};\n  font-size: 0.875rem;\n  margin-top: 0.25rem;\n`;\n\nconst FormActions = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 1rem;\n`;\n\nconst Button = styled.button`\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme, variant }) =>\n    variant === \"primary\"\n      ? theme.colors.primary\n      : variant === \"error\"\n      ? theme.colors.error\n      : \"transparent\"};\n  color: ${({ theme, variant }) =>\n    variant === \"primary\" || variant === \"error\"\n      ? \"white\"\n      : theme.colors.text.primary};\n  border: ${({ theme, variant }) =>\n    variant === \"outline\" ? `1px solid ${theme.colors.border}` : \"none\"};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: ${({ theme, variant }) =>\n      variant === \"primary\"\n        ? `${theme.colors.primary}dd`\n        : variant === \"error\"\n        ? `${theme.colors.error}dd`\n        : `${theme.colors.border}33`};\n  }\n`;\n\nconst DaysCount = styled.div`\n  background-color: ${({ theme }) => `${theme.colors.info}22`};\n  color: ${({ theme }) => theme.colors.info};\n  padding: 1rem;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  margin-top: 1rem;\n  font-size: 0.875rem;\n  border-left: 3px solid ${({ theme }) => theme.colors.info};\n`;\n\nconst QuotaWarning = styled.div`\n  background-color: ${({ theme }) => `${theme.colors.warning}22`};\n  color: ${({ theme }) => theme.colors.warning};\n  padding: 1rem;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  margin-top: 1rem;\n  font-size: 0.875rem;\n  border-left: 3px solid ${({ theme }) => theme.colors.warning};\n`;\n\nconst VacationForm = ({ vacation, onSubmit, onCancel, currentUser }) => {\n  const { user } = useAuth();\n  const { employees, loading: loadingEmployees } = useEmployees();\n  const [formData, setFormData] = useState({\n    employeeId: vacation?.employeeId || user?.id || \"\",\n    type: vacation?.type || \"paid\",\n    startDate: vacation?.startDate || \"\",\n    endDate: vacation?.endDate || \"\",\n    reason: vacation?.reason || \"\",\n    attachment: vacation?.attachment || null,\n  });\n  const [errors, setErrors] = useState({});\n  const [fileName, setFileName] = useState(\"\");\n  const [daysCount, setDaysCount] = useState(0);\n  const [quotaExceeded, setQuotaExceeded] = useState(false);\n\n  // Calculer le nombre de jours entre les dates sélectionnées\n  useEffect(() => {\n    if (formData.startDate && formData.endDate) {\n      const start = new Date(formData.startDate);\n      const end = new Date(formData.endDate);\n\n      // Vérifier que la date de fin est après la date de début\n      if (end < start) {\n        setErrors((prev) => ({\n          ...prev,\n          endDate: \"La date de fin doit être après la date de début\",\n        }));\n        setDaysCount(0);\n        return;\n      }\n\n      // Calculer le nombre de jours ouvrés\n      const count = getWorkingDaysCount(start, end);\n      setDaysCount(count);\n      setErrors((prev) => ({ ...prev, endDate: null }));\n\n      // Vérifier si le quota est dépassé (uniquement pour les congés payés et RTT)\n      if (formData.type === \"paid\" || formData.type === \"rtt\") {\n        const vacationType = VACATION_TYPES.find(\n          (t) => t.value === formData.type\n        );\n        const defaultQuota = vacationType ? vacationType.defaultQuota : 0;\n\n        // TODO: Récupérer le quota restant de l'employé depuis l'API\n        // Pour l'instant, on utilise le quota par défaut\n        const remainingQuota = defaultQuota;\n\n        setQuotaExceeded(count > remainingQuota);\n      } else {\n        setQuotaExceeded(false);\n      }\n    } else {\n      setDaysCount(0);\n      setQuotaExceeded(false);\n    }\n  }, [formData.startDate, formData.endDate, formData.type]);\n\n  const handleChange = useCallback(\n    (e) => {\n      const { name, value } = e.target;\n      setFormData((prev) => ({\n        ...prev,\n        [name]: value,\n      }));\n\n      // Effacer l'erreur lorsque l'utilisateur modifie le champ\n      if (errors[name]) {\n        setErrors((prev) => ({\n          ...prev,\n          [name]: null,\n        }));\n      }\n    },\n    [errors]\n  );\n\n  const handleFileChange = useCallback((e) => {\n    const file = e.target.files[0];\n    if (file) {\n      // Vérifier la taille du fichier (max 5MB)\n      if (file.size > 5 * 1024 * 1024) {\n        toast.error(\"Le fichier est trop volumineux (max 5MB)\");\n        return;\n      }\n\n      setFileName(file.name);\n      setFormData((prev) => ({\n        ...prev,\n        attachment: file,\n      }));\n    }\n  }, []);\n\n  // Valider le formulaire avant soumission\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Vérifier l'employé\n    if (!formData.employeeId) {\n      newErrors.employeeId = \"Veuillez sélectionner un employé\";\n    }\n\n    // Vérifier le type de congé\n    if (!formData.type) {\n      newErrors.type = \"Veuillez sélectionner un type de congé\";\n    }\n\n    // Vérifier les dates\n    if (!formData.startDate) {\n      newErrors.startDate = \"La date de début est requise\";\n    } else {\n      // Vérifier que la date est valide\n      const startDate = new Date(formData.startDate);\n      if (isNaN(startDate.getTime())) {\n        newErrors.startDate = \"Date de début invalide\";\n      }\n    }\n\n    if (!formData.endDate) {\n      newErrors.endDate = \"La date de fin est requise\";\n    } else {\n      // Vérifier que la date est valide\n      const endDate = new Date(formData.endDate);\n      if (isNaN(endDate.getTime())) {\n        newErrors.endDate = \"Date de fin invalide\";\n      }\n    }\n\n    // Vérifier que la date de fin est après la date de début\n    if (formData.startDate && formData.endDate) {\n      const startDate = new Date(formData.startDate);\n      const endDate = new Date(formData.endDate);\n\n      if (\n        !isNaN(startDate.getTime()) &&\n        !isNaN(endDate.getTime()) &&\n        endDate < startDate\n      ) {\n        newErrors.endDate = \"La date de fin doit être après la date de début\";\n      }\n    }\n\n    // Vérifier la raison si c'est un congé sans solde\n    if (formData.type === \"unpaid\" && !formData.reason) {\n      newErrors.reason = \"Une raison est requise pour les congés sans solde\";\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Gérer la soumission du formulaire\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(\n      \"Tentative de soumission du formulaire avec les données:\",\n      formData\n    );\n\n    // Valider le formulaire\n    if (!validateForm()) {\n      console.error(\"Validation du formulaire échouée:\", errors);\n      return;\n    }\n\n    // Vérifier que l'utilisateur est authentifié\n    if (!currentUser) {\n      console.error(\"Erreur: utilisateur non authentifié\");\n      toast.error(\"Vous devez être connecté pour soumettre ce formulaire\");\n      return;\n    }\n\n    // Formater les données pour l'API\n    const formattedData = {\n      ...formData,\n      // Convertir l'ID en nombre si nécessaire\n      employeeId: formData.employeeId ? String(formData.employeeId) : \"\",\n      // S'assurer que les dates sont au format YYYY-MM-DD\n      startDate: formData.startDate,\n      endDate: formData.endDate,\n      // S'assurer que le type est une chaîne valide\n      type: formData.type || \"paid\",\n      // S'assurer que la raison est une chaîne\n      reason: formData.reason || \"\",\n    };\n\n    console.log(\"Données soumises:\", formattedData);\n    onSubmit(formattedData);\n  };\n\n  return (\n    <FormContainer onSubmit={handleSubmit}>\n      {user?.role !== \"employee\" && (\n        <FormGroup>\n          <Label htmlFor=\"employeeId\">Employé</Label>\n          <Select\n            id=\"employeeId\"\n            name=\"employeeId\"\n            value={formData.employeeId}\n            onChange={handleChange}\n            disabled={loadingEmployees}\n          >\n            <option value=\"\">Sélectionner un employé</option>\n            {employees.map((employee) => (\n              <option key={employee.id} value={employee.id}>\n                {employee.first_name} {employee.last_name}\n              </option>\n            ))}\n          </Select>\n          {errors.employeeId && (\n            <ErrorMessage>{errors.employeeId}</ErrorMessage>\n          )}\n        </FormGroup>\n      )}\n\n      <FormGroup>\n        <Label htmlFor=\"type\">Type de congé</Label>\n        <Select\n          id=\"type\"\n          name=\"type\"\n          value={formData.type}\n          onChange={handleChange}\n        >\n          {VACATION_TYPES.map((type) => (\n            <option key={type.value} value={type.value}>\n              {type.label}\n            </option>\n          ))}\n        </Select>\n        {errors.type && <ErrorMessage>{errors.type}</ErrorMessage>}\n      </FormGroup>\n\n      <FormGroup>\n        <Label htmlFor=\"startDate\">Date de début</Label>\n        <Input\n          id=\"startDate\"\n          name=\"startDate\"\n          type=\"date\"\n          value={formData.startDate}\n          onChange={handleChange}\n        />\n        {errors.startDate && <ErrorMessage>{errors.startDate}</ErrorMessage>}\n      </FormGroup>\n\n      <FormGroup>\n        <Label htmlFor=\"endDate\">Date de fin</Label>\n        <Input\n          id=\"endDate\"\n          name=\"endDate\"\n          type=\"date\"\n          value={formData.endDate}\n          onChange={handleChange}\n        />\n        {errors.endDate && <ErrorMessage>{errors.endDate}</ErrorMessage>}\n      </FormGroup>\n\n      {daysCount > 0 && (\n        <DaysCount>\n          Cette demande représente{\" \"}\n          <strong>\n            {daysCount} jour{daysCount > 1 ? \"s\" : \"\"} ouvré\n            {daysCount > 1 ? \"s\" : \"\"}\n          </strong>{\" \"}\n          de congé.\n        </DaysCount>\n      )}\n\n      {quotaExceeded && (\n        <QuotaWarning>\n          Attention : cette demande dépasse votre quota de congés disponibles.\n        </QuotaWarning>\n      )}\n\n      <FormGroup>\n        <Label htmlFor=\"reason\">Motif (facultatif)</Label>\n        <Textarea\n          id=\"reason\"\n          name=\"reason\"\n          value={formData.reason}\n          onChange={handleChange}\n          placeholder=\"Précisez le motif de votre demande de congé...\"\n        />\n      </FormGroup>\n\n      <FormGroup>\n        <Label>\n          Pièce jointe (facultatif\n          {formData.type === \"sick\" ? \" mais recommandé\" : \"\"})\n        </Label>\n        <FileInput>\n          <FileInputLabel htmlFor=\"attachment\">\n            Choisir un fichier\n          </FileInputLabel>\n          <HiddenFileInput\n            id=\"attachment\"\n            name=\"attachment\"\n            type=\"file\"\n            onChange={handleFileChange}\n            accept=\".pdf,.jpg,.jpeg,.png\"\n          />\n          {fileName && <FileName>{fileName}</FileName>}\n          {errors.attachment && (\n            <ErrorMessage>{errors.attachment}</ErrorMessage>\n          )}\n        </FileInput>\n      </FormGroup>\n\n      <FormActions>\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n          Annuler\n        </Button>\n        <Button type=\"submit\" variant=\"primary\">\n          {vacation ? \"Modifier\" : \"Soumettre\"}\n        </Button>\n      </FormActions>\n    </FormContainer>\n  );\n};\n\nexport default memo(VacationForm);\n","import { useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { API_ENDPOINTS } from \"../config/api\";\nimport useApi from \"./useApi\";\nimport useWebSocket from \"./useWebSocket\";\n\n/**\n * Hook personnalisé pour gérer les congés\n */\nconst useVacations = () => {\n  const [vacations, setVacations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const api = useApi();\n\n  // Intégration WebSocket pour les mises à jour en temps réel\n  const { socket, isConnected, sendMessage, notifyDataChange, fallbackMode } =\n    useWebSocket();\n\n  // Écouter les mises à jour WebSocket\n  useEffect(() => {\n    if (socket && isConnected) {\n      // Fonction pour traiter les messages WebSocket\n      const handleWebSocketMessage = (event) => {\n        try {\n          const data = JSON.parse(event.data);\n\n          // Si le message concerne une mise à jour de congé\n          if (data.type === \"VACATION_UPDATED\" && data.vacation) {\n            setVacations((prevVacations) => {\n              // Vérifier si le congé existe déjà\n              const exists = prevVacations.some(\n                (vacation) => vacation.id === data.vacation.id\n              );\n\n              if (exists) {\n                // Mettre à jour le congé existant\n                return prevVacations.map((vacation) =>\n                  vacation.id === data.vacation.id ? data.vacation : vacation\n                );\n              } else {\n                // Ajouter le nouveau congé\n                return [...prevVacations, data.vacation];\n              }\n            });\n\n            toast.info(\"Demande de congé mise à jour en temps réel\");\n          }\n\n          // Si le message concerne une suppression de congé\n          if (data.type === \"VACATION_DELETED\" && data.vacationId) {\n            setVacations((prevVacations) =>\n              prevVacations.filter(\n                (vacation) => vacation.id !== data.vacationId\n              )\n            );\n\n            toast.info(\"Demande de congé supprimée en temps réel\");\n          }\n        } catch (error) {\n          console.error(\n            \"Erreur lors du traitement du message WebSocket:\",\n            error\n          );\n        }\n      };\n\n      // Ajouter l'écouteur d'événements\n      socket.addEventListener(\"message\", handleWebSocketMessage);\n\n      // Nettoyer l'écouteur lors du démontage\n      return () => {\n        socket.removeEventListener(\"message\", handleWebSocketMessage);\n      };\n    }\n  }, [socket, isConnected]);\n\n  /**\n   * Fonction utilitaire pour réessayer une requête API\n   * @param {Function} apiCall - Fonction d'appel API à réessayer\n   * @param {number} maxRetries - Nombre maximum de tentatives\n   * @param {number} delay - Délai entre les tentatives (en ms)\n   * @returns {Promise} - Résultat de l'appel API\n   */\n  const retryApiCall = useCallback(\n    async (apiCall, maxRetries = 3, delay = 1000) => {\n      let lastError = null;\n      let retryCount = 0;\n\n      while (retryCount < maxRetries) {\n        try {\n          return await apiCall();\n        } catch (err) {\n          lastError = err;\n          retryCount++;\n\n          // Si c'est la dernière tentative, ne pas attendre\n          if (retryCount < maxRetries) {\n            // Utiliser un délai exponentiel\n            const retryDelay = delay * Math.pow(2, retryCount - 1);\n            console.log(\n              `Tentative ${retryCount}/${maxRetries} échouée, nouvelle tentative dans ${retryDelay}ms`\n            );\n            await new Promise((resolve) => setTimeout(resolve, retryDelay));\n          }\n        }\n      }\n\n      // Si toutes les tentatives ont échoué, lancer l'erreur\n      throw lastError;\n    },\n    []\n  );\n\n  // Fonction pour charger les congés\n  const fetchVacations = useCallback(async () => {\n    let retryCount = 0;\n    const maxRetries = 3;\n\n    const loadVacations = async () => {\n      if (retryCount >= maxRetries) {\n        setError(\n          \"Erreur lors du chargement des congés après plusieurs tentatives\"\n        );\n        setLoading(false);\n        return;\n      }\n\n      try {\n        console.log(\"Chargement des congés...\");\n        const token = localStorage.getItem(\"token\");\n\n        if (!token) {\n          console.error(\"Token d'authentification manquant\");\n          setError(\"Vous devez être connecté pour accéder à ces données\");\n          setLoading(false);\n          return;\n        }\n\n        const data = await api.get(API_ENDPOINTS.VACATIONS);\n        console.log(\"Données des congés reçues:\", data);\n\n        if (Array.isArray(data)) {\n          setVacations(data);\n          setError(null);\n        } else {\n          console.error(\"Format de données invalide:\", data);\n          setError(\"Format de données invalide\");\n        }\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des congés:\", err);\n        setError(err.message || \"Erreur lors du chargement des congés\");\n\n        // Réessayer avec un délai exponentiel\n        retryCount++;\n        setTimeout(loadVacations, 1000 * Math.pow(2, retryCount));\n      }\n    };\n\n    setLoading(true);\n    setError(null);\n    await loadVacations();\n  }, [api]);\n\n  // Charger les congés au montage du composant\n  useEffect(() => {\n    fetchVacations();\n  }, [fetchVacations]);\n\n  /**\n   * Vérifie si la base de données est accessible\n   */\n  const checkDatabaseConnection = useCallback(async () => {\n    try {\n      // Faire une requête simple pour vérifier la connexion\n      const response = await api.get(API_ENDPOINTS.VACATIONS);\n\n      // Si la requête échoue avec une erreur de connexion, la base de données n'est pas accessible\n      if (!response.ok && (response.status === 0 || response.status >= 500)) {\n        console.error(\"La base de données semble inaccessible:\", response);\n        return {\n          connected: false,\n          error: \"La connexion à la base de données a échoué\",\n        };\n      }\n\n      return { connected: true };\n    } catch (error) {\n      console.error(\n        \"Erreur lors de la vérification de la connexion à la base de données:\",\n        error\n      );\n      return {\n        connected: false,\n        error:\n          \"Erreur lors de la vérification de la connexion à la base de données\",\n      };\n    }\n  }, [api]);\n\n  /**\n   * Crée une nouvelle demande de congé\n   */\n  const createVacation = useCallback(\n    async (vacationData) => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // Vérifier que les données essentielles sont présentes\n        if (!vacationData.employeeId) {\n          toast.error(\"L'identifiant de l'employé est requis\");\n          setLoading(false);\n          return {\n            success: false,\n            error: \"L'identifiant de l'employé est requis\",\n          };\n        }\n\n        if (!vacationData.startDate || !vacationData.endDate) {\n          toast.error(\"Les dates de début et de fin sont requises\");\n          setLoading(false);\n          return {\n            success: false,\n            error: \"Les dates de début et de fin sont requises\",\n          };\n        }\n\n        // Convertir les dates en objets Date\n        const startDate = new Date(vacationData.startDate);\n        const endDate = new Date(vacationData.endDate);\n\n        // Vérifier que les dates sont valides\n        if (isNaN(startDate.getTime()) || isNaN(endDate.getTime())) {\n          toast.error(\"Les dates fournies ne sont pas valides\");\n          setLoading(false);\n          return {\n            success: false,\n            error: \"Les dates fournies ne sont pas valides\",\n          };\n        }\n\n        // Vérifier que la date de début est avant la date de fin\n        if (startDate > endDate) {\n          toast.error(\"La date de début doit être antérieure à la date de fin\");\n          setLoading(false);\n          return {\n            success: false,\n            error: \"La date de début doit être antérieure à la date de fin\",\n          };\n        }\n\n        // Formater les données pour l'API - utiliser directement snake_case pour éviter les conversions\n        const formattedData = {\n          employee_id: String(vacationData.employeeId),\n          type: vacationData.type || \"paid\",\n          start_date: startDate.toISOString().split(\"T\")[0],\n          end_date: endDate.toISOString().split(\"T\")[0],\n          reason: vacationData.reason || \"\",\n          status: \"pending\",\n          // Supprimer les champs qui n'existent pas dans la table\n          // approved_by et approved_at ne sont pas dans la table\n          // rejected_by et rejected_at ne sont pas dans la table\n        };\n\n        // Vérifier que les données sont valides pour le backend\n        if (!formattedData.employee_id) {\n          console.error(\"Erreur: employee_id manquant après formatage\");\n          toast.error(\"L'identifiant de l'employé est requis\");\n          return {\n            success: false,\n            error: \"Erreur de formatage des données: employee_id manquant\",\n          };\n        }\n\n        // Vérifier que les dates sont au bon format\n        if (!formattedData.start_date || !formattedData.end_date) {\n          console.error(\"Erreur: dates mal formatées\", {\n            start_date: formattedData.start_date,\n            end_date: formattedData.end_date,\n          });\n          toast.error(\"Les dates de début et de fin sont requises\");\n          return {\n            success: false,\n            error: \"Erreur de formatage des dates\",\n          };\n        }\n\n        // Vérifier que le type est valide (paid, unpaid, sick, other)\n        const validTypes = [\"paid\", \"unpaid\", \"sick\", \"other\"];\n        if (!validTypes.includes(formattedData.type)) {\n          console.warn(\n            `Type de congé non standard: ${formattedData.type}, utilisation de 'paid' par défaut`\n          );\n          formattedData.type = \"paid\";\n        }\n\n        console.log(\"Données formatées pour l'API:\", formattedData);\n\n        // Récupérer le token d'authentification\n        const token = localStorage.getItem(\"token\");\n        console.log(\"Token d'authentification présent:\", !!token);\n\n        // Appel API avec retry en cas d'échec\n        const apiCall = async () => {\n          try {\n            const response = await api.post(\n              API_ENDPOINTS.VACATIONS,\n              formattedData\n            );\n            console.log(\"Réponse de l'API:\", response);\n\n            // Mettre à jour l'état local\n            setVacations((prevVacations) => [...prevVacations, response]);\n\n            // Notifier le succès\n            toast.success(\"Demande de congé créée avec succès\");\n\n            // Envoyer une notification WebSocket\n            if (socket && socket.readyState === WebSocket.OPEN) {\n              socket.send(\n                JSON.stringify({\n                  type: \"VACATION_CREATED\",\n                  data: response,\n                })\n              );\n            }\n\n            return { success: true, data: response };\n          } catch (error) {\n            console.error(\n              \"Erreur lors de la création de la demande de congé:\",\n              error\n            );\n\n            // Afficher un message d'erreur plus précis si disponible\n            const errorMessage =\n              error.response?.data?.message ||\n              error.response?.data?.error ||\n              error.message ||\n              \"Erreur lors de la création de la demande de congé\";\n\n            toast.error(errorMessage);\n            setError(errorMessage);\n\n            throw error;\n          }\n        };\n\n        // Exécuter l'appel API avec retry\n        const result = await retryApiCall(apiCall, 2, 1000);\n        setLoading(false);\n        return result;\n      } catch (error) {\n        console.error(\n          \"Erreur finale lors de la création de la demande de congé:\",\n          error\n        );\n        setLoading(false);\n        setError(\n          error.message || \"Erreur lors de la création de la demande de congé\"\n        );\n        return { success: false, error: error.message };\n      }\n    },\n    [\n      api,\n      retryApiCall,\n      socket,\n      isConnected,\n      notifyDataChange,\n      fallbackMode,\n      checkDatabaseConnection,\n    ]\n  );\n\n  /**\n   * Met à jour une demande de congé existante\n   */\n  const updateVacation = useCallback(\n    async (id, vacationData) => {\n      try {\n        const apiCall = async () => {\n          const response = await api.put(\n            `${API_ENDPOINTS.VACATIONS}/${id}`,\n            vacationData\n          );\n\n          if (!response.ok) {\n            throw new Error(\n              response.data?.message ||\n                \"Erreur lors de la mise à jour de la demande de congé\"\n            );\n          }\n\n          return response.data;\n        };\n\n        // Utiliser la fonction de retry\n        const data = await retryApiCall(apiCall);\n\n        setVacations((prev) =>\n          prev.map((vacation) => (vacation.id === id ? data : vacation))\n        );\n\n        // Notifier les autres clients via WebSocket\n        if (!fallbackMode && isConnected) {\n          notifyDataChange(\"vacation\", \"update\", id);\n        }\n\n        toast.success(\"Demande de congé mise à jour avec succès\");\n        return { success: true, vacation: data };\n      } catch (err) {\n        console.error(\n          \"Erreur lors de la mise à jour de la demande de congé:\",\n          err\n        );\n        const errorMessage = err.message || \"Erreur inconnue\";\n        toast.error(\n          `Erreur lors de la mise à jour de la demande de congé: ${errorMessage}`\n        );\n        return { success: false, error: errorMessage };\n      }\n    },\n    [api, retryApiCall, fallbackMode, isConnected, notifyDataChange]\n  );\n\n  /**\n   * Supprime une demande de congé\n   */\n  const deleteVacation = useCallback(\n    async (id) => {\n      try {\n        const apiCall = async () => {\n          const response = await api.delete(`${API_ENDPOINTS.VACATIONS}/${id}`);\n\n          if (!response.ok) {\n            throw new Error(\n              response.data?.message ||\n                \"Erreur lors de la suppression de la demande de congé\"\n            );\n          }\n\n          return response.data;\n        };\n\n        // Utiliser la fonction de retry\n        await retryApiCall(apiCall);\n\n        setVacations((prev) => prev.filter((vacation) => vacation.id !== id));\n\n        // Notifier les autres clients via WebSocket\n        if (!fallbackMode && isConnected) {\n          notifyDataChange(\"vacation\", \"delete\", id);\n        }\n\n        toast.success(\"Demande de congé supprimée avec succès\");\n        return { success: true };\n      } catch (err) {\n        console.error(\n          \"Erreur lors de la suppression de la demande de congé:\",\n          err\n        );\n        const errorMessage = err.message || \"Erreur inconnue\";\n        toast.error(\n          `Erreur lors de la suppression de la demande de congé: ${errorMessage}`\n        );\n        return { success: false, error: errorMessage };\n      }\n    },\n    [api, retryApiCall, fallbackMode, isConnected, notifyDataChange]\n  );\n\n  /**\n   * Approuve ou rejette une demande de congé\n   */\n  const updateVacationStatus = useCallback(\n    async (id, status, comment = \"\") => {\n      try {\n        const apiCall = async () => {\n          const response = await api.put(\n            `${API_ENDPOINTS.VACATIONS}/${id}/status`,\n            {\n              status,\n              comment,\n            }\n          );\n\n          if (!response.ok) {\n            throw new Error(\n              response.data?.message ||\n                `Erreur lors de la ${\n                  status === \"approved\" ? \"validation\" : \"rejet\"\n                } de la demande de congé`\n            );\n          }\n\n          return response.data;\n        };\n\n        // Utiliser la fonction de retry\n        const data = await retryApiCall(apiCall);\n\n        setVacations((prev) =>\n          prev.map((vacation) => (vacation.id === id ? data : vacation))\n        );\n\n        // Notifier les autres clients via WebSocket\n        if (!fallbackMode && isConnected) {\n          notifyDataChange(\"vacation\", \"update\", id);\n        }\n\n        toast.success(\n          `Demande de congé ${\n            status === \"approved\" ? \"approuvée\" : \"rejetée\"\n          } avec succès`\n        );\n        return { success: true, vacation: data };\n      } catch (err) {\n        console.error(\n          `Erreur lors de la ${\n            status === \"approved\" ? \"validation\" : \"rejet\"\n          } de la demande de congé:`,\n          err\n        );\n        const errorMessage = err.message || \"Erreur inconnue\";\n        toast.error(\n          `Erreur lors de la ${\n            status === \"approved\" ? \"validation\" : \"rejet\"\n          } de la demande de congé: ${errorMessage}`\n        );\n        return { success: false, error: errorMessage };\n      }\n    },\n    [api, retryApiCall, fallbackMode, isConnected, notifyDataChange]\n  );\n\n  /**\n   * Filtre les congés par statut\n   * @param {string|null} status - Le statut à filtrer (pending, approved, rejected) ou null pour tous\n   * @returns {Array} - Les congés filtrés\n   */\n  const getVacationsByStatus = useCallback(\n    (status) => {\n      if (!status) return vacations;\n      return vacations.filter((vacation) => vacation.status === status);\n    },\n    [vacations]\n  );\n\n  return {\n    vacations,\n    loading,\n    error,\n    fetchVacations,\n    createVacation,\n    updateVacation,\n    deleteVacation,\n    updateVacationStatus,\n    getVacationsByStatus,\n    approveVacation: (id) => updateVacationStatus(id, \"approved\"),\n    rejectVacation: (id, comment) =>\n      updateVacationStatus(id, \"rejected\", comment),\n  };\n};\n\nexport default useVacations;\n","import axios from \"axios\";\nimport { API_ENDPOINTS } from \"../config/api\";\n\n/**\n * Utilitaire pour enregistrer les activités dans la base de données\n */\nclass ActivityLogger {\n  /**\n   * Enregistre une activité dans la base de données\n   * @param {string} type - Type d'activité (create, update, delete, approve, reject, login, logout)\n   * @param {string} entity_type - Type d'entité concernée (employee, schedule, vacation, user, etc.)\n   * @param {string} entity_id - ID de l'entité concernée\n   * @param {string} description - Description de l'activité\n   * @param {object} userData - Données de l'utilisateur qui a effectué l'action\n   * @param {object} details - Détails supplémentaires au format JSON\n   * @returns {Promise<object>} - Promesse avec les données de l'activité créée\n   */\n  static async logActivity(\n    type,\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    try {\n      const activityData = {\n        type,\n        entity_type,\n        entity_id,\n        description,\n        userId: userData?.id || null,\n        userName:\n          userData?.first_name && userData?.last_name\n            ? `${userData.first_name} ${userData.last_name}`\n            : userData?.username || \"Utilisateur inconnu\",\n        details,\n        timestamp: new Date().toISOString(),\n      };\n\n      console.log(\"Enregistrement d'une nouvelle activité:\", activityData);\n\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.post(\n        API_ENDPOINTS.ACTIVITIES.LOG,\n        activityData,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            ...(token && { Authorization: `Bearer ${token}` }),\n          },\n        }\n      );\n\n      if (response.status === 200 || response.status === 201) {\n        console.log(\"Activité enregistrée avec succès:\", response.data);\n        return response.data;\n      } else {\n        console.error(\n          \"Erreur lors de l'enregistrement de l'activité:\",\n          response.data?.message\n        );\n        return null;\n      }\n    } catch (error) {\n      console.error(\"Erreur lors de l'enregistrement de l'activité:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Enregistre une activité de création\n   */\n  static async logCreation(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"create\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de mise à jour\n   */\n  static async logUpdate(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"update\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de suppression\n   */\n  static async logDeletion(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"delete\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité d'approbation\n   */\n  static async logApproval(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"approve\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de rejet\n   */\n  static async logRejection(\n    entity_type,\n    entity_id,\n    description,\n    userData,\n    details = {}\n  ) {\n    return this.logActivity(\n      \"reject\",\n      entity_type,\n      entity_id,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de connexion\n   */\n  static async logLogin(userId, description, userData, details = {}) {\n    return this.logActivity(\n      \"login\",\n      \"user\",\n      userId,\n      description,\n      userData,\n      details\n    );\n  }\n\n  /**\n   * Enregistre une activité de déconnexion\n   */\n  static async logLogout(userId, description, userData, details = {}) {\n    return this.logActivity(\n      \"logout\",\n      \"user\",\n      userId,\n      description,\n      userData,\n      details\n    );\n  }\n}\n\nexport default ActivityLogger;\n","import Lottie from \"lottie-react\";\nimport { useCallback, useState } from \"react\";\nimport { FaCalendarAlt, FaList, FaPlus } from \"react-icons/fa\";\nimport styled from \"styled-components\";\nimport holidaysAnimation from \"../assets/animations/holidays.json\";\nimport { useNotification } from \"../components/ui/Notification\";\nimport VacationCalendar from \"../components/vacations/VacationCalendar\";\nimport VacationExport from \"../components/vacations/VacationExport\";\nimport VacationForm from \"../components/vacations/VacationForm\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport useVacations from \"../hooks/useVacations\";\nimport ActivityLogger from \"../utils/activityLogger\";\n\n// Composants stylisés\nconst VacationsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;\n\nconst PageHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.md || \"768px\"}) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n`;\n\nconst HeaderLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1.5rem;\n`;\n\nconst AnimationContainer = styled.div`\n  width: 80px;\n  height: 80px;\n  flex-shrink: 0;\n`;\n\nconst TitleContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst PageTitle = styled.h1`\n  font-size: 2rem;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n  margin-bottom: 0.5rem;\n`;\n\nconst PageDescription = styled.p`\n  color: ${({ theme }) => theme.colors?.text?.secondary || \"#6B7280\"};\n  font-size: 1.1rem;\n`;\n\nconst Button = styled.button`\n  padding: 0.75rem 1.5rem;\n  background-color: ${({ theme, variant }) =>\n    variant === \"primary\" ? theme.colors?.primary || \"#4F46E5\" : \"transparent\"};\n  color: ${({ theme, variant }) =>\n    variant === \"primary\" ? \"white\" : theme.colors?.text?.primary || \"#111827\"};\n  border: ${({ theme, variant }) =>\n    variant === \"outline\"\n      ? `1px solid ${theme.colors?.border || \"#E5E7EB\"}`\n      : \"none\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    background-color: ${({ theme, variant }) =>\n      variant === \"primary\"\n        ? `${theme.colors?.primary || \"#4F46E5\"}dd`\n        : `${theme.colors?.border || \"#E5E7EB\"}33`};\n  }\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  border-bottom: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  margin-bottom: 1.5rem;\n`;\n\nconst Tab = styled.button`\n  padding: 0.75rem 1.5rem;\n  background: none;\n  border: none;\n  border-bottom: 2px solid\n    ${({ active, theme }) =>\n      active ? theme.colors?.primary || \"#4F46E5\" : \"transparent\"};\n  color: ${({ active, theme }) =>\n    active\n      ? theme.colors?.primary || \"#4F46E5\"\n      : theme.colors?.text?.secondary || \"#6B7280\"};\n  font-weight: ${({ active }) => (active ? 500 : 400)};\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    color: ${({ theme }) => theme.colors?.primary || \"#4F46E5\"};\n  }\n`;\n\nconst ViewToggle = styled.div`\n  display: flex;\n  margin-bottom: 1.5rem;\n`;\n\nconst ViewToggleButton = styled.button`\n  padding: 0.5rem 1rem;\n  background-color: ${({ active, theme }) =>\n    active\n      ? theme.colors?.primary || \"#4F46E5\"\n      : theme.colors?.background || \"#F9FAFB\"};\n  color: ${({ active, theme }) =>\n    active ? \"white\" : theme.colors?.text?.primary || \"#111827\"};\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:first-child {\n    border-top-left-radius: ${({ theme }) =>\n      theme.borderRadius?.small || \"0.25rem\"};\n    border-bottom-left-radius: ${({ theme }) =>\n      theme.borderRadius?.small || \"0.25rem\"};\n  }\n\n  &:last-child {\n    border-top-right-radius: ${({ theme }) =>\n      theme.borderRadius?.small || \"0.25rem\"};\n    border-bottom-right-radius: ${({ theme }) =>\n      theme.borderRadius?.small || \"0.25rem\"};\n  }\n\n  &:hover {\n    background-color: ${({ active, theme }) =>\n      active\n        ? theme.colors?.primary || \"#4F46E5\"\n        : theme.colors?.background || \"#F9FAFB\"};\n  }\n`;\n\nconst VacationCard = styled.div`\n  background-color: ${({ theme }) => theme.colors?.surface || \"#FFFFFF\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.medium || \"0.375rem\"};\n  padding: 1.5rem;\n  box-shadow: ${({ theme }) =>\n    theme.shadows?.small || \"0 1px 2px 0 rgba(0, 0, 0, 0.05)\"};\n  margin-bottom: 1rem;\n  border-left: 4px solid\n    ${({ status, theme }) =>\n      status === \"approved\"\n        ? theme.colors?.success || \"#10B981\"\n        : status === \"rejected\"\n        ? theme.colors?.danger || \"#EF4444\"\n        : theme.colors?.warning || \"#F59E0B\"};\n`;\n\nconst VacationHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints?.sm || \"640px\"}) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.5rem;\n  }\n`;\n\nconst VacationTitle = styled.h3`\n  font-size: 1.25rem;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n  margin: 0;\n`;\n\nconst VacationStatus = styled.span`\n  display: inline-block;\n  padding: 0.25rem 0.75rem;\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 0.875rem;\n  font-weight: 500;\n  background-color: ${({ status, theme }) =>\n    status === \"approved\"\n      ? `${theme.colors?.success || \"#10B981\"}22`\n      : status === \"rejected\"\n      ? `${theme.colors?.danger || \"#EF4444\"}22`\n      : `${theme.colors?.warning || \"#F59E0B\"}22`};\n  color: ${({ status, theme }) =>\n    status === \"approved\"\n      ? theme.colors?.success || \"#10B981\"\n      : status === \"rejected\"\n      ? theme.colors?.danger || \"#EF4444\"\n      : theme.colors?.warning || \"#F59E0B\"};\n`;\n\nconst VacationDetails = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 1rem;\n`;\n\nconst VacationDetail = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst DetailLabel = styled.div`\n  font-size: 0.875rem;\n  color: ${({ theme }) => theme.colors?.text?.secondary || \"#6B7280\"};\n  margin-bottom: 0.25rem;\n`;\n\nconst DetailValue = styled.div`\n  font-weight: 500;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n`;\n\nconst VacationActions = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  margin-top: 1rem;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 3rem 1rem;\n  color: ${({ theme }) => theme.colors?.text?.secondary || \"#6B7280\"};\n`;\n\nconst Modal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 1rem;\n`;\n\nconst ModalContent = styled.div`\n  background-color: ${({ theme }) => theme.colors?.surface || \"#FFFFFF\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.medium || \"0.375rem\"};\n  padding: 1.5rem;\n  width: 100%;\n  max-width: 600px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: ${({ theme }) =>\n    theme.shadows?.large || \"0 10px 15px -3px rgba(0, 0, 0, 0.1)\"};\n`;\n\nconst ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n`;\n\nconst ModalTitle = styled.h2`\n  font-size: 1.5rem;\n  color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n  margin: 0;\n`;\n\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors?.text?.secondary || \"#6B7280\"};\n  font-size: 1.5rem;\n  cursor: pointer;\n\n  &:hover {\n    color: ${({ theme }) => theme.colors?.text?.primary || \"#111827\"};\n  }\n`;\n\nconst RejectModal = styled(Modal)``;\n\nconst RejectModalContent = styled(ModalContent)`\n  max-width: 400px;\n`;\n\nconst RejectForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst RejectTextarea = styled.textarea`\n  padding: 0.75rem;\n  border: 1px solid ${({ theme }) => theme.colors?.border || \"#E5E7EB\"};\n  border-radius: ${({ theme }) => theme.borderRadius?.small || \"0.25rem\"};\n  font-size: 1rem;\n  min-height: 100px;\n  resize: vertical;\n\n  &:focus {\n    outline: none;\n    border-color: ${({ theme }) => theme.colors?.primary || \"#4F46E5\"};\n  }\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 1rem;\n`;\n\n// Composant Vacations\nconst Vacations = () => {\n  const { user } = useAuth();\n  const {\n    vacations,\n    loading,\n    error,\n    createVacation,\n    updateVacation,\n    approveVacation,\n    rejectVacation,\n    deleteVacation,\n    getVacationsByStatus,\n    refetch: fetchVacations,\n  } = useVacations();\n  const { showNotification } = useNotification();\n\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [viewMode, setViewMode] = useState(\"list\");\n  const [showModal, setShowModal] = useState(false);\n  const [showRejectModal, setShowRejectModal] = useState(false);\n  const [selectedVacation, setSelectedVacation] = useState(null);\n  const [rejectionReason, setRejectionReason] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Filtrer les demandes en fonction de l'onglet actif\n  const filteredVacations = getVacationsByStatus(\n    activeTab === \"all\" ? null : activeTab\n  );\n\n  // Formater la date\n  const formatDate = (dateString) => {\n    if (!dateString) return \"\";\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"fr-FR\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n    });\n  };\n\n  // Traduire le type de congé\n  const translateType = (type) => {\n    const types = {\n      paid: \"Congés payés\",\n      rtt: \"RTT\",\n      unpaid: \"Congés sans solde\",\n      sick: \"Maladie\",\n      exceptional: \"Absence exceptionnelle\",\n      recovery: \"Récupération\",\n    };\n    return types[type] || type;\n  };\n\n  // Gérer la soumission du formulaire\n  const handleSubmit = useCallback(\n    async (vacationData) => {\n      setIsLoading(true);\n      try {\n        console.log(\"Données du formulaire soumises:\", vacationData);\n\n        // Vérifier que l'utilisateur est authentifié\n        if (!user) {\n          console.error(\"Erreur: utilisateur non authentifié\");\n          showNotification(\n            \"Vous devez être connecté pour créer une demande de congé\",\n            \"error\"\n          );\n          setTimeout(() => {\n            window.location.href = \"/login\";\n          }, 2000);\n          return;\n        }\n\n        // Vérifier que les données requises sont présentes\n        if (!vacationData.employeeId) {\n          throw new Error(\"L'identifiant de l'employé est requis\");\n        }\n\n        if (!vacationData.startDate || !vacationData.endDate) {\n          throw new Error(\"Les dates de début et de fin sont requises\");\n        }\n\n        if (selectedVacation) {\n          // Mise à jour d'un congé existant\n          console.log(\"Mise à jour d'un congé existant:\", selectedVacation.id);\n          const response = await updateVacation(\n            selectedVacation.id,\n            vacationData\n          );\n\n          console.log(\"Réponse de mise à jour:\", response);\n\n          if (response.success) {\n            // Enregistrer l'activité de mise à jour\n            await ActivityLogger.logUpdate(\n              \"vacation\",\n              selectedVacation.id,\n              `Mise à jour d'une demande de congé du ${formatDate(\n                vacationData.startDate\n              )} au ${formatDate(vacationData.endDate)}`,\n              user\n            );\n\n            setSelectedVacation(null);\n            setShowModal(false);\n            showNotification(\n              \"Demande de congé mise à jour avec succès\",\n              \"success\"\n            );\n          } else {\n            // Vérifier si l'erreur est liée à l'authentification\n            if (\n              response.error === \"Authentification requise\" ||\n              response.error === \"Session expirée\"\n            ) {\n              showNotification(\n                \"Session expirée. Veuillez vous reconnecter.\",\n                \"error\"\n              );\n              setTimeout(() => {\n                window.location.href = \"/login\";\n              }, 2000);\n              return;\n            }\n            throw new Error(response.error || \"Erreur lors de la mise à jour\");\n          }\n        } else {\n          // Création d'un nouveau congé\n          console.log(\"Création d'un nouveau congé\");\n          const response = await createVacation(vacationData);\n\n          console.log(\"Réponse de création:\", response);\n\n          if (response.success) {\n            // Enregistrer l'activité de création\n            await ActivityLogger.logCreation(\n              \"vacation\",\n              response.vacation.id,\n              `Nouvelle demande de congé du ${formatDate(\n                vacationData.startDate\n              )} au ${formatDate(vacationData.endDate)}`,\n              user\n            );\n\n            setSelectedVacation(null);\n            setShowModal(false);\n            showNotification(\"Demande de congé créée avec succès\", \"success\");\n          } else {\n            // Vérifier si l'erreur est liée à l'authentification\n            if (\n              response.error === \"Authentification requise\" ||\n              response.error === \"Session expirée\"\n            ) {\n              showNotification(\n                \"Session expirée. Veuillez vous reconnecter.\",\n                \"error\"\n              );\n              setTimeout(() => {\n                window.location.href = \"/login\";\n              }, 2000);\n              return;\n            }\n            throw new Error(response.error || \"Erreur lors de la création\");\n          }\n        }\n      } catch (error) {\n        console.error(\"Erreur détaillée lors de la soumission:\", error);\n        showNotification(error.message || \"Une erreur est survenue\", \"error\");\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [\n      selectedVacation,\n      createVacation,\n      updateVacation,\n      user,\n      formatDate,\n      showNotification,\n    ]\n  );\n\n  // Gérer l'approbation d'une demande\n  const handleApprove = useCallback(\n    async (id) => {\n      try {\n        await approveVacation(id);\n        showNotification(\"Demande de congé approuvée\", \"success\");\n      } catch (error) {\n        showNotification(\"Erreur lors de l'approbation de la demande\", \"error\");\n      }\n    },\n    [approveVacation, showNotification]\n  );\n\n  // Gérer le rejet d'une demande\n  const handleReject = useCallback(\n    async (id, reason) => {\n      try {\n        await rejectVacation(id, reason);\n        showNotification(\"Demande de congé rejetée\", \"success\");\n        setShowRejectModal(false);\n        setRejectionReason(\"\");\n      } catch (error) {\n        showNotification(\"Erreur lors du rejet de la demande\", \"error\");\n      }\n    },\n    [rejectVacation, showNotification]\n  );\n\n  // Ouvrir le modal de rejet\n  const openRejectModal = useCallback((vacation) => {\n    setSelectedVacation(vacation);\n    setShowRejectModal(true);\n  }, []);\n\n  // Gérer la suppression d'une demande\n  const handleDelete = useCallback(\n    async (id) => {\n      if (!id) return;\n\n      setIsLoading(true);\n      try {\n        const vacationToDelete = vacations.find((v) => v.id === id);\n        if (!vacationToDelete) {\n          throw new Error(\"Demande de congé introuvable\");\n        }\n\n        const response = await deleteVacation(id);\n        if (response.success) {\n          // Enregistrer l'activité de suppression\n          await ActivityLogger.logDeletion(\n            \"vacation\",\n            id,\n            `Suppression d'une demande de congé du ${formatDate(\n              vacationToDelete.startDate\n            )} au ${formatDate(vacationToDelete.endDate)}`,\n            user\n          );\n\n          setSelectedVacation(null);\n          showNotification(\"Demande de congé supprimée avec succès\", \"success\");\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la suppression:\", error);\n        showNotification(\n          error.message || \"Une erreur est survenue lors de la suppression\",\n          \"error\"\n        );\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [vacations, deleteVacation, user]\n  );\n\n  // Ouvrir le modal d'édition\n  const handleEdit = useCallback((vacation) => {\n    setSelectedVacation(vacation);\n    setShowModal(true);\n  }, []);\n\n  // Gérer le clic sur un jour du calendrier\n  const handleDayClick = useCallback((date) => {\n    // Créer une nouvelle demande de congé avec la date sélectionnée\n    setSelectedVacation(null);\n    setShowModal(true);\n    // Le formulaire sera pré-rempli avec cette date\n  }, []);\n\n  return (\n    <VacationsContainer>\n      <PageHeader>\n        <HeaderLeft>\n          <AnimationContainer>\n            <Lottie\n              animationData={holidaysAnimation}\n              loop={true}\n              autoplay={true}\n              style={{ height: 80, width: 80 }}\n            />\n          </AnimationContainer>\n          <TitleContainer>\n            <PageTitle>Gestion des congés</PageTitle>\n            <PageDescription>\n              Gérez les demandes de congés de vos employés\n            </PageDescription>\n          </TitleContainer>\n        </HeaderLeft>\n\n        <Button variant=\"primary\" onClick={() => setShowModal(true)}>\n          <FaPlus /> Nouvelle demande\n        </Button>\n      </PageHeader>\n\n      <TabsContainer>\n        <Tab active={activeTab === \"all\"} onClick={() => setActiveTab(\"all\")}>\n          Tous\n        </Tab>\n        <Tab\n          active={activeTab === \"pending\"}\n          onClick={() => setActiveTab(\"pending\")}\n        >\n          En attente\n        </Tab>\n        <Tab\n          active={activeTab === \"approved\"}\n          onClick={() => setActiveTab(\"approved\")}\n        >\n          Approuvés\n        </Tab>\n        <Tab\n          active={activeTab === \"rejected\"}\n          onClick={() => setActiveTab(\"rejected\")}\n        >\n          Refusés\n        </Tab>\n      </TabsContainer>\n\n      <ViewToggle>\n        <ViewToggleButton\n          active={viewMode === \"list\"}\n          onClick={() => setViewMode(\"list\")}\n        >\n          <FaList /> Liste\n        </ViewToggleButton>\n        <ViewToggleButton\n          active={viewMode === \"calendar\"}\n          onClick={() => setViewMode(\"calendar\")}\n        >\n          <FaCalendarAlt /> Calendrier\n        </ViewToggleButton>\n      </ViewToggle>\n\n      {/* Bouton d'export PDF */}\n      {filteredVacations.length > 0 && (\n        <VacationExport vacations={filteredVacations} isGlobal={true} />\n      )}\n\n      {/* Vue calendrier */}\n      {viewMode === \"calendar\" && (\n        <VacationCalendar\n          vacations={filteredVacations}\n          onDayClick={handleDayClick}\n        />\n      )}\n\n      {/* Vue liste */}\n      {viewMode === \"list\" && (\n        <>\n          {filteredVacations.length > 0 ? (\n            filteredVacations.map((vacation) => (\n              <VacationCard key={vacation.id} status={vacation.status}>\n                <VacationHeader>\n                  <VacationTitle>\n                    {vacation.employeeName || \"Employé inconnu\"}\n                  </VacationTitle>\n                  <VacationStatus status={vacation.status}>\n                    {vacation.status === \"approved\"\n                      ? \"Approuvé\"\n                      : vacation.status === \"rejected\"\n                      ? \"Refusé\"\n                      : \"En attente\"}\n                  </VacationStatus>\n                </VacationHeader>\n\n                <VacationDetails>\n                  <VacationDetail>\n                    <DetailLabel>Type</DetailLabel>\n                    <DetailValue>{translateType(vacation.type)}</DetailValue>\n                  </VacationDetail>\n\n                  <VacationDetail>\n                    <DetailLabel>Date de début</DetailLabel>\n                    <DetailValue>{formatDate(vacation.startDate)}</DetailValue>\n                  </VacationDetail>\n\n                  <VacationDetail>\n                    <DetailLabel>Date de fin</DetailLabel>\n                    <DetailValue>{formatDate(vacation.endDate)}</DetailValue>\n                  </VacationDetail>\n\n                  <VacationDetail>\n                    <DetailLabel>Durée</DetailLabel>\n                    <DetailValue>{vacation.duration}</DetailValue>\n                  </VacationDetail>\n                </VacationDetails>\n\n                <VacationDetail>\n                  <DetailLabel>Motif</DetailLabel>\n                  <DetailValue>{vacation.reason || \"-\"}</DetailValue>\n                </VacationDetail>\n\n                {vacation.status === \"approved\" && (\n                  <VacationDetail>\n                    <DetailLabel>Approuvé le</DetailLabel>\n                    <DetailValue>\n                      {formatDate(vacation.approvedAt)}{\" \"}\n                      {vacation.approvedAt\n                        ? new Date(vacation.approvedAt).toLocaleTimeString(\n                            \"fr-FR\",\n                            {\n                              hour: \"2-digit\",\n                              minute: \"2-digit\",\n                            }\n                          )\n                        : \"\"}\n                    </DetailValue>\n                  </VacationDetail>\n                )}\n\n                {vacation.status === \"rejected\" && (\n                  <VacationDetail>\n                    <DetailLabel>Refusé le</DetailLabel>\n                    <DetailValue>\n                      {formatDate(vacation.rejectedAt)}{\" \"}\n                      {vacation.rejectedAt\n                        ? new Date(vacation.rejectedAt).toLocaleTimeString(\n                            \"fr-FR\",\n                            {\n                              hour: \"2-digit\",\n                              minute: \"2-digit\",\n                            }\n                          )\n                        : \"\"}\n                    </DetailValue>\n                  </VacationDetail>\n                )}\n\n                {vacation.status === \"rejected\" && vacation.rejectionReason && (\n                  <VacationDetail>\n                    <DetailLabel>Motif du refus</DetailLabel>\n                    <DetailValue>{vacation.rejectionReason}</DetailValue>\n                  </VacationDetail>\n                )}\n\n                {/* Actions selon le statut et le rôle de l'utilisateur */}\n                <VacationActions>\n                  {/* Actions pour les employés sur leurs propres demandes en attente */}\n                  {vacation.employeeId === user.id &&\n                    vacation.status === \"pending\" && (\n                      <>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleDelete(vacation.id)}\n                        >\n                          Supprimer\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleEdit(vacation)}\n                        >\n                          Modifier\n                        </Button>\n                      </>\n                    )}\n\n                  {/* Actions pour les admins et managers sur les demandes en attente */}\n                  {(user.role === \"admin\" || user.role === \"manager\") &&\n                    vacation.status === \"pending\" && (\n                      <>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => openRejectModal(vacation)}\n                        >\n                          Refuser\n                        </Button>\n                        <Button\n                          variant=\"primary\"\n                          onClick={() => handleApprove(vacation.id)}\n                        >\n                          Approuver\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleDelete(vacation.id)}\n                        >\n                          Supprimer\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleEdit(vacation)}\n                        >\n                          Modifier\n                        </Button>\n                      </>\n                    )}\n\n                  {/* Actions pour les admins et managers sur les demandes approuvées */}\n                  {(user.role === \"admin\" || user.role === \"manager\") &&\n                    vacation.status === \"approved\" && (\n                      <>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => {\n                            // Mettre la demande en attente\n                            updateVacation(vacation.id, { status: \"pending\" });\n                          }}\n                        >\n                          Remettre en attente\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleDelete(vacation.id)}\n                        >\n                          Supprimer\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleEdit(vacation)}\n                        >\n                          Modifier\n                        </Button>\n                      </>\n                    )}\n\n                  {/* Actions pour les admins et managers sur les demandes rejetées */}\n                  {(user.role === \"admin\" || user.role === \"manager\") &&\n                    vacation.status === \"rejected\" && (\n                      <>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => {\n                            // Mettre la demande en attente\n                            updateVacation(vacation.id, { status: \"pending\" });\n                          }}\n                        >\n                          Remettre en attente\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleDelete(vacation.id)}\n                        >\n                          Supprimer\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => handleEdit(vacation)}\n                        >\n                          Modifier\n                        </Button>\n                      </>\n                    )}\n                </VacationActions>\n              </VacationCard>\n            ))\n          ) : (\n            <EmptyState>\n              Aucune demande de congés{\" \"}\n              {activeTab !== \"all\"\n                ? `${\n                    activeTab === \"pending\"\n                      ? \"en attente\"\n                      : activeTab === \"approved\"\n                      ? \"approuvée\"\n                      : \"refusée\"\n                  }`\n                : \"\"}{\" \"}\n              trouvée.\n            </EmptyState>\n          )}\n        </>\n      )}\n\n      {/* Modal de création/édition de demande */}\n      {showModal && (\n        <Modal onClick={() => setShowModal(false)}>\n          <ModalContent onClick={(e) => e.stopPropagation()}>\n            <ModalHeader>\n              <ModalTitle>\n                {selectedVacation\n                  ? \"Modifier la demande\"\n                  : \"Nouvelle demande de congés\"}\n              </ModalTitle>\n              <CloseButton onClick={() => setShowModal(false)}>×</CloseButton>\n            </ModalHeader>\n\n            <VacationForm\n              vacation={selectedVacation}\n              onSubmit={handleSubmit}\n              onCancel={() => setShowModal(false)}\n              currentUser={user}\n            />\n          </ModalContent>\n        </Modal>\n      )}\n\n      {/* Modal de rejet */}\n      {showRejectModal && (\n        <RejectModal onClick={() => setShowRejectModal(false)}>\n          <RejectModalContent onClick={(e) => e.stopPropagation()}>\n            <ModalHeader>\n              <ModalTitle>Motif du refus</ModalTitle>\n              <CloseButton onClick={() => setShowRejectModal(false)}>\n                ×\n              </CloseButton>\n            </ModalHeader>\n\n            <RejectForm onSubmit={(e) => e.preventDefault()}>\n              <RejectTextarea\n                placeholder=\"Veuillez indiquer le motif du refus...\"\n                value={rejectionReason}\n                onChange={(e) => setRejectionReason(e.target.value)}\n                required\n              />\n\n              <ButtonGroup>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setShowRejectModal(false)}\n                >\n                  Annuler\n                </Button>\n                <Button type=\"submit\" variant=\"primary\">\n                  Confirmer le refus\n                </Button>\n              </ButtonGroup>\n            </RejectForm>\n          </RejectModalContent>\n        </RejectModal>\n      )}\n    </VacationsContainer>\n  );\n};\n\nexport default Vacations;\n"],"names":["formatDate","date","formatStr","arguments","length","undefined","dateObj","Date","isNaN","getTime","console","error","format","locale","fr","formatDateForInput","getWeekStart","startOfWeek","weekStartsOn","getWeekEnd","endOfWeek","addWeeks","amount","addWeeksDate","getDaysOfWeek","weekStart","days","i","push","addDays","isWeekend","day","getDay","calculateHours","startDate","endDate","diffHours","Math","round","getDayName","short","dayIndex","formatDateForAPI","d","getFullYear","String","getMonth","padStart","getDate","isHoliday","holidays","FRENCH_HOLIDAYS_2024","formattedDate","some","holiday","isWorkingDay","getWorkingDaysCount","start","end","count","currentDate","setDate","formatDateForDisplay","month","EMPLOYEE_STATUSES","value","label","VACATION_TYPES","color","defaultQuota","name","EMPLOYEE_TABLE_COLUMNS","id","header","accessor","employee","first_name","last_name","sortable","email","department","role","status","type","balance","hour_balance","isPositive","display","hire_date","toLocaleDateString","isDarkMode","document","documentElement","getAttribute","window","matchMedia","matches","CalendarContainer","styled","div","_ref","_theme$colors","theme","colors","surface","_ref2","_theme$borderRadius","borderRadius","medium","_ref3","_theme$shadows","shadows","_ref4","_theme$colors2","_theme$colors2$text","text","primary","_ref5","_theme$breakpoints","breakpoints","md","_ref6","_theme$borderRadius2","small","CalendarHeader","_ref7","_theme$breakpoints2","sm","MonthTitle","h2","_ref8","_theme$colors3","_theme$colors3$text","_ref9","_theme$breakpoints3","NavigationButton","button","_ref10","_theme$colors4","background","_ref11","_theme$colors5","border","_ref12","_theme$borderRadius3","_ref13","_theme$colors6","_theme$colors6$text","_ref14","_theme$colors7","_ref15","_theme$colors8","NavigationContainer","CalendarGrid","_ref16","_theme$breakpoints4","DayHeader","_ref17","_theme$colors9","_theme$colors9$text","_ref18","_theme$breakpoints5","_ref19","_theme$breakpoints6","xs","DayCell","_ref20","_theme$colors10","_ref21","_theme$borderRadius4","_ref22","isCurrentMonth","isToday","_theme$colors11","_theme$colors12","_theme$colors13","_theme$colors14","_ref23","_theme$colors15","_theme$colors16","_theme$colors16$text","secondary","_theme$colors17","_theme$colors17$text","_theme$colors18","_theme$colors18$text","disabled","_ref24","_ref25","_theme$breakpoints7","_ref26","_theme$breakpoints8","DayNumber","_ref27","_theme$breakpoints9","HolidayName","_ref28","_theme$colors19","_ref29","_theme$breakpoints10","VacationList","_ref30","_theme$colors20","_ref31","_theme$colors21","_ref32","_theme$breakpoints11","VacationItem","_ref33","vacationType","find","t","baseColor","_ref34","_theme$breakpoints12","Legend","_ref35","_theme$colors22","_theme$colors22$text","_ref36","_theme$breakpoints13","LegendItem","_ref37","_theme$breakpoints14","LegendColor","_ref38","_ref39","_theme$breakpoints15","_ref40","vacations","onDayClick","setCurrentDate","useState","calendarDays","setCalendarDays","isSameDay","date1","date2","getHolidayName","dateStr","h","useEffect","year","firstDayOfMonth","lastDayOfMonth","firstDayOfWeek","daysFromPrevMonth","daysFromNextMonth","prevMonthLastDay","prevMonthDays","Array","from","_","holidayName","currentMonthDays","nextMonthDays","_jsxs","children","_jsx","onClick","goToPreviousMonth","FaChevronLeft","goToCurrentMonth","goToNextMonth","FaChevronRight","map","index","dayVacations","filter","vacation","getVacationsForDate","vIndex","title","employeeName","_theme$colors23","_theme$colors24","useDepartments","departments","setDepartments","loading","setLoading","setError","api","useApi","fetchDepartments","useCallback","async","response","get","API_ENDPOINTS","DEPARTMENTS","BASE","_response$data","ok","Error","data","message","err","toast","createDepartment","post","departmentData","prev","success","_response$data2","updateDepartment","put","BY_ID","dept","_response$data3","deleteDepartment","delete","_response$data4","getDepartmentById","getDepartmentByName","ExportContainer","ExportButton","FilterButton","active","FilterContainer","show","FilterGrid","FilterGroup","FilterLabel","_theme$colors8$text","FilterSelect","select","FilterInput","input","_theme$borderRadius5","FilterActions","ButtonsContainer","isGlobal","showFilters","setShowFilters","filters","setFilters","employeeId","departmentId","employees","useEmployees","dateString","formatDateForFileName","replace","translateStatus","translateType","filterVacations","_employees$find","parseInt","e","handleFilterChange","target","exportToPdf","filteredVacations","warning","doc","jsPDF","orientation","unit","setFontSize","internal","pageSize","getWidth","align","hour","minute","startY","Object","values","v","filterText","filterParts","join","columns","dataKey","approvalDate","approvedAt","rejectedAt","row","duration","reason","autoTable","body","styles","fontSize","cellPadding","headStyles","fillColor","textColor","fontStyle","alternateRowStyles","pageCount","getNumberOfPages","setPage","width","height","fileName","save","FaFilter","FaFilePdf","_Fragment","onChange","resetFilters","style","backgroundColor","FormContainer","form","FormGroup","Label","Input","Select","Textarea","textarea","FileInput","FileInputLabel","hover","HiddenFileInput","FileName","ErrorMessage","FormActions","Button","variant","DaysCount","info","QuotaWarning","VacationForm","onSubmit","onCancel","currentUser","user","useAuth","loadingEmployees","formData","setFormData","attachment","errors","setErrors","setFileName","daysCount","setDaysCount","quotaExceeded","setQuotaExceeded","handleChange","handleFileChange","file","files","size","preventDefault","log","validateForm","newErrors","keys","formattedData","htmlFor","placeholder","accept","memo","useVacations","setVacations","socket","isConnected","sendMessage","notifyDataChange","fallbackMode","useWebSocket","handleWebSocketMessage","event","JSON","parse","prevVacations","vacationId","addEventListener","removeEventListener","retryApiCall","apiCall","maxRetries","delay","lastError","retryCount","retryDelay","pow","Promise","resolve","setTimeout","fetchVacations","loadVacations","localStorage","getItem","VACATIONS","isArray","checkDatabaseConnection","connected","createVacation","vacationData","employee_id","start_date","toISOString","split","end_date","includes","warn","token","readyState","WebSocket","OPEN","send","stringify","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMessage","result","updateVacation","deleteVacation","updateVacationStatus","comment","getVacationsByStatus","approveVacation","rejectVacation","logActivity","entity_type","entity_id","description","userData","details","activityData","userId","userName","username","timestamp","axios","ACTIVITIES","LOG","headers","Authorization","logCreation","this","logUpdate","logDeletion","logApproval","logRejection","logLogin","logLogout","VacationsContainer","PageHeader","HeaderLeft","AnimationContainer","TitleContainer","PageTitle","h1","_theme$colors$text","PageDescription","p","_theme$colors4$text","TabsContainer","Tab","_theme$colors11$text","ViewToggle","ViewToggleButton","_theme$colors15$text","VacationCard","_theme$borderRadius6","danger","VacationHeader","VacationTitle","h3","_theme$colors23$text","VacationStatus","span","_theme$borderRadius7","_theme$colors25","_theme$colors26","_theme$colors27","_theme$colors28","_theme$colors29","VacationDetails","VacationDetail","DetailLabel","_theme$colors30","_theme$colors30$text","DetailValue","_theme$colors31","_theme$colors31$text","VacationActions","EmptyState","_theme$colors32","_theme$colors32$text","Modal","ModalContent","_theme$colors33","_theme$borderRadius8","_theme$shadows2","large","ModalHeader","ModalTitle","_theme$colors34","_theme$colors34$text","CloseButton","_theme$colors35","_theme$colors35$text","_theme$colors36","_theme$colors36$text","RejectModal","RejectModalContent","RejectForm","RejectTextarea","_theme$colors37","_ref41","_theme$borderRadius9","_ref42","_theme$colors38","ButtonGroup","Vacations","refetch","showNotification","useNotification","activeTab","setActiveTab","viewMode","setViewMode","showModal","setShowModal","showRejectModal","setShowRejectModal","selectedVacation","setSelectedVacation","rejectionReason","setRejectionReason","isLoading","setIsLoading","handleSubmit","location","href","ActivityLogger","handleApprove","openRejectModal","handleDelete","vacationToDelete","handleEdit","handleDayClick","Lottie","animationData","holidaysAnimation","loop","autoplay","FaPlus","FaList","FaCalendarAlt","VacationExport","VacationCalendar","paid","rtt","unpaid","sick","exceptional","recovery","toLocaleTimeString","stopPropagation","required"],"sourceRoot":""}