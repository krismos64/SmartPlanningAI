{"version":3,"file":"static/js/395.f1417582.chunk.js","mappings":"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","sources":["pages/auth/Login.js"],"sourcesContent":["import Lottie from \"lottie-react\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport planningAnimation from \"../../assets/animations/planning-animation.json\";\nimport Button from \"../../components/ui/Button\";\nimport Card from \"../../components/ui/Card\";\nimport { FormInput } from \"../../components/ui/Form\";\nimport { useNotification } from \"../../components/ui/Notification\";\nimport { useAuth } from \"../../contexts/AuthContext\";\n\n// Animations\nconst fadeInUp = keyframes`\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n`;\n\nconst pulse = keyframes`\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n  100% {\n    transform: scale(1);\n  }\n`;\n\n// Composants stylisés\nconst LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: calc(100vh - 200px);\n  padding: ${({ theme }) => `${theme.spacing.xl} ${theme.spacing.md}`};\n`;\n\nconst LoginCard = styled(Card)`\n  width: 100%;\n  max-width: 450px;\n  animation: ${fadeInUp} 0.5s ease-out;\n`;\n\nconst LogoContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: ${({ theme }) => theme.spacing.xl};\n`;\n\nconst LogoAnimation = styled.div`\n  width: 120px;\n  height: 120px;\n  margin-bottom: ${({ theme }) => theme.spacing.md};\n  animation: ${pulse} 2s infinite ease-in-out;\n`;\n\nconst Form = styled.form`\n  width: 100%;\n`;\n\nconst FormTitle = styled.h2`\n  font-size: ${({ theme }) => theme.typography.sizes.xl};\n  margin-bottom: ${({ theme }) => theme.spacing.lg};\n  color: ${({ theme }) => theme.colors.text.primary};\n  text-align: center;\n`;\n\nconst FormActions = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${({ theme }) => theme.spacing.md};\n  margin-top: ${({ theme }) => theme.spacing.xl};\n`;\n\nconst ForgotPassword = styled(Link)`\n  text-align: right;\n  font-size: ${({ theme }) => theme.typography.sizes.sm};\n  color: ${({ theme }) => theme.colors.primary};\n  text-decoration: none;\n  margin-top: ${({ theme }) => theme.spacing.xs};\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst RegisterLink = styled.div`\n  text-align: center;\n  margin-top: ${({ theme }) => theme.spacing.lg};\n  font-size: ${({ theme }) => theme.typography.sizes.sm};\n  color: ${({ theme }) => theme.colors.text.secondary};\n\n  a {\n    color: ${({ theme }) => theme.colors.primary};\n    text-decoration: none;\n    font-weight: ${({ theme }) => theme.typography.fontWeights.medium};\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst Divider = styled.div`\n  display: flex;\n  align-items: center;\n  margin: ${({ theme }) => `${theme.spacing.lg} 0`};\n\n  &::before,\n  &::after {\n    content: \"\";\n    flex: 1;\n    height: 1px;\n    background-color: ${({ theme }) => theme.colors.border};\n  }\n\n  span {\n    padding: ${({ theme }) => `0 ${theme.spacing.md}`};\n    color: ${({ theme }) => theme.colors.text.secondary};\n    font-size: ${({ theme }) => theme.typography.sizes.sm};\n  }\n`;\n\nconst SocialButtons = styled.div`\n  display: flex;\n  gap: ${({ theme }) => theme.spacing.md};\n  justify-content: center;\n`;\n\nconst SocialButton = styled(Button)`\n  flex: 1;\n`;\n\n// Composant Login\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const { login, loginWithGoogle, loginError } = useAuth();\n  const { showNotification } = useNotification();\n  const navigate = useNavigate();\n\n  // Afficher l'erreur de connexion si elle existe\n  useEffect(() => {\n    if (loginError) {\n      showNotification({\n        type: \"error\",\n        title: \"Erreur de connexion\",\n        message: loginError,\n      });\n    }\n  }, [loginError]);\n\n  // Vérifier les erreurs d'URL\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const error = params.get(\"error\");\n\n    if (error === \"session_expired\") {\n      showNotification(\n        \"Votre session a expiré. Veuillez vous reconnecter.\",\n        \"warning\"\n      );\n    }\n  }, [showNotification]);\n\n  // Valider le formulaire\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!email) {\n      newErrors.email = \"L'email est requis\";\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\n      newErrors.email = \"L'email est invalide\";\n    }\n\n    if (!password) {\n      newErrors.password = \"Le mot de passe est requis\";\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Gérer la soumission du formulaire\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      console.log(\"Tentative de connexion avec:\", { email, password: \"***\" });\n\n      // Utiliser la fonction login du contexte d'authentification\n      const success = await login(email, password);\n\n      console.log(\"Résultat de la connexion:\", success);\n\n      if (success) {\n        // Afficher une notification de succès\n        showNotification({\n          type: \"success\",\n          title: \"Connexion réussie\",\n          message: \"Bienvenue sur SmartPlanning AI !\",\n        });\n\n        // Rediriger vers le tableau de bord\n        navigate(\"/dashboard\");\n      } else {\n        // Afficher une notification d'erreur si le login a échoué mais n'a pas lancé d'exception\n        showNotification({\n          type: \"error\",\n          title: \"Échec de connexion\",\n          message: loginError || \"Identifiants incorrects. Veuillez réessayer.\",\n        });\n      }\n    } catch (error) {\n      console.error(\"Erreur lors de la connexion:\", error);\n\n      // Afficher une notification d'erreur\n      showNotification({\n        type: \"error\",\n        title: \"Erreur de connexion\",\n        message:\n          error.message || \"Une erreur est survenue lors de la connexion.\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Gérer la connexion avec Google\n  const handleGoogleLogin = async () => {\n    // Temporairement désactivé jusqu'à ce que le backend soit configuré\n    showNotification({\n      type: \"info\",\n      title: \"Fonctionnalité en développement\",\n      message:\n        \"La connexion avec Google sera bientôt disponible. Veuillez utiliser la méthode de connexion standard pour le moment.\",\n    });\n\n    // Code commenté jusqu'à ce que le backend soit prêt\n    /*\n    try {\n      await loginWithGoogle();\n      // Pas besoin de redirection ici car loginWithGoogle redirige déjà l'utilisateur\n    } catch (error) {\n      console.error(\"Erreur lors de la connexion avec Google:\", error);\n      showNotification({\n        type: \"error\",\n        title: \"Erreur de connexion\",\n        message: \"La connexion avec Google a échoué. Veuillez réessayer.\",\n      });\n    }\n    */\n  };\n\n  return (\n    <LoginContainer>\n      <LoginCard variant=\"elevated\" padding=\"2rem\">\n        <LogoContainer>\n          <LogoAnimation>\n            <Lottie animationData={planningAnimation} loop={true} />\n          </LogoAnimation>\n          <h1>SmartPlanning AI</h1>\n          <p>Planifiez intelligemment avec l'IA</p>\n        </LogoContainer>\n\n        <Form onSubmit={handleSubmit}>\n          <FormTitle>Connexion</FormTitle>\n\n          <FormInput\n            label=\"Email\"\n            id=\"email\"\n            type=\"email\"\n            placeholder=\"Entrez votre email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            error={errors.email}\n            required\n          />\n\n          <FormInput\n            label=\"Mot de passe\"\n            id=\"password\"\n            type=\"password\"\n            placeholder=\"Entrez votre mot de passe\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            error={errors.password}\n            required\n          />\n\n          <ForgotPassword to=\"/forgot-password\">\n            Mot de passe oublié ?\n          </ForgotPassword>\n\n          <FormActions>\n            <Button\n              type=\"submit\"\n              fullWidth\n              size=\"lg\"\n              loading={isLoading}\n              disabled={isLoading}\n            >\n              Se connecter\n            </Button>\n          </FormActions>\n\n          <Divider>\n            <span>Ou</span>\n          </Divider>\n\n          <SocialButtons>\n            <SocialButton\n              variant=\"outline\"\n              onClick={handleGoogleLogin}\n              fullWidth\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                gap: \"8px\",\n                opacity: \"0.7\", // Réduire l'opacité pour indiquer que c'est désactivé\n                cursor: \"default\",\n              }}\n            >\n              <svg\n                width=\"18\"\n                height=\"18\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 48 48\"\n              >\n                <path\n                  fill=\"#FFC107\"\n                  d=\"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z\"\n                />\n                <path\n                  fill=\"#FF3D00\"\n                  d=\"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z\"\n                />\n                <path\n                  fill=\"#4CAF50\"\n                  d=\"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z\"\n                />\n                <path\n                  fill=\"#1976D2\"\n                  d=\"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z\"\n                />\n              </svg>\n              Google (Bientôt disponible)\n            </SocialButton>\n          </SocialButtons>\n\n          <RegisterLink>\n            Vous n'avez pas de compte ? <Link to=\"/register\">S'inscrire</Link>\n          </RegisterLink>\n        </Form>\n      </LoginCard>\n    </LoginContainer>\n  );\n};\n\nexport default Login;\n"],"names":["fadeInUp","keyframes","pulse","LoginContainer","styled","div","_ref","theme","spacing","xl","md","LoginCard","Card","LogoContainer","_ref2","LogoAnimation","_ref3","Form","form","FormTitle","h2","_ref4","typography","sizes","_ref5","lg","_ref6","colors","text","primary","FormActions","_ref7","_ref8","ForgotPassword","Link","_ref9","sm","_ref10","_ref11","xs","RegisterLink","_ref12","_ref13","_ref14","secondary","_ref15","_ref16","fontWeights","medium","Divider","_ref17","_ref18","border","_ref19","_ref20","_ref21","SocialButtons","_ref22","SocialButton","Button","Login","email","setEmail","useState","password","setPassword","errors","setErrors","isLoading","setIsLoading","showPassword","setShowPassword","login","loginWithGoogle","loginError","useAuth","showNotification","useNotification","navigate","useNavigate","useEffect","type","title","message","URLSearchParams","window","location","search","get","_jsx","children","_jsxs","variant","padding","Lottie","animationData","planningAnimation","loop","onSubmit","async","e","preventDefault","validateForm","newErrors","test","Object","keys","length","console","log","success","error","FormInput","label","id","placeholder","value","onChange","target","required","to","fullWidth","size","loading","disabled","onClick","style","display","alignItems","justifyContent","gap","opacity","cursor","width","height","xmlns","viewBox","fill","d"],"sourceRoot":""}