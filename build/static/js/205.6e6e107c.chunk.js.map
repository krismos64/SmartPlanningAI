{"version":3,"file":"static/js/205.6e6e107c.chunk.js","mappings":"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","sources":["utils/dateUtils.js","hooks/useEmployees.js","config/constants.js","hooks/useApi.js"],"sourcesContent":["/**\n * Utilitaires pour la gestion des dates dans l'application\n */\n\nimport {\n  addDays,\n  addWeeks as addWeeksDate,\n  endOfWeek,\n  format,\n  startOfWeek,\n} from \"date-fns\";\nimport { fr } from \"date-fns/locale\";\nimport { FRENCH_HOLIDAYS_2024 } from \"../config/constants\";\n\n/**\n * Formate une date selon le format spécifié\n * @param {Date} date - La date à formater\n * @param {string} formatStr - Le format à utiliser (par défaut: 'dd/MM/yyyy')\n * @returns {string} La date formatée\n */\nexport const formatDate = (date, formatStr = \"dd/MM/yyyy\") => {\n  if (!date) return \"\";\n\n  try {\n    // S'assurer que date est un objet Date valide\n    const dateObj = date instanceof Date ? date : new Date(date);\n\n    // Vérifier si la date est valide\n    if (isNaN(dateObj.getTime())) {\n      console.error(\"Date invalide dans formatDate:\", date);\n      return \"\";\n    }\n\n    return format(dateObj, formatStr, { locale: fr });\n  } catch (error) {\n    console.error(\"Erreur lors du formatage de la date:\", error, date);\n    return \"\";\n  }\n};\n\n/**\n * Formate une date pour un input HTML (YYYY-MM-DD)\n * @param {Date} date - La date à formater\n * @returns {string} La date au format YYYY-MM-DD\n */\nexport const formatDateForInput = (date) => {\n  if (!date) return \"\";\n  return format(date, \"yyyy-MM-dd\");\n};\n\n/**\n * Obtient le premier jour de la semaine pour une date donnée\n * @param {Date} date - La date de référence\n * @returns {Date} Le premier jour de la semaine (lundi)\n */\nexport const getWeekStart = (date) => {\n  return startOfWeek(date, { weekStartsOn: 1 });\n};\n\n/**\n * Obtient le dernier jour de la semaine pour une date donnée\n * @param {Date} date - La date de référence\n * @returns {Date} Le dernier jour de la semaine (dimanche)\n */\nexport const getWeekEnd = (date) => {\n  return endOfWeek(date, { weekStartsOn: 1 });\n};\n\n/**\n * Ajoute ou soustrait un nombre de semaines à une date\n * @param {Date} date - La date de référence\n * @param {number} amount - Le nombre de semaines à ajouter (négatif pour soustraire)\n * @returns {Date} La nouvelle date\n */\nexport const addWeeks = (date, amount) => {\n  return addWeeksDate(date, amount);\n};\n\n/**\n * Obtient un tableau des jours de la semaine pour une date donnée\n * @param {Date} date - La date de référence\n * @returns {Date[]} Un tableau des 7 jours de la semaine\n */\nexport const getDaysOfWeek = (date) => {\n  const weekStart = getWeekStart(date);\n  const days = [];\n\n  for (let i = 0; i < 7; i++) {\n    days.push(addDays(weekStart, i));\n  }\n\n  return days;\n};\n\n/**\n * Vérifie si une date est un weekend (samedi ou dimanche)\n * @param {Date} date - La date à vérifier\n * @returns {boolean} True si c'est un weekend\n */\nexport const isWeekend = (date) => {\n  const day = new Date(date).getDay();\n  return day === 0 || day === 6; // 0 = dimanche, 6 = samedi\n};\n\n/**\n * Calcule le nombre d'heures entre deux dates\n * @param {Date} startDate - Date de début\n * @param {Date} endDate - Date de fin\n * @returns {number} Nombre d'heures\n */\nexport const calculateHours = (startDate, endDate) => {\n  if (!startDate || !endDate) return 0;\n\n  const diffMs = endDate.getTime() - startDate.getTime();\n  const diffHours = diffMs / (1000 * 60 * 60);\n\n  return Math.round(diffHours * 10) / 10; // Arrondi à 1 décimale\n};\n\n/**\n * Formate une durée en heures et minutes\n * @param {number} hours - Nombre d'heures (peut inclure des décimales)\n * @returns {string} Durée formatée (ex: \"7h30\")\n */\nexport const formatHours = (hours) => {\n  if (hours === undefined || hours === null) return \"0h\";\n\n  const totalHours = parseFloat(hours);\n  if (isNaN(totalHours)) return \"0h\";\n\n  const wholeHours = Math.floor(totalHours);\n  const minutes = Math.round((totalHours - wholeHours) * 60);\n\n  if (minutes === 0) {\n    return `${wholeHours}h`;\n  } else {\n    return `${wholeHours}h${minutes.toString().padStart(2, \"0\")}`;\n  }\n};\n\n/**\n * Obtient le nom du jour de la semaine\n * @param {Date} date - La date\n * @param {boolean} short - Si true, retourne le nom court (3 lettres)\n * @returns {string} Le nom du jour\n */\nexport const getDayName = (date, short = false) => {\n  const days = [\n    \"Dimanche\",\n    \"Lundi\",\n    \"Mardi\",\n    \"Mercredi\",\n    \"Jeudi\",\n    \"Vendredi\",\n    \"Samedi\",\n  ];\n  const shortDays = [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"];\n\n  const dayIndex = new Date(date).getDay();\n  return short ? shortDays[dayIndex] : days[dayIndex];\n};\n\n/**\n * Obtient le nom du mois\n * @param {string|Date} date - La date\n * @param {boolean} short - Indique si le nom doit être court (3 lettres) ou complet\n * @returns {string} Le nom du mois\n */\nexport const getMonthName = (date, short = false) => {\n  const dateObj = new Date(date);\n  const monthNames = short\n    ? [\n        \"Jan\",\n        \"Fév\",\n        \"Mar\",\n        \"Avr\",\n        \"Mai\",\n        \"Juin\",\n        \"Juil\",\n        \"Aoû\",\n        \"Sep\",\n        \"Oct\",\n        \"Nov\",\n        \"Déc\",\n      ]\n    : [\n        \"Janvier\",\n        \"Février\",\n        \"Mars\",\n        \"Avril\",\n        \"Mai\",\n        \"Juin\",\n        \"Juillet\",\n        \"Août\",\n        \"Septembre\",\n        \"Octobre\",\n        \"Novembre\",\n        \"Décembre\",\n      ];\n\n  return monthNames[dateObj.getMonth()];\n};\n\n/**\n * Formate une date pour MySQL (YYYY-MM-DD)\n * @param {string|Date} date - La date à formater\n * @returns {string} La date au format YYYY-MM-DD\n */\nexport const formatDateForMySQL = (date) => {\n  if (!date) return null;\n\n  // Si la date est déjà au format YYYY-MM-DD, la retourner telle quelle\n  if (typeof date === \"string\" && /^\\d{4}-\\d{2}-\\d{2}$/.test(date)) {\n    return date;\n  }\n\n  try {\n    const dateObj = new Date(date);\n\n    if (isNaN(dateObj.getTime())) {\n      return null;\n    }\n\n    return dateObj.toISOString().split(\"T\")[0];\n  } catch (error) {\n    console.error(\"Erreur lors du formatage de la date pour MySQL:\", error);\n    return null;\n  }\n};\n\n/**\n * Formate une date pour l'API (format YYYY-MM-DD)\n * @param {Date} date - La date à formater\n * @returns {string} La date formatée\n */\nexport const formatDateForAPI = (date) => {\n  if (!date) return \"\";\n  const d = new Date(date);\n  return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(\n    2,\n    \"0\"\n  )}-${String(d.getDate()).padStart(2, \"0\")}`;\n};\n\n/**\n * Vérifie si une date est un jour férié\n * @param {string|Date} date - La date à vérifier\n * @param {Array} holidays - Liste des jours fériés (par défaut: jours fériés français 2024)\n * @returns {boolean} True si c'est un jour férié, false sinon\n */\nexport const isHoliday = (date, holidays = FRENCH_HOLIDAYS_2024) => {\n  if (!date) return false;\n\n  const d = new Date(date);\n  if (isNaN(d.getTime())) return false;\n\n  const formattedDate = formatDateForAPI(d);\n  return holidays.some((holiday) => holiday.date === formattedDate);\n};\n\n/**\n * Vérifie si une date est un jour ouvré (ni week-end, ni jour férié)\n * @param {string|Date} date - La date à vérifier\n * @param {Array} holidays - Liste des jours fériés\n * @returns {boolean} True si c'est un jour ouvré, false sinon\n */\nexport const isWorkingDay = (date, holidays = FRENCH_HOLIDAYS_2024) => {\n  return !isWeekend(date) && !isHoliday(date, holidays);\n};\n\n/**\n * Calcule le nombre de jours ouvrés entre deux dates\n * @param {string|Date} startDate - Date de début\n * @param {string|Date} endDate - Date de fin\n * @param {Array} holidays - Liste des jours fériés\n * @returns {number} Nombre de jours ouvrés\n */\nexport const getWorkingDaysCount = (\n  startDate,\n  endDate,\n  holidays = FRENCH_HOLIDAYS_2024\n) => {\n  if (!startDate || !endDate) return 0;\n\n  const start = new Date(startDate);\n  const end = new Date(endDate);\n\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;\n  if (end < start) return 0;\n\n  let count = 0;\n  const currentDate = new Date(start);\n\n  while (currentDate <= end) {\n    if (isWorkingDay(currentDate, holidays)) {\n      count++;\n    }\n    currentDate.setDate(currentDate.getDate() + 1);\n  }\n\n  return count;\n};\n\n/**\n * Vérifie si deux dates sont le même jour\n * @param {string|Date} date1 - Première date\n * @param {string|Date} date2 - Deuxième date\n * @returns {boolean} True si c'est le même jour, false sinon\n */\nexport const isSameDay = (date1, date2) => {\n  if (!date1 || !date2) return false;\n\n  const d1 = new Date(date1);\n  const d2 = new Date(date2);\n\n  return (\n    d1.getFullYear() === d2.getFullYear() &&\n    d1.getMonth() === d2.getMonth() &&\n    d1.getDate() === d2.getDate()\n  );\n};\n\n/**\n * Vérifie si une date est aujourd'hui\n * @param {string|Date} date - La date à vérifier\n * @returns {boolean} True si c'est aujourd'hui, false sinon\n */\nexport const isToday = (date) => {\n  return isSameDay(date, new Date());\n};\n\n/**\n * Vérifie si une date est entre deux autres dates (inclusivement)\n * @param {string|Date} date - La date à vérifier\n * @param {string|Date} start - Date de début\n * @param {string|Date} end - Date de fin\n * @returns {boolean} True si la date est entre start et end, false sinon\n */\nexport const isDateBetween = (date, start, end) => {\n  if (!date || !start || !end) return false;\n\n  const d = new Date(date);\n  const s = new Date(start);\n  const e = new Date(end);\n\n  // Réinitialiser les heures pour comparer uniquement les dates\n  d.setHours(0, 0, 0, 0);\n  s.setHours(0, 0, 0, 0);\n  e.setHours(0, 0, 0, 0);\n\n  return d >= s && d <= e;\n};\n","import { useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { API_ENDPOINTS } from \"../config/api\";\nimport useApi from \"./useApi\";\n\n/**\n * Hook personnalisé pour gérer les employés\n */\nconst useEmployees = () => {\n  const [employees, setEmployees] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const api = useApi();\n\n  /**\n   * Récupère tous les employés\n   */\n  const fetchEmployees = useCallback(async () => {\n    if (!loading) setLoading(true);\n    try {\n      const response = await api.get(API_ENDPOINTS.EMPLOYEES.BASE);\n\n      if (response.ok) {\n        // S'assurer que les données sont un tableau\n        const employeesData = Array.isArray(response.data) ? response.data : [];\n        setEmployees(employeesData);\n        setError(null);\n      } else {\n        throw new Error(\n          response.data?.message || \"Erreur lors du chargement des employés\"\n        );\n      }\n    } catch (err) {\n      console.error(\"Erreur lors du chargement des employés:\", err);\n      setError(\"Erreur lors du chargement des employés\");\n      toast.error(\"Erreur lors du chargement des employés\");\n      // En cas d'erreur, s'assurer que employees reste un tableau vide\n      setEmployees([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [api, loading]);\n\n  /**\n   * Récupère un employé par son ID\n   */\n  const fetchEmployeeById = useCallback(\n    async (id) => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const response = await api.get(API_ENDPOINTS.EMPLOYEES.BY_ID(id));\n\n        if (response.ok) {\n          return response.data;\n        } else {\n          throw new Error(\n            response.data?.message ||\n              \"Erreur lors de la récupération de l'employé\"\n          );\n        }\n      } catch (err) {\n        console.error(\n          `Erreur lors de la récupération de l'employé #${id}:`,\n          err\n        );\n        setError(err.message || \"Erreur lors de la récupération de l'employé\");\n        toast.error(\"Erreur lors de la récupération de l'employé\");\n        return null;\n      } finally {\n        setLoading(false);\n      }\n    },\n    [api]\n  );\n\n  /**\n   * Crée un nouvel employé\n   */\n  const createEmployee = useCallback(\n    async (employeeData) => {\n      try {\n        console.log(\"Données envoyées à l'API pour création:\", employeeData);\n\n        // Convertir les valeurs numériques\n        const formattedData = {\n          ...employeeData,\n          contractHours: parseFloat(employeeData.contractHours) || 35,\n          hourlyRate: parseFloat(employeeData.hourlyRate) || 0,\n        };\n\n        const response = await api.post(\n          API_ENDPOINTS.EMPLOYEES.BASE,\n          formattedData\n        );\n\n        console.log(\"Réponse de l'API pour création:\", response);\n\n        if (!response.ok) {\n          const errorMessage =\n            response.data?.message || \"Erreur lors de la création de l'employé\";\n          console.error(\"Erreur API:\", errorMessage);\n          return { success: false, error: errorMessage };\n        }\n\n        // Mettre à jour l'état local\n        setEmployees((prev) => [...prev, response.data]);\n\n        return { success: true, employee: response.data };\n      } catch (err) {\n        console.error(\"Erreur lors de la création de l'employé:\", err);\n        return { success: false, error: err.message || \"Erreur inconnue\" };\n      }\n    },\n    [api]\n  );\n\n  /**\n   * Met à jour un employé existant\n   */\n  const updateEmployee = useCallback(\n    async (id, employeeData) => {\n      try {\n        if (!id) {\n          console.error(\"ID d'employé non valide:\", id);\n          return { success: false, error: \"ID d'employé non valide\" };\n        }\n\n        console.log(\"Données envoyées à l'API pour mise à jour:\", employeeData);\n\n        // Convertir les valeurs numériques\n        const formattedData = {\n          ...employeeData,\n          contractHours: parseFloat(employeeData.contractHours) || 35,\n          hourlyRate: parseFloat(employeeData.hourlyRate) || 0,\n        };\n\n        const response = await api.put(\n          API_ENDPOINTS.EMPLOYEES.BY_ID(id),\n          formattedData\n        );\n\n        console.log(\"Réponse de l'API pour mise à jour:\", response);\n\n        if (!response.ok) {\n          const errorMessage =\n            response.data?.message ||\n            \"Erreur lors de la mise à jour de l'employé\";\n          console.error(\"Erreur API:\", errorMessage);\n          return { success: false, error: errorMessage };\n        }\n\n        // Mettre à jour l'état local\n        setEmployees((prev) =>\n          prev.map((emp) =>\n            emp.id === id ? { ...emp, ...response.data } : emp\n          )\n        );\n\n        return { success: true, employee: response.data };\n      } catch (err) {\n        console.error(\"Erreur lors de la mise à jour de l'employé:\", err);\n        return { success: false, error: err.message || \"Erreur inconnue\" };\n      }\n    },\n    [api]\n  );\n\n  /**\n   * Supprime un employé\n   */\n  const deleteEmployee = useCallback(\n    async (id) => {\n      try {\n        if (!id) {\n          console.error(\"ID d'employé non valide pour suppression:\", id);\n          return { success: false, error: \"ID d'employé non valide\" };\n        }\n\n        console.log(\"Tentative de suppression de l'employé avec ID:\", id);\n\n        const response = await api.delete(API_ENDPOINTS.EMPLOYEES.BY_ID(id));\n\n        console.log(\"Réponse de l'API pour suppression:\", response);\n\n        if (!response.ok) {\n          const errorMessage =\n            response.data?.message ||\n            \"Erreur lors de la suppression de l'employé\";\n          console.error(\"Erreur API:\", errorMessage);\n          return { success: false, error: errorMessage };\n        }\n\n        // Mettre à jour l'état local\n        setEmployees((prev) => prev.filter((emp) => emp.id !== id));\n\n        return { success: true };\n      } catch (err) {\n        console.error(\"Erreur lors de la suppression de l'employé:\", err);\n        return { success: false, error: err.message || \"Erreur inconnue\" };\n      }\n    },\n    [api]\n  );\n\n  /**\n   * Filtre les employés par statut\n   * @param {string|null} status - Le statut à filtrer (active, inactive, vacation, sick) ou null pour tous\n   * @returns {Array} - Les employés filtrés\n   */\n  const getEmployeesByStatus = useCallback(\n    (status) => {\n      if (!status || status === \"all\") return employees;\n      return employees.filter((employee) => employee.status === status);\n    },\n    [employees]\n  );\n\n  // Charger les employés au montage du composant\n  useEffect(() => {\n    let mounted = true;\n    let retryCount = 0;\n    const maxRetries = 3;\n\n    const loadEmployees = async () => {\n      if (retryCount >= maxRetries) {\n        if (mounted) {\n          setError(\n            \"Erreur lors du chargement des employés après plusieurs tentatives\"\n          );\n          setLoading(false);\n        }\n        return;\n      }\n\n      try {\n        const response = await api.get(API_ENDPOINTS.EMPLOYEES.BASE);\n        if (mounted && response.ok) {\n          setEmployees(response.data);\n          setError(null);\n        }\n      } catch (err) {\n        if (mounted) {\n          console.error(\"Erreur lors du chargement des employés:\", err);\n          retryCount++;\n          setTimeout(loadEmployees, 1000 * Math.pow(2, retryCount)); // Exponential backoff\n          return;\n        }\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n\n    loadEmployees();\n\n    return () => {\n      mounted = false;\n    };\n  }, [api]);\n\n  return {\n    employees,\n    loading,\n    error,\n    fetchEmployees,\n    fetchEmployeeById,\n    createEmployee,\n    updateEmployee,\n    deleteEmployee,\n    getEmployeesByStatus,\n  };\n};\n\nexport default useEmployees;\n","// Constantes pour les employés\nexport const EMPLOYEE_DEPARTMENTS = [\n  { value: \"Marketing\", label: \"Marketing\" },\n  { value: \"Développement\", label: \"Développement\" },\n  { value: \"Design\", label: \"Design\" },\n  { value: \"Finance\", label: \"Finance\" },\n  { value: \"RH\", label: \"RH\" },\n];\n\nexport const EMPLOYEE_ROLES = [\n  { value: \"Manager\", label: \"Manager\" },\n  { value: \"Senior\", label: \"Senior\" },\n  { value: \"Junior\", label: \"Junior\" },\n  { value: \"Stagiaire\", label: \"Stagiaire\" },\n];\n\nexport const EMPLOYEE_STATUSES = [\n  { value: \"active\", label: \"Actif\" },\n  { value: \"pending\", label: \"En attente\" },\n  { value: \"inactive\", label: \"Inactif\" },\n];\n\n// Constantes pour les congés\nexport const VACATION_TYPES = [\n  { value: \"paid\", label: \"Congés payés\", color: \"#4CAF50\", defaultQuota: 25 },\n  { value: \"rtt\", label: \"RTT\", color: \"#2196F3\", defaultQuota: 11 },\n  {\n    value: \"unpaid\",\n    label: \"Congés sans solde\",\n    color: \"#9E9E9E\",\n    defaultQuota: null,\n  },\n  { value: \"sick\", label: \"Maladie\", color: \"#F44336\", defaultQuota: null },\n  {\n    value: \"exceptional\",\n    label: \"Absence exceptionnelle\",\n    color: \"#FF9800\",\n    defaultQuota: null,\n  },\n  {\n    value: \"recovery\",\n    label: \"Récupération\",\n    color: \"#9C27B0\",\n    defaultQuota: null,\n  },\n];\n\nexport const VACATION_STATUSES = [\n  { value: \"pending\", label: \"En attente\", color: \"#FFC107\" },\n  { value: \"approved\", label: \"Approuvé\", color: \"#4CAF50\" },\n  { value: \"rejected\", label: \"Refusé\", color: \"#F44336\" },\n];\n\n// Jours fériés en France pour 2024 (à mettre à jour chaque année)\nexport const FRENCH_HOLIDAYS_2024 = [\n  { date: \"2024-01-01\", name: \"Jour de l'an\" },\n  { date: \"2024-04-01\", name: \"Lundi de Pâques\" },\n  { date: \"2024-05-01\", name: \"Fête du Travail\" },\n  { date: \"2024-05-08\", name: \"Victoire 1945\" },\n  { date: \"2024-05-09\", name: \"Ascension\" },\n  { date: \"2024-05-20\", name: \"Lundi de Pentecôte\" },\n  { date: \"2024-07-14\", name: \"Fête Nationale\" },\n  { date: \"2024-08-15\", name: \"Assomption\" },\n  { date: \"2024-11-01\", name: \"Toussaint\" },\n  { date: \"2024-11-11\", name: \"Armistice 1918\" },\n  { date: \"2024-12-25\", name: \"Noël\" },\n];\n\n// Constantes pour les colonnes du tableau des employés\nexport const EMPLOYEE_TABLE_COLUMNS = [\n  {\n    id: \"name\",\n    header: \"Nom\",\n    accessor: (employee) => `${employee.first_name} ${employee.last_name}`,\n    sortable: true,\n  },\n  {\n    id: \"email\",\n    header: \"Email\",\n    accessor: (employee) => employee.email,\n    sortable: true,\n  },\n  {\n    id: \"department\",\n    header: \"Département\",\n    accessor: (employee) => employee.department,\n    sortable: true,\n  },\n  {\n    id: \"role\",\n    header: \"Rôle\",\n    accessor: (employee) => employee.role,\n    sortable: true,\n  },\n  {\n    id: \"status\",\n    header: \"Statut\",\n    accessor: (employee) => employee.status,\n    sortable: true,\n    type: \"status\",\n  },\n  {\n    id: \"hire_date\",\n    header: \"Date d'embauche\",\n    accessor: (employee) => {\n      if (!employee.hire_date) return \"\";\n      const date = new Date(employee.hire_date);\n      return date.toLocaleDateString(\"fr-FR\");\n    },\n    sortable: true,\n    type: \"date\",\n  },\n  {\n    id: \"hourCounter\",\n    header: \"Compteur d'heures\",\n    accessor: (employee) => {\n      const contractHours = employee.contractHours || 0;\n      const hoursWorked = employee.hoursWorked || 0;\n      const difference = hoursWorked - contractHours;\n      return difference;\n    },\n    sortable: true,\n    type: \"number\",\n  },\n];\n\n// URL de l'API\nexport const API_URL =\n  process.env.REACT_APP_API_URL || \"http://localhost:5001/api\";\n","import { useCallback, useMemo } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { API_URL } from \"../config/api\";\n\n/**\n * Hook personnalisé pour effectuer des appels API\n * @returns {Object} Méthodes pour effectuer des requêtes API\n */\nconst useApi = () => {\n  const handleResponse = useCallback(async (response) => {\n    try {\n      // Récupérer les en-têtes pour le débogage\n      const headers = {};\n      response.headers.forEach((value, key) => {\n        headers[key] = value;\n      });\n\n      console.log(\"Réponse du serveur:\", {\n        url: response.url,\n        status: response.status,\n        statusText: response.statusText,\n        headers: headers,\n      });\n\n      // Vérifier si la réponse est au format JSON\n      const contentType = response.headers.get(\"content-type\");\n      const isJson = contentType && contentType.includes(\"application/json\");\n\n      // Récupérer le corps de la réponse\n      let data;\n      if (isJson) {\n        data = await response.json();\n      } else {\n        const text = await response.text();\n        console.warn(\"Réponse non-JSON reçue:\", text);\n        data = { message: text };\n      }\n\n      // Gérer les différents codes de statut\n      if (response.ok) {\n        return data;\n      } else {\n        // Gérer les erreurs d'authentification (401, 403)\n        if (response.status === 401 || response.status === 403) {\n          console.error(\"Erreur d'authentification:\", data);\n          toast.error(\n            \"Session expirée ou accès non autorisé. Veuillez vous reconnecter.\"\n          );\n\n          // Rediriger vers la page de connexion après un délai\n          setTimeout(() => {\n            window.location.href = \"/login\";\n          }, 2000);\n        }\n\n        // Gérer les erreurs serveur (500)\n        if (response.status === 500) {\n          console.error(\"Erreur serveur:\", data);\n          console.error(\"URL:\", response.url);\n          console.error(\"Méthode:\", response.method);\n\n          // Journaliser plus de détails pour le débogage\n          if (data.error) {\n            console.error(\"Détails de l'erreur:\", data.error);\n          }\n          if (data.stack) {\n            console.error(\"Stack trace:\", data.stack);\n          }\n        }\n\n        // Construire un message d'erreur détaillé\n        const errorMessage =\n          data.message ||\n          data.error ||\n          response.statusText ||\n          \"Erreur inconnue\";\n        const error = new Error(errorMessage);\n        error.status = response.status;\n        error.response = { status: response.status, data };\n\n        throw error;\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du traitement de la réponse:\", error);\n      throw error;\n    }\n  }, []);\n\n  const api = useMemo(() => {\n    const get = async (endpoint) => {\n      try {\n        console.log(`[API] GET ${endpoint}`);\n        const token = localStorage.getItem(\"token\");\n        const response = await fetch(`${API_URL}${endpoint}`, {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: token ? `Bearer ${token}` : \"\",\n          },\n          credentials: \"include\",\n        });\n\n        const result = await handleResponse(response);\n        console.log(`[API] GET ${endpoint} Response:`, result);\n        return result;\n      } catch (error) {\n        console.error(`[API] GET ${endpoint} Error:`, error);\n        return {\n          ok: false,\n          status: 0,\n          data: { message: error.message || \"Erreur lors de la requête GET\" },\n          headers: new Headers(),\n        };\n      }\n    };\n\n    // Fonction utilitaire pour convertir camelCase en snake_case\n    const camelToSnakeCase = (str) => {\n      return str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\n    };\n\n    const post = async (endpoint, data) => {\n      try {\n        // Vérifier que les données sont valides\n        if (!data || typeof data !== \"object\") {\n          console.error(\"Données invalides pour la requête POST:\", data);\n          throw new Error(\"Données invalides pour la requête POST\");\n        }\n\n        // Convertir les données en snake_case pour le backend\n        const snakeCaseData = {};\n        for (const key in data) {\n          snakeCaseData[camelToSnakeCase(key)] = data[key];\n        }\n\n        // Récupérer le token d'authentification\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n          console.error(\"Token d'authentification manquant\");\n          throw new Error(\n            \"Vous devez être connecté pour effectuer cette action\"\n          );\n        }\n\n        // Configurer les en-têtes de la requête\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        };\n\n        // Journaliser les détails de la requête (sans le token complet)\n        console.log(\"Détails de la requête POST:\", {\n          endpoint,\n          dataSize: JSON.stringify(snakeCaseData).length,\n          headers: { ...headers, Authorization: \"Bearer [MASQUÉ]\" },\n        });\n\n        // Effectuer la requête avec un timeout\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 30000); // 30 secondes de timeout\n\n        const response = await fetch(`${API_URL}${endpoint}`, {\n          method: \"POST\",\n          headers,\n          body: JSON.stringify(snakeCaseData),\n          signal: controller.signal,\n        });\n\n        // Annuler le timeout\n        clearTimeout(timeoutId);\n\n        // Traiter la réponse\n        return handleResponse(response);\n      } catch (error) {\n        // Gérer les erreurs spécifiques\n        if (error.name === \"AbortError\") {\n          console.error(\"La requête a été interrompue (timeout):\", error);\n          throw new Error(\n            \"La requête a pris trop de temps, veuillez réessayer\"\n          );\n        }\n\n        if (\n          error.message.includes(\"NetworkError\") ||\n          error.message.includes(\"Failed to fetch\")\n        ) {\n          console.error(\"Erreur réseau lors de la requête POST:\", error);\n          throw new Error(\n            \"Problème de connexion au serveur, veuillez vérifier votre connexion internet\"\n          );\n        }\n\n        // Journaliser et propager l'erreur\n        console.error(\"Erreur lors de la requête POST:\", error);\n        throw error;\n      }\n    };\n\n    const put = async (endpoint, data) => {\n      try {\n        console.log(`[API] PUT ${endpoint}`, data);\n        const token = localStorage.getItem(\"token\");\n\n        // S'assurer que les données sont sérialisables\n        const cleanData = JSON.parse(JSON.stringify(data));\n\n        const response = await fetch(`${API_URL}${endpoint}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: token ? `Bearer ${token}` : \"\",\n          },\n          body: JSON.stringify(cleanData),\n          credentials: \"include\",\n        });\n\n        const result = await handleResponse(response);\n        console.log(`[API] PUT ${endpoint} Response:`, result);\n        return result;\n      } catch (error) {\n        console.error(`[API] PUT ${endpoint} Error:`, error);\n        return {\n          ok: false,\n          status: 0,\n          data: { message: error.message || \"Erreur lors de la requête PUT\" },\n          headers: new Headers(),\n        };\n      }\n    };\n\n    const del = async (endpoint) => {\n      try {\n        console.log(`[API] DELETE ${endpoint}`);\n        const token = localStorage.getItem(\"token\");\n        const response = await fetch(`${API_URL}${endpoint}`, {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: token ? `Bearer ${token}` : \"\",\n          },\n          credentials: \"include\",\n        });\n\n        const result = await handleResponse(response);\n        console.log(`[API] DELETE ${endpoint} Response:`, result);\n        return result;\n      } catch (error) {\n        console.error(`[API] DELETE ${endpoint} Error:`, error);\n        return {\n          ok: false,\n          status: 0,\n          data: {\n            message: error.message || \"Erreur lors de la requête DELETE\",\n          },\n          headers: new Headers(),\n        };\n      }\n    };\n\n    return {\n      get,\n      post,\n      put,\n      delete: del,\n    };\n  }, [handleResponse]);\n\n  return api;\n};\n\nexport default useApi;\n"],"names":["formatDate","date","formatStr","arguments","length","undefined","dateObj","Date","isNaN","getTime","console","error","format","locale","fr","formatDateForInput","getWeekStart","startOfWeek","weekStartsOn","getWeekEnd","endOfWeek","addWeeks","amount","addWeeksDate","getDaysOfWeek","weekStart","days","i","push","addDays","isWeekend","day","getDay","calculateHours","startDate","endDate","diffHours","Math","round","getDayName","short","dayIndex","isHoliday","holidays","FRENCH_HOLIDAYS_2024","d","formattedDate","getFullYear","String","getMonth","padStart","getDate","formatDateForAPI","some","holiday","isWorkingDay","getWorkingDaysCount","start","end","count","currentDate","setDate","useEmployees","employees","setEmployees","useState","loading","setLoading","setError","api","useApi","fetchEmployees","useCallback","async","response","get","API_ENDPOINTS","EMPLOYEES","BASE","_response$data","ok","Error","data","message","employeesData","Array","isArray","err","toast","fetchEmployeeById","BY_ID","id","_response$data2","createEmployee","log","employeeData","formattedData","contractHours","parseFloat","hourlyRate","post","_response$data3","errorMessage","success","prev","employee","updateEmployee","put","_response$data4","map","emp","deleteEmployee","delete","_response$data5","filter","getEmployeesByStatus","status","useEffect","mounted","retryCount","loadEmployees","setTimeout","pow","EMPLOYEE_STATUSES","value","label","VACATION_TYPES","color","defaultQuota","name","EMPLOYEE_TABLE_COLUMNS","header","accessor","first_name","last_name","sortable","email","department","role","type","hire_date","toLocaleDateString","hoursWorked","handleResponse","headers","forEach","key","url","statusText","contentType","includes","json","text","warn","window","location","href","method","stack","useMemo","endpoint","token","localStorage","getItem","fetch","API_URL","Authorization","credentials","result","Headers","snakeCaseData","str","replace","letter","toLowerCase","dataSize","JSON","stringify","controller","AbortController","timeoutId","abort","body","signal","clearTimeout","cleanData","parse"],"sourceRoot":""}