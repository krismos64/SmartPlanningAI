{"version":3,"file":"static/js/889.737b4d78.chunk.js","mappings":"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","sources":["components/modals/ConfirmDeletionPage.js"],"sourcesContent":["import Lottie from \"lottie-react\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport planningAnimation from \"../../assets/animations/planning-animation.json\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { useNotification } from \"../ui/Notification\";\n\n// Styles\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: calc(100vh - 200px);\n  padding: 2rem;\n  text-align: center;\n`;\n\nconst Card = styled.div`\n  background-color: ${({ theme }) => theme.colors.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  padding: 2rem;\n  max-width: 500px;\n  width: 100%;\n`;\n\nconst Title = styled.h1`\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin-bottom: 1rem;\n  font-size: 1.8rem;\n`;\n\nconst Message = styled.p`\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin-bottom: 2rem;\n  font-size: 1.1rem;\n  line-height: 1.5;\n`;\n\nconst ErrorMessage = styled.p`\n  color: ${({ theme }) => theme.colors.error};\n  margin-bottom: 1rem;\n  font-weight: 500;\n`;\n\nconst Button = styled.button`\n  padding: 0.75rem 1.5rem;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  background-color: ${({ theme, variant }) =>\n    variant === \"primary\"\n      ? theme.colors.primary\n      : variant === \"error\"\n      ? theme.colors.error\n      : \"transparent\"};\n  color: ${({ theme, variant }) =>\n    variant === \"primary\" || variant === \"error\"\n      ? \"white\"\n      : theme.colors.text.primary};\n  border: ${({ theme, variant }) =>\n    variant === \"outline\" ? `1px solid ${theme.colors.border}` : \"none\"};\n  margin-top: 1rem;\n  width: 100%;\n\n  &:hover {\n    background-color: ${({ theme, variant }) =>\n      variant === \"primary\"\n        ? `${theme.colors.primary}dd`\n        : variant === \"error\"\n        ? `${theme.colors.error}dd`\n        : `${theme.colors.border}33`};\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n`;\n\nconst LoadingContainer = styled.div`\n  width: 100px;\n  height: 100px;\n  margin: 0 auto 1.5rem;\n`;\n\n// Composant de confirmation de suppression de compte\nconst ConfirmDeletionPage = () => {\n  const { token } = useParams();\n  const navigate = useNavigate();\n  const { confirmAccountDeletion } = useAuth();\n  const { showNotification } = useNotification();\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n\n  // Vérifier le token dès le chargement de la page\n  useEffect(() => {\n    const verifyToken = async () => {\n      if (!token) {\n        setError(\"Lien de confirmation invalide.\");\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const result = await confirmAccountDeletion(token);\n\n        if (result.success) {\n          setSuccess(true);\n          showNotification({\n            type: \"success\",\n            title: \"Compte supprimé\",\n            message: \"Votre compte a été supprimé avec succès.\",\n          });\n        } else {\n          setError(result.message || \"Échec de la suppression du compte.\");\n        }\n      } catch (error) {\n        setError(\"Une erreur est survenue lors de la suppression du compte.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    verifyToken();\n  }, [token, confirmAccountDeletion, showNotification]);\n\n  // Rediriger vers la page d'accueil\n  const goToHomePage = () => {\n    navigate(\"/\");\n  };\n\n  // Rediriger vers la page d'inscription\n  const goToRegister = () => {\n    navigate(\"/register\");\n  };\n\n  // Rendu du contenu en fonction de l'état\n  const renderContent = () => {\n    if (loading) {\n      return (\n        <>\n          <LoadingContainer>\n            <Lottie animationData={planningAnimation} loop={true} />\n          </LoadingContainer>\n          <Title>Traitement en cours</Title>\n          <Message>\n            Veuillez patienter pendant que nous traitons votre demande...\n          </Message>\n        </>\n      );\n    }\n\n    if (error) {\n      return (\n        <>\n          <Title>Échec de la suppression</Title>\n          <ErrorMessage>{error}</ErrorMessage>\n          <Message>\n            Le lien de confirmation est peut-être expiré ou invalide. Veuillez\n            réessayer ou contacter notre support si le problème persiste.\n          </Message>\n          <Button variant=\"outline\" onClick={goToHomePage}>\n            Retour à l'accueil\n          </Button>\n        </>\n      );\n    }\n\n    if (success) {\n      return (\n        <>\n          <Title>Compte supprimé avec succès</Title>\n          <Message>\n            Votre compte a été supprimé définitivement. Nous espérons vous\n            revoir bientôt !\n          </Message>\n          <Button variant=\"primary\" onClick={goToRegister}>\n            Créer un nouveau compte\n          </Button>\n          <Button\n            variant=\"outline\"\n            onClick={goToHomePage}\n            style={{ marginTop: \"0.5rem\" }}\n          >\n            Retour à l'accueil\n          </Button>\n        </>\n      );\n    }\n  };\n\n  return (\n    <Container>\n      <Card>{renderContent()}</Card>\n    </Container>\n  );\n};\n\nexport default ConfirmDeletionPage;\n"],"names":["Container","styled","div","Card","_ref","theme","colors","surface","_ref2","borderRadius","medium","_ref3","shadows","Title","h1","_ref4","text","primary","Message","p","_ref5","secondary","ErrorMessage","_ref6","error","Button","button","_ref7","small","_ref8","variant","_ref9","_ref10","border","_ref11","LoadingContainer","ConfirmDeletionPage","token","useParams","navigate","useNavigate","confirmAccountDeletion","useAuth","showNotification","useNotification","loading","setLoading","useState","setError","success","setSuccess","useEffect","async","result","type","title","message","verifyToken","goToHomePage","goToRegister","_jsx","children","_jsxs","_Fragment","Lottie","animationData","planningAnimation","loop","onClick","style","marginTop"],"sourceRoot":""}