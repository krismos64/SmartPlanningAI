{"version":3,"file":"static/js/423.204ad619.chunk.js","mappings":"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","sources":["hooks/useVacations.js","hooks/useActivities.js","components/dashboard/RecentActivities.js","components/ui/SearchBar.js","pages/Dashboard.js"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { API_ENDPOINTS } from \"../config/api\";\nimport useApi from \"./useApi\";\n\n/**\n * Hook personnalisé pour gérer les congés\n * Version optimisée sans WebSocket pour simplifier le chargement des données\n * Ce hook effectue un simple appel REST à l'API pour récupérer les données\n * sans nécessiter de mises à jour en temps réel ou de mécanismes complexes de mise en cache\n */\nconst useVacations = () => {\n  const [vacations, setVacations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const api = useApi();\n  const isComponentMountedRef = useRef(true);\n  const isFetchingRef = useRef(false);\n\n  // Marquer le composant comme monté/démonté\n  useEffect(() => {\n    // Réinitialiser l'état au montage\n    isComponentMountedRef.current = true;\n    isFetchingRef.current = false;\n\n    return () => {\n      // Marquer comme démonté pour éviter les mises à jour d'état après démontage\n      isComponentMountedRef.current = false;\n\n      // Réinitialiser les références au démontage\n      isFetchingRef.current = false;\n    };\n  }, []);\n\n  // Fonction simplifiée pour charger les congés depuis l'API\n  const fetchVacations = useCallback(async () => {\n    // Éviter les appels API multiples simultanés\n    if (isFetchingRef.current || !isComponentMountedRef.current) {\n      return;\n    }\n\n    isFetchingRef.current = true;\n    setLoading(true);\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        setError(\"Vous devez être connecté pour accéder à ces données\");\n        setLoading(false);\n        isFetchingRef.current = false;\n        return;\n      }\n\n      const data = await api.get(API_ENDPOINTS.VACATIONS);\n\n      if (isComponentMountedRef.current) {\n        setVacations(data || []);\n        setError(null);\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du chargement des congés:\", error);\n      if (isComponentMountedRef.current) {\n        setError(\n          \"Erreur lors du chargement des congés. Veuillez réessayer plus tard.\"\n        );\n      }\n    } finally {\n      if (isComponentMountedRef.current) {\n        setLoading(false);\n      }\n      isFetchingRef.current = false;\n    }\n  }, [api]);\n\n  // Rafraîchissement des données\n  const refreshVacations = useCallback(\n    () => fetchVacations(),\n    [fetchVacations]\n  );\n\n  // Chargement initial des données\n  useEffect(() => {\n    if (isComponentMountedRef.current) {\n      fetchVacations();\n    }\n\n    // Nettoyer lors du démontage\n    return () => {\n      // On ne fait rien ici car le nettoyage est géré dans le premier useEffect\n    };\n  }, [fetchVacations]);\n\n  // Créer une nouvelle demande de congé\n  const createVacation = useCallback(\n    async (vacationData) => {\n      if (!isComponentMountedRef.current) return { success: false };\n\n      try {\n        setLoading(true);\n        const formattedData = {\n          ...vacationData,\n          status: vacationData.status || \"pending\",\n        };\n        const response = await api.post(API_ENDPOINTS.VACATIONS, formattedData);\n\n        if (isComponentMountedRef.current) {\n          setVacations((prev) => [...prev, response]);\n          toast.success(\"Demande de congé créée avec succès\");\n\n          // Uniquement si le composant est toujours monté\n          if (isComponentMountedRef.current) {\n            await fetchVacations(); // Rafraîchir les données pour s'assurer de la cohérence\n          }\n        }\n\n        return { success: true, data: response };\n      } catch (error) {\n        const errorMessage =\n          error.response?.data?.message ||\n          error.message ||\n          \"Erreur lors de la création de la demande de congé\";\n\n        if (isComponentMountedRef.current) {\n          toast.error(errorMessage);\n          setError(errorMessage);\n        }\n\n        return { success: false, error: errorMessage };\n      } finally {\n        if (isComponentMountedRef.current) {\n          setLoading(false);\n        }\n      }\n    },\n    [api, fetchVacations]\n  );\n\n  // Mettre à jour une demande de congé\n  const updateVacation = useCallback(\n    async (id, vacationData) => {\n      if (!isComponentMountedRef.current) return { success: false };\n\n      try {\n        setLoading(true);\n        const response = await api.put(\n          `${API_ENDPOINTS.VACATIONS}/${id}`,\n          vacationData\n        );\n\n        if (isComponentMountedRef.current) {\n          setVacations((prev) =>\n            prev.map((vacation) =>\n              vacation.id === id ? { ...vacation, ...response } : vacation\n            )\n          );\n          toast.success(\"Demande de congé mise à jour avec succès\");\n        }\n\n        return { success: true, data: response };\n      } catch (error) {\n        const errorMessage =\n          error.response?.data?.message ||\n          error.message ||\n          \"Erreur lors de la mise à jour de la demande de congé\";\n\n        if (isComponentMountedRef.current) {\n          toast.error(errorMessage);\n          setError(errorMessage);\n        }\n\n        return { success: false, error: errorMessage };\n      } finally {\n        if (isComponentMountedRef.current) {\n          setLoading(false);\n        }\n      }\n    },\n    [api]\n  );\n\n  // Supprimer une demande de congé\n  const deleteVacation = useCallback(\n    async (id) => {\n      if (!isComponentMountedRef.current) return { success: false };\n\n      try {\n        setLoading(true);\n        await api.delete(`${API_ENDPOINTS.VACATIONS}/${id}`);\n\n        if (isComponentMountedRef.current) {\n          setVacations((prev) => prev.filter((vacation) => vacation.id !== id));\n          toast.success(\"Demande de congé supprimée avec succès\");\n        }\n\n        return { success: true };\n      } catch (error) {\n        const errorMessage =\n          error.response?.data?.message ||\n          error.message ||\n          \"Erreur lors de la suppression de la demande de congé\";\n\n        if (isComponentMountedRef.current) {\n          toast.error(errorMessage);\n          setError(errorMessage);\n        }\n\n        return { success: false, error: errorMessage };\n      } finally {\n        if (isComponentMountedRef.current) {\n          setLoading(false);\n        }\n      }\n    },\n    [api]\n  );\n\n  // Mettre à jour le statut d'une demande de congé\n  const updateVacationStatus = useCallback(\n    async (id, status, comment = \"\") => {\n      if (!isComponentMountedRef.current) return { success: false };\n\n      try {\n        setLoading(true);\n        const response = await api.put(\n          `${API_ENDPOINTS.VACATIONS}/${id}/status`,\n          { status, comment }\n        );\n\n        if (isComponentMountedRef.current) {\n          setVacations((prev) =>\n            prev.map((vacation) =>\n              vacation.id === id ? { ...vacation, ...response } : vacation\n            )\n          );\n\n          const statusText =\n            status === \"approved\"\n              ? \"approuvée\"\n              : status === \"rejected\"\n              ? \"rejetée\"\n              : \"mise à jour\";\n          toast.success(`Demande de congé ${statusText} avec succès`);\n        }\n\n        return { success: true, data: response };\n      } catch (error) {\n        const errorMessage =\n          error.response?.data?.message ||\n          error.message ||\n          \"Erreur lors de la mise à jour du statut de la demande de congé\";\n\n        if (isComponentMountedRef.current) {\n          toast.error(errorMessage);\n          setError(errorMessage);\n        }\n\n        return { success: false, error: errorMessage };\n      } finally {\n        if (isComponentMountedRef.current) {\n          setLoading(false);\n        }\n      }\n    },\n    [api]\n  );\n\n  // Filtrer les congés par statut\n  const getVacationsByStatus = useCallback(\n    (status) => vacations.filter((vacation) => vacation.status === status),\n    [vacations]\n  );\n\n  return {\n    vacations,\n    loading,\n    error,\n    createVacation,\n    updateVacation,\n    deleteVacation,\n    updateVacationStatus,\n    getVacationsByStatus,\n    refreshVacations,\n  };\n};\n\nexport default useVacations;\n","import { useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { FiCheck, FiEdit, FiPlus, FiTrash2, FiX } from \"react-icons/fi\";\nimport { API_ENDPOINTS } from \"../config/api\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport useApi from \"./useApi\";\nimport useWebSocket from \"./useWebSocket\";\n\n/**\n * Hook personnalisé pour gérer les activités\n */\nconst useActivities = () => {\n  const [activities, setActivities] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const api = useApi();\n  const { user } = useAuth();\n\n  // Utiliser le hook WebSocket pour recevoir les mises à jour en temps réel\n  const {\n    activities: wsActivities,\n    socket,\n    requestActivitiesUpdate,\n    fallbackMode,\n  } = useWebSocket();\n\n  /**\n   * Récupère toutes les activités\n   * @param {boolean} refresh - Indique si on doit forcer le rafraîchissement des données\n   */\n  const fetchActivities = useCallback(\n    async (refresh = false) => {\n      try {\n        setLoading(true);\n        const response = await api.get(API_ENDPOINTS.ACTIVITIES.BASE);\n\n        // Vérifier si la réponse est un tableau ou contient des données valides\n        if (response && (Array.isArray(response) || response.data)) {\n          // S'assurer que les données sont un tableau\n          const activitiesData = Array.isArray(response)\n            ? response\n            : Array.isArray(response.data)\n            ? response.data\n            : [];\n\n          setActivities(activitiesData);\n          setError(null);\n        } else {\n          throw new Error(\n            \"Erreur lors du chargement des activités: format de réponse invalide\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des activités:\", err);\n        setError(\"Erreur lors du chargement des activités\");\n        toast.error(\"Erreur lors du chargement des activités\");\n        // En cas d'erreur, s'assurer que activities reste un tableau vide\n        setActivities([]);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [api]\n  );\n\n  const createActivity = useCallback(\n    async (activityData) => {\n      try {\n        const response = await api.post(\n          API_ENDPOINTS.ACTIVITIES.BASE,\n          activityData\n        );\n\n        if (response.ok) {\n          setActivities((prev) => [...prev, response.data]);\n          toast.success(\"Activité créée avec succès\");\n          return { success: true, activity: response.data };\n        } else {\n          throw new Error(\n            response.data?.message || \"Erreur lors de la création de l'activité\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors de la création de l'activité:\", err);\n        toast.error(\"Erreur lors de la création de l'activité\");\n        return { success: false, error: err.message };\n      }\n    },\n    [api]\n  );\n\n  const updateActivity = useCallback(\n    async (id, activityData) => {\n      try {\n        const response = await api.put(\n          `${API_ENDPOINTS.ACTIVITIES.BASE}/${id}`,\n          activityData\n        );\n\n        if (response.ok) {\n          setActivities((prev) =>\n            prev.map((activity) =>\n              activity.id === id ? { ...activity, ...response.data } : activity\n            )\n          );\n          toast.success(\"Activité mise à jour avec succès\");\n          return { success: true, activity: response.data };\n        } else {\n          throw new Error(\n            response.data?.message ||\n              \"Erreur lors de la mise à jour de l'activité\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors de la mise à jour de l'activité:\", err);\n        toast.error(\"Erreur lors de la mise à jour de l'activité\");\n        return { success: false, error: err.message };\n      }\n    },\n    [api]\n  );\n\n  const deleteActivity = useCallback(\n    async (id) => {\n      try {\n        const response = await api.delete(\n          `${API_ENDPOINTS.ACTIVITIES.BASE}/${id}`\n        );\n\n        if (response.ok) {\n          setActivities((prev) =>\n            prev.filter((activity) => activity.id !== id)\n          );\n          toast.success(\"Activité supprimée avec succès\");\n          return { success: true };\n        } else {\n          throw new Error(\n            response.data?.message ||\n              \"Erreur lors de la suppression de l'activité\"\n          );\n        }\n      } catch (err) {\n        console.error(\"Erreur lors de la suppression de l'activité:\", err);\n        toast.error(\"Erreur lors de la suppression de l'activité\");\n        return { success: false, error: err.message };\n      }\n    },\n    [api]\n  );\n\n  /**\n   * Traduit le type de congé en français\n   * @param {string} type - Le type de congé en anglais\n   * @returns {string} - Le type de congé en français\n   */\n  const translateVacationType = useCallback((type) => {\n    switch (type) {\n      case \"paid\":\n        return \"payé\";\n      case \"unpaid\":\n        return \"non payé\";\n      case \"sick\":\n        return \"maladie\";\n      case \"other\":\n        return \"autre\";\n      default:\n        return type || \"non spécifié\";\n    }\n  }, []);\n\n  /**\n   * Traduit le statut de congé en français\n   * @param {string} status - Le statut de congé en anglais\n   * @returns {string} - Le statut de congé en français\n   */\n  const translateVacationStatus = useCallback((status) => {\n    switch (status) {\n      case \"approved\":\n        return \"approuvé\";\n      case \"rejected\":\n        return \"rejeté\";\n      case \"pending\":\n        return \"en attente\";\n      default:\n        return status || \"non spécifié\";\n    }\n  }, []);\n\n  /**\n   * Formate les dates de début et de fin d'un congé\n   * @param {string} startDate - La date de début\n   * @param {string} endDate - La date de fin\n   * @returns {string} - Les dates formatées\n   */\n  const formatVacationDates = useCallback((startDate, endDate) => {\n    if (!startDate || !endDate) return \"\";\n\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n\n    // Formater les dates\n    const startFormatted = start.toLocaleDateString(\"fr-FR\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n    });\n\n    const endFormatted = end.toLocaleDateString(\"fr-FR\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n    });\n\n    return `du ${startFormatted} au ${endFormatted}`;\n  }, []);\n\n  /**\n   * Formate la description d'une activité\n   * @param {Object} activity - L'activité à formater\n   * @returns {string} - La description formatée\n   */\n  const formatActivityDescription = useCallback(\n    (activity) => {\n      if (!activity) return \"\";\n\n      // Si l'activité a une description, l'utiliser directement\n      if (activity.description) {\n        return activity.description;\n      }\n\n      const { type, entity_type, entity_id, user_id, details, user } = activity;\n\n      // Obtenir le nom de l'utilisateur qui a effectué l'action\n      const userName = user && user.name ? user.name : \"Un utilisateur\";\n\n      // Formater le type d'entité\n      const entityName =\n        {\n          employee: \"un employé\",\n          schedule: \"un planning\",\n          vacation: \"une demande de congé\",\n          shift: \"un horaire\",\n          user: \"un utilisateur\",\n        }[entity_type] || entity_type;\n\n      // Formater le type d'action\n      const actionType =\n        {\n          create: \"a créé\",\n          update: \"a modifié\",\n          delete: \"a supprimé\",\n          approve: \"a approuvé\",\n          reject: \"a rejeté\",\n          vacation_status_update: \"a mis à jour le statut de\",\n        }[type] || type;\n\n      // Construire la description\n      let description = `${userName} ${actionType} ${entityName}`;\n\n      // Ajouter des détails si disponibles\n      if (details) {\n        let parsedDetails;\n        try {\n          parsedDetails =\n            typeof details === \"string\" ? JSON.parse(details) : details;\n        } catch (e) {\n          parsedDetails = details;\n        }\n\n        // Cas spécial pour les demandes de congés\n        if (entity_type === \"vacation\") {\n          // Pour la création de congés\n          if (\n            type === \"create\" &&\n            parsedDetails.employee_name &&\n            parsedDetails.start_date &&\n            parsedDetails.end_date\n          ) {\n            const employeeName = parsedDetails.employee_name;\n            const typeConge = translateVacationType(parsedDetails.type);\n            const dateRange = formatVacationDates(\n              parsedDetails.start_date,\n              parsedDetails.end_date\n            );\n\n            return `${userName} a créé une demande de congé ${typeConge} pour ${employeeName} ${dateRange}`;\n          }\n\n          // Pour la mise à jour du statut des congés\n          if (type === \"vacation_status_update\" && parsedDetails.new_status) {\n            const newStatus = parsedDetails.new_status;\n            const employeeName =\n              parsedDetails.employee_name ||\n              `Employé #${parsedDetails.employee_id || entity_id}`;\n            const dateRange =\n              parsedDetails.start_date && parsedDetails.end_date\n                ? formatVacationDates(\n                    parsedDetails.start_date,\n                    parsedDetails.end_date\n                  )\n                : \"\";\n            const typeConge = parsedDetails.vacation_type\n              ? translateVacationType(parsedDetails.vacation_type)\n              : \"\";\n\n            let statusText = translateVacationStatus(newStatus);\n\n            return `${userName} a ${statusText} la demande de congé${\n              typeConge ? \" \" + typeConge : \"\"\n            } de ${employeeName}${dateRange ? \" \" + dateRange : \"\"}`;\n          }\n\n          // Pour la mise à jour générale des congés\n          if (type === \"update\") {\n            const employeeName =\n              parsedDetails.employee_name ||\n              `Employé #${parsedDetails.employee_id || entity_id}`;\n            const dateRange =\n              parsedDetails.start_date && parsedDetails.end_date\n                ? formatVacationDates(\n                    parsedDetails.start_date,\n                    parsedDetails.end_date\n                  )\n                : \"\";\n            const typeConge = parsedDetails.vacation_type\n              ? translateVacationType(parsedDetails.vacation_type)\n              : \"\";\n\n            return `${userName} a modifié la demande de congé${\n              typeConge ? \" \" + typeConge : \"\"\n            } de ${employeeName}${dateRange ? \" \" + dateRange : \"\"}`;\n          }\n\n          // Pour la suppression des congés\n          if (type === \"delete\") {\n            const employeeName =\n              parsedDetails.employee_name ||\n              `Employé #${parsedDetails.employee_id || entity_id}`;\n            const dateRange =\n              parsedDetails.start_date && parsedDetails.end_date\n                ? formatVacationDates(\n                    parsedDetails.start_date,\n                    parsedDetails.end_date\n                  )\n                : \"\";\n            const typeConge = parsedDetails.vacation_type\n              ? translateVacationType(parsedDetails.vacation_type)\n              : \"\";\n\n            return `${userName} a supprimé la demande de congé${\n              typeConge ? \" \" + typeConge : \"\"\n            } de ${employeeName}${dateRange ? \" \" + dateRange : \"\"}`;\n          }\n        }\n\n        // Cas spécial pour les modifications de solde d'heures\n        if (\n          entity_type === \"employee\" &&\n          parsedDetails.action &&\n          (parsedDetails.action === \"Ajout d'heures\" ||\n            parsedDetails.action === \"Soustraction d'heures\")\n        ) {\n          const employeeName =\n            parsedDetails.employeeName || `Employé #${entity_id}`;\n          const hours = parsedDetails.hours || \"?\";\n          const action =\n            parsedDetails.action === \"Ajout d'heures\" ? \"ajouté\" : \"soustrait\";\n\n          return `${userName} a ${action} ${hours}h au solde d'heures de ${employeeName}`;\n        }\n\n        if (typeof parsedDetails === \"string\") {\n          description += ` : ${parsedDetails}`;\n        } else if (typeof parsedDetails === \"object\") {\n          // Ne pas ajouter les détails sous forme d'objet pour éviter [object Object]\n          if (parsedDetails.employeeName && entity_type === \"employee\") {\n            description += ` : ${parsedDetails.employeeName}`;\n          }\n        }\n      }\n\n      return description;\n    },\n    [formatVacationDates, translateVacationType, translateVacationStatus]\n  );\n\n  /**\n   * Formate la date d'une activité\n   * @param {string} timestamp - Le timestamp à formater\n   * @returns {string} - La date formatée\n   */\n  const formatActivityDate = useCallback((timestamp) => {\n    if (!timestamp) return \"\";\n\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffSec = Math.floor(diffMs / 1000);\n    const diffMin = Math.floor(diffSec / 60);\n    const diffHour = Math.floor(diffMin / 60);\n    const diffDay = Math.floor(diffHour / 24);\n\n    // Formater la date en fonction de son ancienneté\n    if (diffSec < 60) {\n      return \"à l'instant\";\n    } else if (diffMin < 60) {\n      return `il y a ${diffMin} minute${diffMin > 1 ? \"s\" : \"\"}`;\n    } else if (diffHour < 24) {\n      return `il y a ${diffHour} heure${diffHour > 1 ? \"s\" : \"\"}`;\n    } else if (diffDay < 7) {\n      return `il y a ${diffDay} jour${diffDay > 1 ? \"s\" : \"\"}`;\n    } else {\n      return date.toLocaleDateString(\"fr-FR\", {\n        day: \"2-digit\",\n        month: \"2-digit\",\n        year: \"numeric\",\n      });\n    }\n  }, []);\n\n  /**\n   * Obtient l'icône en fonction du type d'activité\n   * @param {string} type - Le type d'activité\n   * @returns {JSX.Element} - L'icône correspondante\n   */\n  const getActivityIcon = useCallback((type) => {\n    switch (type) {\n      case \"create\":\n        return <FiPlus />;\n      case \"update\":\n        return <FiEdit />;\n      case \"delete\":\n        return <FiTrash2 />;\n      case \"approve\":\n        return <FiCheck />;\n      case \"reject\":\n        return <FiX />;\n      default:\n        return null;\n    }\n  }, []);\n\n  // Mettre à jour les activités lorsque de nouvelles activités sont reçues via WebSocket\n  useEffect(() => {\n    if (\n      wsActivities &&\n      Array.isArray(wsActivities) &&\n      wsActivities.length > 0\n    ) {\n      console.log(\"Nouvelles activités reçues via WebSocket:\", wsActivities);\n\n      setActivities((prevActivities) => {\n        // S'assurer que prevActivities est un tableau\n        const prevActivitiesArray = Array.isArray(prevActivities)\n          ? prevActivities\n          : [];\n\n        // Créer un nouvel ensemble d'activités en combinant les anciennes et les nouvelles\n        const newActivitiesMap = new Map();\n\n        // Ajouter d'abord les nouvelles activités\n        wsActivities.forEach((activity) => {\n          newActivitiesMap.set(activity.id, activity);\n        });\n\n        // Ajouter les anciennes activités qui ne sont pas dans les nouvelles\n        prevActivitiesArray.forEach((activity) => {\n          if (!newActivitiesMap.has(activity.id)) {\n            newActivitiesMap.set(activity.id, activity);\n          }\n        });\n\n        // Convertir la Map en tableau et trier par date (plus récent en premier)\n        return Array.from(newActivitiesMap.values()).sort(\n          (a, b) => new Date(b.timestamp) - new Date(a.timestamp)\n        );\n      });\n\n      // Indiquer que le chargement est terminé\n      setLoading(false);\n    }\n  }, [wsActivities]);\n\n  // Charger les activités au montage du composant\n  useEffect(() => {\n    fetchActivities(); // Forcer le rafraîchissement initial\n\n    // Mettre à jour les activités toutes les 2 minutes\n    const interval = setInterval(() => {\n      fetchActivities(); // Forcer le rafraîchissement\n    }, 2 * 60 * 1000);\n\n    return () => clearInterval(interval);\n  }, [fetchActivities]);\n\n  // Écouter les changements de connexion WebSocket\n  useEffect(() => {\n    if (socket && !fallbackMode) {\n      console.log(\"WebSocket connecté, on va rafraîchir les activités\");\n      requestActivitiesUpdate();\n    } else if (fallbackMode) {\n      console.log(\"Mode de secours WebSocket actif, utilisation de l'API REST\");\n      fetchActivities();\n    }\n  }, [socket, requestActivitiesUpdate, fallbackMode, fetchActivities]);\n\n  // Écouter les changements de mode de secours\n  useEffect(() => {\n    if (fallbackMode) {\n      console.log(\n        \"Passage en mode de secours, récupération des activités via API REST\"\n      );\n      fetchActivities();\n    }\n  }, [fallbackMode, fetchActivities]);\n\n  return {\n    activities,\n    loading,\n    error,\n    fetchActivities,\n    createActivity,\n    updateActivity,\n    deleteActivity,\n    getActivityIcon,\n    formatActivityDescription,\n    formatActivityDate,\n    formatVacationDates,\n    translateVacationType,\n    translateVacationStatus,\n  };\n};\n\nexport default useActivities;\n","import { format } from \"date-fns\";\nimport { fr } from \"date-fns/locale\";\nimport { motion } from \"framer-motion\";\nimport {\n  FiCalendar,\n  FiCheck,\n  FiClock,\n  FiEdit,\n  FiInfo,\n  FiPlus,\n  FiRefreshCw,\n  FiSun,\n  FiTrash2,\n  FiUser,\n  FiX,\n} from \"react-icons/fi\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport useActivities from \"../../hooks/useActivities\";\n\n// Animations\nconst fadeIn = keyframes`\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n`;\n\nconst pulse = keyframes`\n  0% {\n    box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(79, 70, 229, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(79, 70, 229, 0);\n  }\n`;\n\n// Composants stylisés\nconst ActivitiesContainer = styled.div`\n  background-color: ${({ theme }) => theme.colors.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  padding: 1.5rem;\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  margin-bottom: 1.5rem;\n  transition: all 0.3s ease;\n\n  &:hover {\n    box-shadow: ${({ theme }) => theme.shadows.large};\n  }\n`;\n\nconst ActivitiesHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  border-bottom: 1px solid ${({ theme }) => theme.colors.border};\n  padding-bottom: 0.75rem;\n`;\n\nconst ActivitiesTitle = styled.h3`\n  font-size: 1.2rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  svg {\n    color: ${({ theme }) => theme.colors.primary};\n  }\n`;\n\nconst RefreshButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: ${({ theme }) => theme.colors.primaryLight};\n  border: none;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  color: ${({ theme }) => theme.colors.primary};\n  cursor: pointer;\n  font-size: 0.875rem;\n  padding: 0.5rem 0.75rem;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ${({ theme }) => theme.colors.primary}22;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  svg {\n    transition: transform 0.3s ease;\n  }\n\n  &:hover svg {\n    transform: rotate(180deg);\n  }\n`;\n\nconst ActivitiesList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst ActivityItem = styled(motion.div)`\n  display: flex;\n  align-items: flex-start;\n  padding: 0.75rem;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  transition: all 0.3s ease;\n  border-left: 3px solid ${({ color }) => color};\n  background-color: ${({ theme, color }) => `${color}08`};\n\n  &:hover {\n    background-color: ${({ theme, color }) => `${color}15`};\n    transform: translateX(5px);\n  }\n`;\n\nconst ActivityIcon = styled.div`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: ${({ color }) => `${color}22`};\n  color: ${({ color }) => color};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1rem;\n  margin-right: 1rem;\n  flex-shrink: 0;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: scale(1.1);\n    animation: ${pulse} 1.5s infinite;\n  }\n`;\n\nconst ActivityContent = styled.div`\n  flex: 1;\n`;\n\nconst ActivityDescription = styled.div`\n  font-size: 0.9rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  line-height: 1.4;\n`;\n\nconst ActivityMeta = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  font-size: 0.75rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n`;\n\nconst ActivityTime = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n`;\n\nconst ActivityDate = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n`;\n\nconst ActivityEmployee = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  font-weight: 500;\n  color: ${({ theme }) => theme.colors.primary};\n`;\n\nconst LoadingIndicator = styled.div`\n  text-align: center;\n  padding: 2rem 0;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n\n  svg {\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  text-align: center;\n  padding: 2rem 0;\n  color: ${({ theme }) => theme.colors.error};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst EmptyMessage = styled.div`\n  text-align: center;\n  padding: 2rem 0;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst ViewAllButton = styled.button`\n  display: block;\n  width: 100%;\n  background-color: transparent;\n  color: ${({ theme }) => theme.colors.primary};\n  border: 1px solid ${({ theme }) => theme.colors.primary};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  padding: 0.75rem;\n  margin-top: 1.5rem;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-weight: 500;\n\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.primary};\n    color: white;\n  }\n`;\n\nconst Badge = styled.span`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${({ color }) => color};\n  color: white;\n  border-radius: 12px;\n  padding: 0.25rem 0.5rem;\n  font-size: 0.7rem;\n  font-weight: 500;\n  margin-left: 0.5rem;\n`;\n\n// Fonction pour obtenir la couleur en fonction du type d'activité\nconst getActivityColor = (type, entity_type) => {\n  // Si c'est une activité liée aux congés, utiliser une couleur spécifique\n  if (entity_type === \"vacation\") {\n    return \"#6366F1\"; // indigo pour les congés\n  }\n\n  // Sinon, utiliser la couleur en fonction du type d'activité\n  switch (type) {\n    case \"create\":\n      return \"#10B981\"; // vert\n    case \"update\":\n      return \"#F59E0B\"; // orange\n    case \"delete\":\n      return \"#EF4444\"; // rouge\n    case \"approve\":\n      return \"#3B82F6\"; // bleu\n    case \"reject\":\n      return \"#EC4899\"; // rose\n    case \"system\":\n      return \"#8B5CF6\"; // violet\n    case \"vacation_status_update\":\n      return \"#6366F1\"; // indigo\n    default:\n      return \"#4F46E5\"; // indigo (par défaut)\n  }\n};\n\n// Fonction pour obtenir l'icône en fonction du type d'activité\nconst getActivityIcon = (type, entity_type) => {\n  // Si c'est une activité liée aux congés, utiliser une icône spécifique\n  if (entity_type === \"vacation\") {\n    return <FiSun />;\n  }\n\n  // Sinon, utiliser l'icône en fonction du type d'activité\n  switch (type) {\n    case \"create\":\n      return <FiPlus />;\n    case \"update\":\n      return <FiEdit />;\n    case \"delete\":\n      return <FiTrash2 />;\n    case \"approve\":\n      return <FiCheck />;\n    case \"reject\":\n      return <FiX />;\n    case \"system\":\n      return <FiInfo />;\n    case \"vacation_status_update\":\n      return <FiSun />;\n    default:\n      return <FiInfo />;\n  }\n};\n\n// Fonction pour obtenir le libellé en fonction du type d'activité\nconst getActivityTypeLabel = (type, entity_type, details) => {\n  // Si c'est une activité liée aux congés, utiliser un libellé spécifique\n  if (entity_type === \"vacation\") {\n    // Récupérer le type de congé si disponible\n    let vacationType = \"\";\n    if (details && typeof details === \"object\") {\n      if (details.type) {\n        vacationType = translateVacationType(details.type);\n      } else if (details.vacation_type) {\n        vacationType = translateVacationType(details.vacation_type);\n      }\n    }\n\n    switch (type) {\n      case \"create\":\n        return `Nouvelle demande${vacationType ? \" \" + vacationType : \"\"}`;\n      case \"update\":\n        return `Modification congé${vacationType ? \" \" + vacationType : \"\"}`;\n      case \"delete\":\n        return `Suppression congé${vacationType ? \" \" + vacationType : \"\"}`;\n      case \"approve\":\n        return `Approbation congé${vacationType ? \" \" + vacationType : \"\"}`;\n      case \"reject\":\n        return `Rejet congé${vacationType ? \" \" + vacationType : \"\"}`;\n      case \"vacation_status_update\":\n        // Récupérer le nouveau statut si disponible\n        let statusText = \"\";\n        if (details && typeof details === \"object\" && details.new_status) {\n          statusText = translateVacationStatus(details.new_status);\n        }\n        return `Congé ${statusText}${vacationType ? \" \" + vacationType : \"\"}`;\n      default:\n        return `Congé${vacationType ? \" \" + vacationType : \"\"}`;\n    }\n  }\n\n  // Sinon, utiliser le libellé en fonction du type d'activité\n  switch (type) {\n    case \"create\":\n      return \"Création\";\n    case \"update\":\n      return \"Modification\";\n    case \"delete\":\n      return \"Suppression\";\n    case \"approve\":\n      return \"Approbation\";\n    case \"reject\":\n      return \"Rejet\";\n    case \"system\":\n      return \"Système\";\n    case \"vacation_status_update\":\n      return \"Mise à jour statut\";\n    default:\n      return \"Information\";\n  }\n};\n\n// Fonction pour formater la date et l'heure\nconst formatDateTime = (timestamp) => {\n  if (!timestamp) return { date: \"\", time: \"\" };\n\n  const date = new Date(timestamp);\n\n  return {\n    date: format(date, \"dd MMMM yyyy\", { locale: fr }),\n    time: format(date, \"HH:mm:ss\", { locale: fr }),\n  };\n};\n\n// Fonction pour traduire le type de congé en français\nconst translateVacationType = (type) => {\n  switch (type) {\n    case \"paid\":\n      return \"payé\";\n    case \"unpaid\":\n      return \"non payé\";\n    case \"sick\":\n      return \"maladie\";\n    case \"other\":\n      return \"autre\";\n    default:\n      return type || \"non spécifié\";\n  }\n};\n\n// Fonction pour traduire le statut de congé en français\nconst translateVacationStatus = (status) => {\n  switch (status) {\n    case \"approved\":\n      return \"approuvé\";\n    case \"rejected\":\n      return \"rejeté\";\n    case \"pending\":\n      return \"en attente\";\n    default:\n      return status || \"non spécifié\";\n  }\n};\n\nconst RecentActivities = () => {\n  const navigate = useNavigate();\n  const {\n    activities,\n    loading,\n    error,\n    fetchActivities,\n    formatActivityDescription,\n    formatActivityDate,\n  } = useActivities();\n\n  const handleRefresh = () => {\n    fetchActivities(true);\n  };\n\n  const handleViewAllActivities = () => {\n    navigate(\"/activities\");\n  };\n\n  // S'assurer que activities est un tableau\n  const activitiesList = Array.isArray(activities) ? activities : [];\n\n  // Variantes d'animation pour les éléments de la liste\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.1,\n      },\n    },\n  };\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        type: \"spring\",\n        stiffness: 100,\n        damping: 10,\n      },\n    },\n  };\n\n  // Fonction pour extraire les détails pertinents d'une activité\n  const extractActivityDetails = (activity) => {\n    if (!activity || !activity.details) return {};\n\n    let details = activity.details;\n    if (typeof details === \"string\") {\n      try {\n        details = JSON.parse(details);\n      } catch (e) {\n        return {};\n      }\n    }\n\n    // Extraire les informations pertinentes\n    return {\n      employeeName: details.employee_name || \"\",\n      employeeId: details.employee_id || \"\",\n      vacationType: details.type || details.vacation_type || \"\",\n      startDate: details.start_date || \"\",\n      endDate: details.end_date || \"\",\n      status: details.status || details.new_status || \"\",\n      previousStatus: details.previous_status || \"\",\n    };\n  };\n\n  return (\n    <ActivitiesContainer>\n      <ActivitiesHeader>\n        <ActivitiesTitle>\n          <FiClock size={18} /> Activités récentes\n          {!loading && activitiesList.length > 0 && (\n            <Badge color=\"#4F46E5\">{activitiesList.length}</Badge>\n          )}\n        </ActivitiesTitle>\n        <RefreshButton onClick={handleRefresh} disabled={loading}>\n          <FiRefreshCw size={16} className={loading ? \"animate-spin\" : \"\"} />\n          Actualiser\n        </RefreshButton>\n      </ActivitiesHeader>\n\n      {loading ? (\n        <LoadingIndicator>\n          <FiRefreshCw size={32} />\n          <div>Chargement des activités...</div>\n        </LoadingIndicator>\n      ) : error ? (\n        <ErrorMessage>\n          <FiX size={32} />\n          <div>Une erreur est survenue lors du chargement des activités.</div>\n        </ErrorMessage>\n      ) : activitiesList.length === 0 ? (\n        <EmptyMessage>\n          <FiInfo size={32} />\n          <div>Aucune activité récente.</div>\n        </EmptyMessage>\n      ) : (\n        <>\n          <motion.div\n            variants={containerVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n          >\n            <ActivitiesList>\n              {activitiesList.slice(0, 5).map((activity, index) => {\n                const color = getActivityColor(\n                  activity.type,\n                  activity.entity_type\n                );\n                const { date, time } = formatDateTime(activity.timestamp);\n                const details = extractActivityDetails(activity);\n\n                // Traduire le type et le statut de congé si c'est une activité liée aux congés\n                let typeLabel = \"\";\n                let statusLabel = \"\";\n                if (activity.entity_type === \"vacation\") {\n                  typeLabel = details.vacationType\n                    ? translateVacationType(details.vacationType)\n                    : \"\";\n                  statusLabel = details.status\n                    ? translateVacationStatus(details.status)\n                    : \"\";\n                }\n\n                return (\n                  <ActivityItem\n                    key={activity.id || index}\n                    color={color}\n                    variants={itemVariants}\n                    whileHover={{ scale: 1.01 }}\n                  >\n                    <ActivityIcon color={color}>\n                      {getActivityIcon(activity.type, activity.entity_type)}\n                    </ActivityIcon>\n                    <ActivityContent>\n                      <ActivityDescription>\n                        {formatActivityDescription(activity)}\n                        <Badge color={color}>\n                          {getActivityTypeLabel(\n                            activity.type,\n                            activity.entity_type,\n                            activity.details\n                          )}\n                        </Badge>\n                      </ActivityDescription>\n                      <ActivityMeta>\n                        <ActivityTime>\n                          <FiClock size={12} /> {time}\n                        </ActivityTime>\n                        <ActivityDate>\n                          <FiCalendar size={12} /> {date}\n                        </ActivityDate>\n                        {activity.entity_type === \"vacation\" &&\n                          details.employeeName && (\n                            <ActivityEmployee>\n                              <FiUser size={12} /> {details.employeeName}\n                            </ActivityEmployee>\n                          )}\n                      </ActivityMeta>\n                    </ActivityContent>\n                  </ActivityItem>\n                );\n              })}\n            </ActivitiesList>\n          </motion.div>\n\n          {activitiesList.length > 5 && (\n            <ViewAllButton onClick={handleViewAllActivities}>\n              Voir toutes les activités ({activitiesList.length})\n            </ViewAllButton>\n          )}\n        </>\n      )}\n    </ActivitiesContainer>\n  );\n};\n\nexport default RecentActivities;\n","import { useEffect, useRef, useState } from \"react\";\nimport {\n  FiCalendar,\n  FiCheckCircle,\n  FiClock,\n  FiSearch,\n  FiSun,\n  FiUser,\n  FiX,\n  FiXCircle,\n} from \"react-icons/fi\";\nimport styled from \"styled-components\";\n\n// Composants stylisés\nconst SearchContainer = styled.div`\n  position: relative;\n  width: 100%;\n  max-width: ${({ expanded }) => (expanded ? \"600px\" : \"300px\")};\n  transition: max-width 0.3s ease;\n`;\n\nconst SearchInputWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  background-color: ${({ theme }) => theme.colors.surface};\n  border: 1px solid\n    ${({ theme, focused }) =>\n      focused ? theme.colors.primary : theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  padding: 0.5rem 1rem;\n  box-shadow: ${({ theme, focused }) =>\n    focused ? `0 0 0 2px ${theme.colors.primary}22` : \"none\"};\n  transition: all 0.2s ease;\n\n  &:hover {\n    border-color: ${({ theme, focused }) =>\n      focused ? theme.colors.primary : `${theme.colors.primary}88`};\n  }\n`;\n\nconst SearchIcon = styled.div`\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin-right: 0.75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst SearchInput = styled.input`\n  flex: 1;\n  border: none;\n  background: none;\n  font-size: 1rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  outline: none;\n  padding: 0.25rem 0;\n\n  &::placeholder {\n    color: ${({ theme }) => theme.colors.text.disabled};\n  }\n`;\n\nconst ClearButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  cursor: pointer;\n  padding: 0.25rem;\n  margin-left: 0.5rem;\n  border-radius: 50%;\n  display: ${({ visible }) => (visible ? \"flex\" : \"none\")};\n  align-items: center;\n  justify-content: center;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background-color: ${({ theme }) => `${theme.colors.primary}11`};\n    color: ${({ theme }) => theme.colors.primary};\n  }\n`;\n\nconst AdvancedButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  cursor: pointer;\n  padding: 0.25rem;\n  margin-left: 0.5rem;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  transform: ${({ expanded }) => (expanded ? \"rotate(180deg)\" : \"rotate(0)\")};\n\n  &:hover {\n    background-color: ${({ theme }) => `${theme.colors.primary}11`};\n    color: ${({ theme }) => theme.colors.primary};\n  }\n`;\n\nconst SearchResults = styled.div`\n  position: absolute;\n  top: calc(100% + 0.5rem);\n  left: 0;\n  right: 0;\n  background-color: ${({ theme }) => theme.colors.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  box-shadow: ${({ theme }) => theme.shadows.large};\n  max-height: 400px;\n  overflow-y: auto;\n  z-index: 100;\n  display: ${({ visible }) => (visible ? \"block\" : \"none\")};\n`;\n\nconst ResultGroup = styled.div`\n  padding: 0.5rem 0;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ${({ theme }) => theme.colors.border};\n  }\n`;\n\nconst ResultGroupTitle = styled.div`\n  padding: 0.5rem 1rem;\n  font-size: 0.75rem;\n  font-weight: ${({ theme }) => theme.typography.fontWeights.semiBold};\n  color: ${({ theme }) => theme.colors.text.secondary};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst ResultItem = styled.div`\n  padding: 0.75rem 1rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background-color: ${({ theme }) => `${theme.colors.primary}11`};\n  }\n`;\n\nconst ResultIcon = styled.div`\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background-color: ${({ theme, color }) =>\n    color ? `${color}22` : `${theme.colors.primary}22`};\n  color: ${({ theme, color }) => color || theme.colors.primary};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1rem;\n`;\n\nconst ResultContent = styled.div`\n  flex: 1;\n`;\n\nconst ResultTitle = styled.div`\n  font-weight: ${({ theme }) => theme.typography.fontWeights.medium};\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin-bottom: 0.25rem;\n`;\n\nconst ResultDescription = styled.div`\n  font-size: 0.875rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n`;\n\nconst HighlightedText = styled.span`\n  background-color: ${({ theme }) => `${theme.colors.primary}33`};\n  color: ${({ theme }) => theme.colors.primary};\n  padding: 0 0.25rem;\n  border-radius: 2px;\n`;\n\nconst NoResults = styled.div`\n  padding: 1.5rem;\n  text-align: center;\n  color: ${({ theme }) => theme.colors.text.secondary};\n`;\n\nconst AdvancedFilters = styled.div`\n  padding: 1rem;\n  background-color: ${({ theme }) => theme.colors.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  margin-top: 0.5rem;\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  display: ${({ visible }) => (visible ? \"block\" : \"none\")};\n`;\n\nconst FiltersGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 1rem;\n`;\n\nconst FilterGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst FilterLabel = styled.label`\n  font-size: 0.875rem;\n  font-weight: ${({ theme }) => theme.typography.fontWeights.medium};\n  color: ${({ theme }) => theme.colors.text.primary};\n`;\n\nconst FilterSelect = styled.select`\n  padding: 0.5rem;\n  border: 1px solid ${({ theme }) => theme.colors.border};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  background-color: ${({ theme }) => theme.colors.background};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 0.875rem;\n  outline: none;\n  transition: border-color 0.2s ease;\n\n  &:focus {\n    border-color: ${({ theme }) => theme.colors.primary};\n  }\n`;\n\nconst FilterActions = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  margin-top: 1rem;\n`;\n\nconst FilterButton = styled.button`\n  padding: 0.5rem 1rem;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  font-size: 0.875rem;\n  font-weight: ${({ theme }) => theme.typography.fontWeights.medium};\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  ${({ primary, theme }) =>\n    primary\n      ? `\n    background-color: ${theme.colors.primary};\n    color: white;\n    border: 1px solid ${theme.colors.primary};\n    \n    &:hover {\n      background-color: ${theme.colors.primary}dd;\n    }\n  `\n      : `\n    background-color: transparent;\n    color: ${theme.colors.text.primary};\n    border: 1px solid ${theme.colors.border};\n    \n    &:hover {\n      background-color: ${theme.colors.background};\n      border-color: ${theme.colors.text.secondary};\n    }\n  `}\n`;\n\n// Fonction de recherche par défaut (utilisée uniquement si customGetResults n'est pas fourni)\nconst getSearchResults = (query) => {\n  // Cette fonction est un placeholder et ne sera utilisée que si customGetResults n'est pas fourni\n  return [];\n};\n\n// Composant principal\nconst SearchBar = ({\n  placeholder = \"Rechercher...\",\n  onSearch,\n  initialResults = [],\n  customGetResults,\n}) => {\n  const [query, setQuery] = useState(\"\");\n  const [focused, setFocused] = useState(false);\n  const [showResults, setShowResults] = useState(false);\n  const [results, setResults] = useState(initialResults);\n\n  const searchRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Gérer les clics en dehors du composant\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\n        setFocused(false);\n        setShowResults(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  // Mettre à jour les résultats lorsque la requête change\n  useEffect(() => {\n    if (query.length > 1) {\n      if (customGetResults) {\n        // Utiliser la fonction personnalisée si fournie\n        onSearch(query);\n      } else {\n        // Utiliser la fonction par défaut\n        const searchResults = getSearchResults(query);\n        setResults(searchResults);\n      }\n      setShowResults(true);\n    } else {\n      setResults([]);\n      setShowResults(false);\n    }\n  }, [query, customGetResults, onSearch]);\n\n  // Mettre à jour les résultats lorsque initialResults change\n  useEffect(() => {\n    if (initialResults && initialResults.length > 0) {\n      setResults(initialResults);\n      if (query.length > 1) {\n        setShowResults(true);\n      }\n    }\n  }, [initialResults, query]);\n\n  const handleInputChange = (e) => {\n    setQuery(e.target.value);\n  };\n\n  const handleInputFocus = () => {\n    setFocused(true);\n    if (query.length > 1) {\n      setShowResults(true);\n    }\n  };\n\n  const handleClear = () => {\n    setQuery(\"\");\n    setResults([]);\n    setShowResults(false);\n    inputRef.current.focus();\n  };\n\n  const handleResultClick = (item) => {\n    if (onSearch) {\n      onSearch(item);\n    }\n    setShowResults(false);\n  };\n\n  // Mettre en surbrillance les termes de recherche\n  const highlightText = (text, query) => {\n    if (!query || !text) return text;\n\n    const parts = text.split(new RegExp(`(${query})`, \"gi\"));\n    return parts.map((part, index) =>\n      part.toLowerCase() === query.toLowerCase() ? (\n        <HighlightedText key={index}>{part}</HighlightedText>\n      ) : (\n        part\n      )\n    );\n  };\n\n  return (\n    <div ref={searchRef}>\n      <SearchContainer>\n        <SearchInputWrapper focused={focused}>\n          <SearchIcon>\n            <FiSearch />\n          </SearchIcon>\n          <SearchInput\n            ref={inputRef}\n            type=\"text\"\n            placeholder={placeholder}\n            value={query}\n            onChange={handleInputChange}\n            onFocus={handleInputFocus}\n          />\n          <ClearButton\n            visible={query.length > 0}\n            onClick={handleClear}\n            aria-label=\"Effacer la recherche\"\n          >\n            <FiX />\n          </ClearButton>\n        </SearchInputWrapper>\n\n        <SearchResults visible={showResults && results.length > 0}>\n          {results.length === 0 ? (\n            <NoResults>Aucun résultat trouvé pour \"{query}\"</NoResults>\n          ) : (\n            results.map((group, groupIndex) => (\n              <ResultGroup key={groupIndex}>\n                <ResultGroupTitle>{group.title}</ResultGroupTitle>\n                {group.items.map((item, itemIndex) => (\n                  <ResultItem\n                    key={itemIndex}\n                    onClick={() => handleResultClick(item)}\n                  >\n                    <ResultIcon color={item.color}>\n                      {item.type === \"employee\" ? (\n                        <FiUser />\n                      ) : item.type === \"vacation\" ? (\n                        <FiSun />\n                      ) : (\n                        <FiCalendar />\n                      )}\n                    </ResultIcon>\n                    <ResultContent>\n                      <ResultTitle>\n                        {highlightText(item.name, query)}\n                        {item.status && (\n                          <span style={{ marginLeft: \"8px\" }}>\n                            {item.status === \"approved\" ? (\n                              <FiCheckCircle color=\"#10B981\" />\n                            ) : item.status === \"rejected\" ? (\n                              <FiXCircle color=\"#EF4444\" />\n                            ) : (\n                              <FiClock color=\"#F59E0B\" />\n                            )}\n                          </span>\n                        )}\n                      </ResultTitle>\n                      <ResultDescription>\n                        {item.type === \"employee\"\n                          ? item.role\n                          : item.type === \"vacation\"\n                          ? `${item.employee} (${item.dates})`\n                          : item.date}\n                      </ResultDescription>\n                    </ResultContent>\n                  </ResultItem>\n                ))}\n              </ResultGroup>\n            ))\n          )}\n        </SearchResults>\n      </SearchContainer>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import { motion } from \"framer-motion\";\nimport Lottie from \"lottie-react\";\nimport { useEffect, useState } from \"react\";\nimport {\n  FiArrowRight,\n  FiBarChart2,\n  FiCalendar,\n  FiClock,\n  FiPieChart,\n  FiSun,\n  FiUsers,\n} from \"react-icons/fi\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport robotAnimation from \"../assets/animations/robot.json\";\nimport RecentActivities from \"../components/dashboard/RecentActivities\";\nimport SearchBar from \"../components/ui/SearchBar\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport useEmployees from \"../hooks/useEmployees\";\nimport useVacations from \"../hooks/useVacations\";\nimport { formatDate } from \"../utils/dateUtils\";\n\n// Composants stylisés\nconst DashboardContainer = styled.div`\n  padding: 2rem;\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;\n\nconst DashboardHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints.md}) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n`;\n\nconst HeaderLeft = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1.5rem;\n`;\n\nconst AnimationContainer = styled.div`\n  width: 80px;\n  height: 80px;\n  flex-shrink: 0;\n`;\n\nconst TitleContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst PageTitle = styled.h1`\n  font-size: 1.75rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin: 0;\n`;\n\nconst PageDescription = styled.p`\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin: 0.5rem 0 0 0;\n`;\n\nconst WelcomeSection = styled(motion.div)`\n  margin-bottom: 2rem;\n`;\n\nconst WelcomeCard = styled(motion.div)`\n  background: linear-gradient(\n    135deg,\n    ${({ theme }) => theme.colors.primary},\n    ${({ theme }) => theme.colors.primary}dd\n  );\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  padding: 2rem;\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  color: white;\n  position: relative;\n  overflow: hidden;\n\n  h1 {\n    font-size: 1.5rem;\n    margin: 0 0 1rem 0;\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    line-height: 1.5;\n    opacity: 0.9;\n    max-width: 80%;\n  }\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    top: -50px;\n    right: -50px;\n    width: 200px;\n    height: 200px;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.1);\n    z-index: 1;\n  }\n`;\n\nconst SearchSection = styled(motion.div)`\n  margin-bottom: 2rem;\n`;\n\nconst StatsGrid = styled(motion.div)`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n`;\n\nconst StatCard = styled(motion.div)`\n  background-color: ${({ theme }) => theme.colors.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  padding: 1.5rem;\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: ${({ theme }) => theme.shadows.large};\n  }\n`;\n\nconst StatHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n\nconst StatTitle = styled.h3`\n  font-size: 1rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin: 0;\n`;\n\nconst StatIcon = styled.div`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: ${({ color }) => `${color}22`};\n  color: ${({ color }) => color};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.25rem;\n`;\n\nconst StatValue = styled.div`\n  font-size: 1.75rem;\n  font-weight: ${({ theme }) => theme.typography.fontWeights.bold};\n  color: ${({ theme }) => theme.colors.text.primary};\n`;\n\nconst StatInfo = styled.div`\n  font-size: 0.875rem;\n  color: ${({ theme, positive }) =>\n    positive\n      ? theme.colors.success\n      : positive === false\n      ? theme.colors.error\n      : theme.colors.text.secondary};\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  margin-top: 0.5rem;\n`;\n\nconst DashboardSections = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 1.5rem;\n`;\n\nconst SectionTitle = styled.h2`\n  font-size: 1.25rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin: 0 0 1rem 0;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst QuickActionsSection = styled(motion.div)`\n  margin-bottom: 2rem;\n`;\n\nconst QuickActionsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 1rem;\n`;\n\nconst QuickActionCard = styled(motion.div)`\n  background-color: ${({ theme }) => theme.colors.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  padding: 1.5rem;\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n\n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: ${({ theme }) => theme.shadows.large};\n    background-color: ${({ theme, color }) =>\n      color ? `${color}11` : theme.colors.backgroundAlt};\n  }\n`;\n\nconst ActionIcon = styled.div`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background-color: ${({ color }) => `${color}22`};\n  color: ${({ color }) => color};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n`;\n\nconst ActionTitle = styled.h3`\n  font-size: 1rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin: 0 0 0.5rem 0;\n`;\n\nconst ActionDescription = styled.p`\n  font-size: 0.875rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin: 0;\n`;\n\nconst UpcomingSection = styled(motion.div)`\n  background-color: ${({ theme }) => theme.colors.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  padding: 1.5rem;\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  height: fit-content;\n`;\n\nconst UpcomingList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst UpcomingItem = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 0.75rem;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  background-color: ${({ theme, color }) =>\n    color ? `${color}11` : theme.colors.backgroundAlt};\n  transition: all 0.2s ease;\n\n  &:hover {\n    transform: translateX(5px);\n  }\n`;\n\nconst UpcomingIcon = styled.div`\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background-color: ${({ color }) => `${color}22`};\n  color: ${({ color }) => color};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1rem;\n  margin-right: 1rem;\n  flex-shrink: 0;\n`;\n\nconst UpcomingContent = styled.div`\n  flex: 1;\n`;\n\nconst UpcomingTitle = styled.div`\n  font-size: 0.875rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin-bottom: 0.25rem;\n  font-weight: 500;\n`;\n\nconst UpcomingDate = styled.div`\n  font-size: 0.75rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n`;\n\nconst ViewAllLink = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 1rem;\n  font-size: 0.875rem;\n  color: ${({ theme }) => theme.colors.primary};\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst ChartSection = styled(motion.div)`\n  background-color: ${({ theme }) => theme.colors.surface};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  padding: 1.5rem;\n  box-shadow: ${({ theme }) => theme.shadows.medium};\n  margin-bottom: 2rem;\n`;\n\nconst ChartPlaceholder = styled.div`\n  height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${({ theme }) => theme.colors.backgroundAlt};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: 0.875rem;\n`;\n\n// Animations\nconst fadeInUp = {\n  hidden: { opacity: 0, y: 20 },\n  visible: {\n    opacity: 1,\n    y: 0,\n    transition: {\n      duration: 0.5,\n    },\n  },\n};\n\nconst staggerContainer = {\n  hidden: { opacity: 0 },\n  visible: {\n    opacity: 1,\n    transition: {\n      staggerChildren: 0.1,\n    },\n  },\n};\n\nconst Dashboard = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const { employees, isLoading: isLoadingEmployees } = useEmployees();\n  const { vacations, isLoading: isLoadingVacations } = useVacations();\n  const [stats, setStats] = useState({\n    totalEmployees: 0,\n    pendingVacations: 0,\n    upcomingVacations: [],\n    todayAbsent: 0,\n  });\n  const [searchResults, setSearchResults] = useState([]);\n\n  // Fonction pour obtenir le prénom et le nom de l'utilisateur\n  const getUserFullName = () => {\n    if (!user) return \"Utilisateur\";\n    if (user.first_name && user.last_name) {\n      return `${user.first_name} ${user.last_name}`;\n    }\n    return user.username || \"Utilisateur\";\n  };\n\n  // Fonction pour obtenir les résultats de recherche\n  const getSearchResults = (query) => {\n    if (!query || query.length < 2) return [];\n\n    const lowercaseQuery = query.toLowerCase();\n\n    // Filtrer les employés\n    let filteredEmployees = employees.filter(\n      (employee) =>\n        employee.first_name.toLowerCase().includes(lowercaseQuery) ||\n        employee.last_name.toLowerCase().includes(lowercaseQuery) ||\n        employee.email.toLowerCase().includes(lowercaseQuery) ||\n        (employee.department &&\n          employee.department.toLowerCase().includes(lowercaseQuery))\n    );\n\n    // Filtrer les congés\n    let filteredVacations = vacations.filter((vacation) => {\n      const employeeName =\n        `${vacation.employee_first_name} ${vacation.employee_last_name}`.toLowerCase();\n      const startDate = new Date(vacation.start_date).toLocaleDateString(\n        \"fr-FR\"\n      );\n      const endDate = new Date(vacation.end_date).toLocaleDateString(\"fr-FR\");\n      const dateRange = `${startDate} - ${endDate}`;\n\n      return (\n        employeeName.includes(lowercaseQuery) ||\n        (vacation.type &&\n          vacation.type.toLowerCase().includes(lowercaseQuery)) ||\n        dateRange.includes(lowercaseQuery)\n      );\n    });\n\n    // Préparer les résultats\n    const results = [];\n\n    if (filteredEmployees.length > 0) {\n      results.push({\n        title: \"Employés\",\n        items: filteredEmployees.map((employee) => ({\n          id: employee.id,\n          type: \"employee\",\n          name: `${employee.first_name} ${employee.last_name}`,\n          role: employee.department || \"Non spécifié\",\n          color: \"#4F46E5\",\n        })),\n      });\n    }\n\n    if (filteredVacations.length > 0) {\n      results.push({\n        title: \"Congés\",\n        items: filteredVacations.map((vacation) => {\n          // Déterminer la couleur et l'icône en fonction du statut\n          let color = \"#F59E0B\"; // Par défaut (pending)\n\n          if (vacation.status === \"approved\") {\n            color = \"#10B981\";\n          } else if (vacation.status === \"rejected\") {\n            color = \"#EF4444\";\n          }\n\n          const startDate = new Date(vacation.start_date).toLocaleDateString(\n            \"fr-FR\"\n          );\n          const endDate = new Date(vacation.end_date).toLocaleDateString(\n            \"fr-FR\"\n          );\n\n          return {\n            id: vacation.id,\n            type: \"vacation\",\n            name: vacation.type || \"Congé\",\n            employee: `${vacation.employee_first_name} ${vacation.employee_last_name}`,\n            dates: `${startDate} - ${endDate}`,\n            status: vacation.status,\n            color: color,\n          };\n        }),\n      });\n    }\n\n    return results;\n  };\n\n  // Gérer la recherche\n  const handleSearch = (query) => {\n    if (typeof query === \"string\") {\n      const results = getSearchResults(query);\n      setSearchResults(results);\n    } else {\n      // Si un élément de résultat est cliqué\n      console.log(\"Élément sélectionné:\", query);\n\n      // Rediriger vers la page appropriée en fonction du type\n      if (query.type === \"employee\") {\n        navigate(`/employees/${query.id}`);\n      } else if (query.type === \"vacation\") {\n        navigate(`/vacations/${query.id}`);\n      }\n    }\n  };\n\n  // Calculer les statistiques\n  useEffect(() => {\n    if (!isLoadingEmployees && !isLoadingVacations) {\n      // Total des employés\n      const totalEmployees = employees?.length || 0;\n\n      // Demandes de congés en attente\n      const pendingVacations =\n        vacations?.filter((v) => v.status === \"pending\")?.length || 0;\n\n      // Prochains congés (approuvés, à venir)\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n\n      const upcomingVacations =\n        vacations\n          ?.filter((v) => {\n            const startDate = new Date(v.start_date);\n            return v.status === \"approved\" && startDate >= today;\n          })\n          ?.sort((a, b) => new Date(a.start_date) - new Date(b.start_date))\n          ?.slice(0, 5) || [];\n\n      // Employés absents aujourd'hui\n      const todayAbsent =\n        vacations?.filter((v) => {\n          const startDate = new Date(v.start_date);\n          const endDate = new Date(v.end_date);\n          startDate.setHours(0, 0, 0, 0);\n          endDate.setHours(23, 59, 59, 999);\n          return (\n            v.status === \"approved\" && today >= startDate && today <= endDate\n          );\n        })?.length || 0;\n\n      setStats({\n        totalEmployees,\n        pendingVacations,\n        upcomingVacations,\n        todayAbsent,\n      });\n    }\n  }, [employees, vacations, isLoadingEmployees, isLoadingVacations]);\n\n  // Naviguer vers différentes pages\n  const navigateTo = (path) => {\n    navigate(path);\n  };\n\n  return (\n    <DashboardContainer>\n      <DashboardHeader>\n        <HeaderLeft>\n          <AnimationContainer>\n            <Lottie\n              animationData={robotAnimation}\n              loop={true}\n              style={{ width: \"100%\", height: \"100%\" }}\n            />\n          </AnimationContainer>\n          <TitleContainer>\n            <PageTitle>Tableau de bord</PageTitle>\n            <PageDescription>\n              Bienvenue sur votre assistant de planification intelligent\n            </PageDescription>\n          </TitleContainer>\n        </HeaderLeft>\n      </DashboardHeader>\n\n      <WelcomeSection initial=\"hidden\" animate=\"visible\" variants={fadeInUp}>\n        <WelcomeCard>\n          <h1>Bonjour, {getUserFullName()}!</h1>\n          <p>\n            Bienvenue sur votre tableau de bord. Voici un aperçu de votre\n            activité récente et des tâches à venir.\n          </p>\n        </WelcomeCard>\n      </WelcomeSection>\n\n      <SearchSection initial=\"hidden\" animate=\"visible\" variants={fadeInUp}>\n        <SearchBar\n          placeholder=\"Rechercher un employé, un congé...\"\n          onSearch={handleSearch}\n          initialResults={searchResults}\n          customGetResults={true}\n        />\n      </SearchSection>\n\n      <StatsGrid initial=\"hidden\" animate=\"visible\" variants={staggerContainer}>\n        <StatCard variants={fadeInUp}>\n          <StatHeader>\n            <StatTitle>Total employés</StatTitle>\n            <StatIcon color=\"#4F46E5\">\n              <FiUsers />\n            </StatIcon>\n          </StatHeader>\n          <StatValue>{stats.totalEmployees}</StatValue>\n          <StatInfo>Équipe complète</StatInfo>\n        </StatCard>\n\n        <StatCard variants={fadeInUp}>\n          <StatHeader>\n            <StatTitle>Demandes en attente</StatTitle>\n            <StatIcon color=\"#F59E0B\">\n              <FiClock />\n            </StatIcon>\n          </StatHeader>\n          <StatValue>{stats.pendingVacations}</StatValue>\n          <StatInfo positive={stats.pendingVacations === 0}>\n            {stats.pendingVacations === 0\n              ? \"Aucune demande en attente\"\n              : \"Nécessite votre attention\"}\n          </StatInfo>\n        </StatCard>\n\n        <StatCard variants={fadeInUp}>\n          <StatHeader>\n            <StatTitle>Absents aujourd'hui</StatTitle>\n            <StatIcon color=\"#EC4899\">\n              <FiSun />\n            </StatIcon>\n          </StatHeader>\n          <StatValue>{stats.todayAbsent}</StatValue>\n          <StatInfo>\n            {stats.todayAbsent === 0\n              ? \"Tout le monde est présent\"\n              : `${stats.todayAbsent} employé(s) absent(s)`}\n          </StatInfo>\n        </StatCard>\n      </StatsGrid>\n\n      <QuickActionsSection\n        initial=\"hidden\"\n        animate=\"visible\"\n        variants={fadeInUp}\n      >\n        <SectionTitle>\n          <FiBarChart2 size={18} color=\"#4F46E5\" />\n          Actions rapides\n        </SectionTitle>\n        <QuickActionsGrid>\n          <QuickActionCard\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.98 }}\n            onClick={() => navigateTo(\"/employees\")}\n            color=\"#4F46E5\"\n          >\n            <ActionIcon color=\"#4F46E5\">\n              <FiUsers />\n            </ActionIcon>\n            <ActionTitle>Gérer les employés</ActionTitle>\n            <ActionDescription>\n              Ajouter, modifier ou supprimer des employés\n            </ActionDescription>\n          </QuickActionCard>\n\n          <QuickActionCard\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.98 }}\n            onClick={() => navigateTo(\"/vacations\")}\n            color=\"#EC4899\"\n          >\n            <ActionIcon color=\"#EC4899\">\n              <FiSun />\n            </ActionIcon>\n            <ActionTitle>Gérer les congés</ActionTitle>\n            <ActionDescription>\n              Approuver ou rejeter les demandes de congés\n            </ActionDescription>\n          </QuickActionCard>\n\n          <QuickActionCard\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.98 }}\n            onClick={() => navigateTo(\"/schedule\")}\n            color=\"#10B981\"\n          >\n            <ActionIcon color=\"#10B981\">\n              <FiCalendar />\n            </ActionIcon>\n            <ActionTitle>Planning</ActionTitle>\n            <ActionDescription>\n              Consulter et modifier le planning\n            </ActionDescription>\n          </QuickActionCard>\n\n          <QuickActionCard\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.98 }}\n            onClick={() => navigateTo(\"/stats\")}\n            color=\"#F59E0B\"\n          >\n            <ActionIcon color=\"#F59E0B\">\n              <FiPieChart />\n            </ActionIcon>\n            <ActionTitle>Statistiques</ActionTitle>\n            <ActionDescription>\n              Consulter les statistiques de l'entreprise\n            </ActionDescription>\n          </QuickActionCard>\n        </QuickActionsGrid>\n      </QuickActionsSection>\n\n      <DashboardSections>\n        <UpcomingSection initial=\"hidden\" animate=\"visible\" variants={fadeInUp}>\n          <SectionTitle>\n            <FiCalendar size={18} color=\"#EC4899\" />\n            Prochains congés\n          </SectionTitle>\n\n          {stats.upcomingVacations.length === 0 ? (\n            <ChartPlaceholder>Aucun congé à venir</ChartPlaceholder>\n          ) : (\n            <UpcomingList>\n              {stats.upcomingVacations.map((vacation, index) => (\n                <UpcomingItem key={index} color=\"#EC4899\">\n                  <UpcomingIcon color=\"#EC4899\">\n                    <FiSun />\n                  </UpcomingIcon>\n                  <UpcomingContent>\n                    <UpcomingTitle>\n                      {vacation.employee_name ||\n                        `Employé #${vacation.employee_id}`}\n                    </UpcomingTitle>\n                    <UpcomingDate>\n                      <FiCalendar size={12} />\n                      {formatDate(vacation.start_date)} -{\" \"}\n                      {formatDate(vacation.end_date)}\n                    </UpcomingDate>\n                  </UpcomingContent>\n                </UpcomingItem>\n              ))}\n\n              <ViewAllLink onClick={() => navigateTo(\"/vacations\")}>\n                Voir tous les congés{\" \"}\n                <FiArrowRight size={14} style={{ marginLeft: \"4px\" }} />\n              </ViewAllLink>\n            </UpcomingList>\n          )}\n        </UpcomingSection>\n      </DashboardSections>\n\n      <RecentActivities />\n    </DashboardContainer>\n  );\n};\n\nexport default Dashboard;\n"],"names":["useVacations","vacations","setVacations","useState","loading","setLoading","error","setError","api","useApi","isComponentMountedRef","useRef","isFetchingRef","useEffect","current","fetchVacations","useCallback","async","localStorage","getItem","data","get","API_ENDPOINTS","VACATIONS","console","refreshVacations","createVacation","success","formattedData","vacationData","status","response","post","prev","toast","_error$response","_error$response$data","errorMessage","message","updateVacation","id","put","map","vacation","_error$response2","_error$response2$data","deleteVacation","delete","filter","_error$response3","_error$response3$data","updateVacationStatus","comment","arguments","length","undefined","statusText","_error$response4","_error$response4$data","getVacationsByStatus","useActivities","activities","setActivities","user","useAuth","wsActivities","socket","requestActivitiesUpdate","fallbackMode","useWebSocket","fetchActivities","ACTIVITIES","BASE","Array","isArray","Error","activitiesData","err","createActivity","activityData","ok","activity","_response$data","updateActivity","_response$data2","deleteActivity","_response$data3","translateVacationType","type","translateVacationStatus","formatVacationDates","startDate","endDate","start","Date","end","toLocaleDateString","day","month","year","formatActivityDescription","description","entity_type","entity_id","user_id","details","userName","name","create","update","approve","reject","vacation_status_update","employee","schedule","shift","parsedDetails","JSON","parse","e","employee_name","start_date","end_date","employeeName","new_status","newStatus","employee_id","dateRange","typeConge","vacation_type","action","hours","formatActivityDate","timestamp","date","diffMs","diffSec","Math","floor","diffMin","diffHour","diffDay","getActivityIcon","_jsx","FiPlus","FiEdit","FiTrash2","FiCheck","FiX","log","prevActivities","prevActivitiesArray","newActivitiesMap","Map","forEach","set","has","from","values","sort","a","b","interval","setInterval","clearInterval","keyframes","pulse","ActivitiesContainer","styled","div","_ref","theme","colors","surface","_ref2","borderRadius","medium","_ref3","shadows","_ref4","large","ActivitiesHeader","_ref5","border","ActivitiesTitle","h3","_ref6","text","primary","_ref7","RefreshButton","button","_ref8","primaryLight","_ref9","small","_ref10","_ref11","ActivitiesList","ActivityItem","motion","_ref12","_ref13","color","_ref14","_ref15","ActivityIcon","_ref16","_ref17","ActivityContent","ActivityDescription","_ref18","ActivityMeta","_ref19","secondary","ActivityTime","ActivityDate","ActivityEmployee","_ref20","LoadingIndicator","_ref21","ErrorMessage","_ref22","EmptyMessage","_ref23","ViewAllButton","_ref24","_ref25","_ref26","_ref27","Badge","span","_ref28","FiSun","FiInfo","getActivityTypeLabel","vacationType","RecentActivities","navigate","useNavigate","activitiesList","itemVariants","hidden","opacity","y","visible","transition","stiffness","damping","_jsxs","children","FiClock","size","onClick","handleRefresh","disabled","FiRefreshCw","className","_Fragment","variants","staggerChildren","initial","animate","slice","index","getActivityColor","time","format","locale","fr","formatDateTime","employeeId","previousStatus","previous_status","extractActivityDetails","typeLabel","statusLabel","whileHover","scale","FiCalendar","FiUser","handleViewAllActivities","SearchContainer","expanded","SearchInputWrapper","focused","SearchIcon","SearchInput","input","ClearButton","SearchResults","ResultGroup","ResultGroupTitle","typography","fontWeights","semiBold","ResultItem","ResultIcon","ResultContent","ResultTitle","_ref29","ResultDescription","_ref30","HighlightedText","_ref31","_ref32","NoResults","_ref33","_ref34","_ref35","_ref36","_ref37","label","_ref38","_ref39","select","_ref40","_ref41","_ref42","background","_ref43","_ref44","_ref45","_ref46","_ref47","_ref48","placeholder","onSearch","initialResults","customGetResults","query","setQuery","setFocused","showResults","setShowResults","results","setResults","searchRef","inputRef","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","highlightText","split","RegExp","part","toLowerCase","ref","FiSearch","value","onChange","onFocus","handleInputFocus","handleClear","focus","group","groupIndex","title","items","item","itemIndex","handleResultClick","style","marginLeft","FiCheckCircle","FiXCircle","role","dates","DashboardContainer","DashboardHeader","breakpoints","md","HeaderLeft","AnimationContainer","TitleContainer","PageTitle","h1","PageDescription","p","WelcomeSection","WelcomeCard","SearchSection","StatsGrid","StatCard","StatHeader","StatTitle","StatIcon","StatValue","bold","StatInfo","positive","DashboardSections","SectionTitle","h2","QuickActionsSection","QuickActionsGrid","QuickActionCard","backgroundAlt","ActionIcon","ActionTitle","ActionDescription","UpcomingSection","UpcomingList","UpcomingItem","UpcomingIcon","UpcomingContent","UpcomingTitle","UpcomingDate","ViewAllLink","ChartPlaceholder","fadeInUp","duration","staggerContainer","Dashboard","employees","isLoading","isLoadingEmployees","useEmployees","isLoadingVacations","stats","setStats","totalEmployees","pendingVacations","upcomingVacations","todayAbsent","searchResults","setSearchResults","_vacations$filter","_vacations$filter2","_vacations$filter2$so","_vacations$filter3","v","today","setHours","navigateTo","path","Lottie","animationData","robotAnimation","loop","width","height","first_name","last_name","username","SearchBar","lowercaseQuery","filteredEmployees","includes","email","department","filteredVacations","employee_first_name","employee_last_name","push","getSearchResults","FiUsers","FiBarChart2","whileTap","FiPieChart","formatDate","FiArrowRight"],"sourceRoot":""}